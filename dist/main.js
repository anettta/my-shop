/*! For license information please see main.js.LICENSE.txt */
(()=>{var e={7757:(e,t,n)=>{e.exports=n(5666)},7549:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(8081),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,'body{font-family:"Open Sans Condensed",sans-serif;padding:20px 60px;background-color:#e4efe7}a{text-decoration:none;color:#4b4949}*{box-sizing:border-box}',""]);const a=s},7760:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(8081),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".checkout-page{width:55%;min-height:90vh;display:flex;flex-direction:column;align-items:center;margin:50px auto 0}.checkout-page .checkout-header{width:100%;padding:10px 0;display:flex;justify-content:space-between;border-bottom:1px solid #a9a9a9}.checkout-page .checkout-header .header-block{text-transform:capitalize;width:23%}.checkout-page .checkout-header .header-block:last-child{width:8%}.checkout-page .total{margin-top:30px;margin-left:auto;font-size:36px}button{margin-left:auto;margin-top:50px}.test-warning{text-align:center;margin-top:40px;font-size:24px;color:red}",""]);const a=s},9790:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(8081),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".collection-page{display:flex;flex-direction:column}.collection-page .title{font-size:38px;margin:0 auto 30px}.collection-page .items{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;grid-gap:10px}.collection-page .items .collection-item{margin-bottom:30px}",""]);const a=s},1492:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(8081),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".homepage{display:flex;flex-direction:column;align-items:center;padding:20px 80px}",""]);const a=s},9947:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(8081),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,"",""]);const a=s},7484:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(8081),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".sign-in-and-sign-up{width:850px;display:flex;justify-content:space-between;margin:30px auto}",""]);const a=s},1164:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(8081),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,'.custom-button{min-width:165px;width:auto;height:50px;letter-spacing:.5px;line-height:50px;padding:0 35px 0 35px;font-size:12px;background-color:#141414;color:#e9e7e7;text-transform:uppercase;font-family:"Open Sans Condensed";font-weight:bolder;border:none;cursor:pointer;display:flex;justify-content:center}.custom-button:hover{background-color:#fff;color:#000;border:1px solid #000}.custom-button.google-sign-in{background-color:#a3d9c8;color:#141414}.custom-button.google-sign-in:hover{background-color:#81ac9e;border:none}.custom-button.inverted{background-color:#fff;color:#000;border:1px solid #000}.custom-button.inverted:hover{background-color:#000;color:#fff;border:none}',""]);const a=s},4971:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(8081),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".cart-dropdown{position:absolute;width:240px;height:340px;display:flex;flex-direction:column;padding:20px;border:1px dotted #cec9c9;background-color:#c8d3cb;top:90px;right:40px;z-index:5}.cart-dropdown .empty-message{font-size:18px;margin:50px auto}.cart-dropdown .cart-items{height:240px;display:flex;flex-direction:column;overflow:scroll}.cart-dropdown button{margin-top:auto}",""]);const a=s},5582:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(8081),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".cart-icon{width:45px;height:45px;position:relative;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#302f2f}.cart-icon:hover{color:#141414}.cart-icon .shopping-icon{width:30px;height:30px}.cart-icon .item-count{position:absolute;font-size:10px;font-weight:bold;bottom:12px;color:#f8faf8}",""]);const a=s},7732:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(8081),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".cart-item{width:100%;display:flex;height:80px;margin-bottom:15px}.cart-item img{width:30%}.cart-item .item-details{width:70%;display:flex;flex-direction:column;align-items:flex-start;justify-content:center;padding:10px 20px}.cart-item .item-details .name{font-size:16px}",""]);const a=s},6141:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(8081),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".checkout-item{width:100%;display:flex;min-height:100px;border-bottom:1px solid #a9a9a9;padding:15px 0;font-size:20px;align-items:center}.checkout-item .image-container{width:23%;padding-right:15px}.checkout-item .image-container img{width:100%;height:100%}.checkout-item .name,.checkout-item .quantity,.checkout-item .price{width:23%}.checkout-item .quantity{display:flex}.checkout-item .arrow{cursor:pointer}.checkout-item .value{margin:0 10px}.checkout-item .remove-button{padding-left:12px;cursor:pointer}",""]);const a=s},1825:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(8081),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".collection-item{width:22vw;display:flex;flex-direction:column;height:350px;align-items:center;position:relative}.collection-item .image{width:100%;height:95%;background-size:cover;background-position:center;margin-bottom:5px}.collection-item .custom-button{width:80%;opacity:.7;position:absolute;top:255px;display:none}.collection-item:hover .image{opacity:.8}.collection-item:hover .custom-button{opacity:.85;display:flex}.collection-item .collection-footer{width:100%;height:5%;display:flex;justify-content:space-between;font-size:18px}.collection-item .collection-footer .name{width:90%;margin-bottom:15px}.collection-item .collection-footer .price{width:10%}",""]);const a=s},9471:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(8081),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".collection-preview{display:flex;flex-direction:column;margin-bottom:30px}.collection-preview .title{font-size:28px;margin-bottom:25px}.collection-preview .preview{display:flex;justify-content:space-evenly}",""]);const a=s},6156:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(8081),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".collections-overview{display:flex;flex-direction:column}",""]);const a=s},1901:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(8081),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".directory-menu{width:100%;display:flex;flex-wrap:wrap;justify-content:space-between}",""]);const a=s},8110:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(8081),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".group{position:relative;margin:45px 0}.group .form-input{background:none;background:#fff;color:gray;font-size:18px;padding:10px 10px 10px 5px;display:block;width:100%;border:none;border-radius:0;margin:25px 0}.group .form-input:focus{outline:none}.group .form-input:focus~.form-input-label{top:-14px;font-size:12px;color:#000}.group input[type=password]{letter-spacing:.3em}.group .form-input-label{color:gray;font-size:16px;font-weight:normal;position:absolute;pointer-events:none;left:5px;top:10px;transition:300ms ease all}.group .form-input-label.shrink{top:-14px;font-size:12px;color:#000}",""]);const a=s},3825:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(8081),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".header{height:70px;width:100%;display:flex;justify-content:space-between;margin-bottom:25px}.header .logo-container{width:45px;height:45px;position:relative;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#fff}.header .logo{width:28px;height:28px;color:#81ac9e}.header .logo:hover{color:#6b8f83}.header .options{width:50%;height:100%;display:flex;align-items:center;justify-content:flex-end}.header .options .option{padding:10px 15px;cursor:pointer}",""]);const a=s},7896:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(8081),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".menu-item{min-width:30%;height:240px;flex:1 1 auto;display:flex;align-items:center;justify-content:center;border:.1px dotted #cecaca;margin:0 7.5px 15px;overflow:hidden}.menu-item:hover{cursor:pointer}.menu-item:hover .background-image{transform:scale(1.1);transition:transform 6s cubic-bezier(0.25, 0.45, 0.45, 0.95)}.menu-item:hover .content{opacity:.9}.menu-item.large{height:380px}.menu-item:first-child{margin-right:7.5px}.menu-item:last-child{margin-left:7.5px}.menu-item .background-image{width:100%;height:100%;background-position:center;background-size:cover}.menu-item .content{height:90px;padding:0 25px;display:flex;flex-direction:column;align-items:center;justify-content:center;border:.1px dotted #cecaca;background-color:#fff;opacity:.7;position:absolute}.menu-item .content .title{font-weight:bold;margin-bottom:6px;font-size:22px;color:#4a4a4a}.menu-item .content .subtitle{font-weight:lighter;font-size:16px}",""]);const a=s},6176:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(8081),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".sign-in{width:380px;display:flex;flex-direction:column}.title{margin:10px 0}.buttons{display:flex;justify-content:space-between}",""]);const a=s},9787:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(8081),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".sign-up{display:flex;flex-direction:column;width:380px}.sign-up .title{margin:10px 0}",""]);const a=s},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);r&&s[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),t.push(l))}},t}},8081:e=>{"use strict";e.exports=function(e){return e[1]}},8679:(e,t,n)=>{"use strict";var r=n(1296),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var u=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=l(n);h&&(s=s.concat(h(n)));for(var a=c(t),m=c(n),g=0;g<s.length;++g){var y=s[g];if(!(o[y]||r&&r[y]||m&&m[y]||a&&a[y])){var v=d(n,y);try{u(t,y,v)}catch(e){}}}}return t}},6103:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case h:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case u:case d:case g:case m:case c:return e;default:return t}}case i:return t}}}function T(e){return _(e)===h}t.AsyncMode=l,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=c,t.Element=r,t.ForwardRef=d,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return T(e)||_(e)===l},t.isConcurrentMode=T,t.isContextConsumer=function(e){return _(e)===u},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===h||e===a||e===s||e===f||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===c||e.$$typeof===u||e.$$typeof===d||e.$$typeof===v||e.$$typeof===w||e.$$typeof===b||e.$$typeof===y)},t.typeOf=_},1296:(e,t,n)=>{"use strict";e.exports=n(6103)},773:(e,t,n)=>{var r,i="__lodash_hash_undefined__",o=/^\[object .+?Constructor\]$/,s="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,a="object"==typeof self&&self&&self.Object===Object&&self,c=s||a||Function("return this")(),u=Array.prototype,l=Function.prototype,h=Object.prototype,d=c["__core-js_shared__"],f=(r=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",p=l.toString,m=h.hasOwnProperty,g=h.toString,y=RegExp("^"+p.call(m).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),v=u.splice,w=S(c,"Map"),b=S(Object,"create");function _(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function T(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function E(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function I(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!=n&&r!=r)return i;return-1}function k(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function S(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){if(!x(e)||f&&f in e)return!1;var t=function(e){var t=x(e)?g.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?y:o;return t.test(function(e){if(null!=e){try{return p.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(n)?n:void 0}function C(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new(C.Cache||E),n}function x(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}_.prototype.clear=function(){this.__data__=b?b(null):{}},_.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},_.prototype.get=function(e){var t=this.__data__;if(b){var n=t[e];return n===i?void 0:n}return m.call(t,e)?t[e]:void 0},_.prototype.has=function(e){var t=this.__data__;return b?void 0!==t[e]:m.call(t,e)},_.prototype.set=function(e,t){return this.__data__[e]=b&&void 0===t?i:t,this},T.prototype.clear=function(){this.__data__=[]},T.prototype.delete=function(e){var t=this.__data__,n=I(t,e);return!(n<0||(n==t.length-1?t.pop():v.call(t,n,1),0))},T.prototype.get=function(e){var t=this.__data__,n=I(t,e);return n<0?void 0:t[n][1]},T.prototype.has=function(e){return I(this.__data__,e)>-1},T.prototype.set=function(e,t){var n=this.__data__,r=I(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},E.prototype.clear=function(){this.__data__={hash:new _,map:new(w||T),string:new _}},E.prototype.delete=function(e){return k(this,e).delete(e)},E.prototype.get=function(e){return k(this,e).get(e)},E.prototype.has=function(e){return k(this,e).has(e)},E.prototype.set=function(e,t){return k(this,e).set(e,t),this},C.Cache=E,e.exports=C},7418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var s,a,c=i(e),u=1;u<arguments.length;u++){for(var l in s=Object(arguments[u]))n.call(s,l)&&(c[l]=s[l]);if(t){a=t(s);for(var h=0;h<a.length;h++)r.call(s,a[h])&&(c[a[h]]=s[a[h]])}}return c}},2703:(e,t,n)=>{"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5697:(e,t,n)=>{e.exports=n(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4448:(e,t,n)=>{"use strict";var r=n(7294),i=n(7418),o=n(3840);function s(e,t,n,r,i,o,s,a){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,a],u=0;(e=Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw e.framesToPop=1,e}}function a(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);s(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function c(e,t,n,r,i,o,s,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}r||a("227");var u=!1,l=null,h=!1,d=null,f={onError:function(e){u=!0,l=e}};function p(e,t,n,r,i,o,s,a,h){u=!1,l=null,c.apply(f,arguments)}var m=null,g={};function y(){if(m)for(var e in g){var t=g[e],n=m.indexOf(e);if(-1<n||a("96",e),!w[n])for(var r in t.extractEvents||a("97",e),w[n]=t,n=t.eventTypes){var i=void 0,o=n[r],s=t,c=r;b.hasOwnProperty(c)&&a("99",c),b[c]=o;var u=o.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&v(u[i],s,c);i=!0}else o.registrationName?(v(o.registrationName,s,c),i=!0):i=!1;i||a("98",r,e)}}}function v(e,t,n){_[e]&&a("100",e),_[e]=t,T[e]=t.eventTypes[n].dependencies}var w=[],b={},_={},T={},E=null,I=null,k=null;function S(e,t,n){var r=e.type||"unknown-event";e.currentTarget=k(n),function(e,t,n,r,i,o,s,c,f){if(p.apply(this,arguments),u){if(u){var m=l;u=!1,l=null}else a("198"),m=void 0;h||(h=!0,d=m)}}(r,t,void 0,e),e.currentTarget=null}function C(e,t){return null==t&&a("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function x(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var N=null;function A(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)S(e,t[r],n[r]);else t&&S(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var P={injectEventPluginOrder:function(e){m&&a("101"),m=Array.prototype.slice.call(e),y()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];g.hasOwnProperty(t)&&g[t]===r||(g[t]&&a("102",t),g[t]=r,n=!0)}n&&y()}};function O(e,t){var n=e.stateNode;if(!n)return null;var r=E(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&a("231",t,typeof n),n)}function D(e){if(null!==e&&(N=C(N,e)),e=N,N=null,e&&(x(e,A),N&&a("95"),h))throw e=d,h=!1,d=null,e}var R=Math.random().toString(36).slice(2),L="__reactInternalInstance$"+R,M="__reactEventHandlers$"+R;function F(e){if(e[L])return e[L];for(;!e[L];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[L]).tag||6===e.tag?e:null}function U(e){return!(e=e[L])||5!==e.tag&&6!==e.tag?null:e}function j(e){if(5===e.tag||6===e.tag)return e.stateNode;a("33")}function V(e){return e[M]||null}function q(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function B(e,t,n){(t=O(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function z(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=q(t);for(t=n.length;0<t--;)B(n[t],"captured",e);for(t=0;t<n.length;t++)B(n[t],"bubbled",e)}}function $(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=O(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function W(e){e&&e.dispatchConfig.registrationName&&$(e._targetInst,null,e)}function H(e){x(e,z)}var K=!("undefined"==typeof window||!window.document||!window.document.createElement);function G(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Q={animationend:G("Animation","AnimationEnd"),animationiteration:G("Animation","AnimationIteration"),animationstart:G("Animation","AnimationStart"),transitionend:G("Transition","TransitionEnd")},Y={},J={};function Z(e){if(Y[e])return Y[e];if(!Q[e])return e;var t,n=Q[e];for(t in n)if(n.hasOwnProperty(t)&&t in J)return Y[e]=n[t];return e}K&&(J=document.createElement("div").style,"AnimationEvent"in window||(delete Q.animationend.animation,delete Q.animationiteration.animation,delete Q.animationstart.animation),"TransitionEvent"in window||delete Q.transitionend.transition);var X=Z("animationend"),ee=Z("animationiteration"),te=Z("animationstart"),ne=Z("transitionend"),re="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ie=null,oe=null,se=null;function ae(){if(se)return se;var e,t,n=oe,r=n.length,i="value"in ie?ie.value:ie.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return se=i.slice(e,1<t?1-t:void 0)}function ce(){return!0}function ue(){return!1}function le(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ce:ue,this.isPropagationStopped=ue,this}function he(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function de(e){e instanceof this||a("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function fe(e){e.eventPool=[],e.getPooled=he,e.release=de}i(le.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ce)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ce)},persist:function(){this.isPersistent=ce},isPersistent:ue,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=ue,this._dispatchInstances=this._dispatchListeners=null}}),le.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},le.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,fe(n),n},fe(le);var pe=le.extend({data:null}),me=le.extend({data:null}),ge=[9,13,27,32],ye=K&&"CompositionEvent"in window,ve=null;K&&"documentMode"in document&&(ve=document.documentMode);var we=K&&"TextEvent"in window&&!ve,be=K&&(!ye||ve&&8<ve&&11>=ve),_e=String.fromCharCode(32),Te={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Ee=!1;function Ie(e,t){switch(e){case"keyup":return-1!==ge.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function ke(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Se=!1,Ce={eventTypes:Te,extractEvents:function(e,t,n,r){var i=void 0,o=void 0;if(ye)e:{switch(e){case"compositionstart":i=Te.compositionStart;break e;case"compositionend":i=Te.compositionEnd;break e;case"compositionupdate":i=Te.compositionUpdate;break e}i=void 0}else Se?Ie(e,n)&&(i=Te.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=Te.compositionStart);return i?(be&&"ko"!==n.locale&&(Se||i!==Te.compositionStart?i===Te.compositionEnd&&Se&&(o=ae()):(oe="value"in(ie=r)?ie.value:ie.textContent,Se=!0)),i=pe.getPooled(i,t,n,r),(o||null!==(o=ke(n)))&&(i.data=o),H(i),o=i):o=null,(e=we?function(e,t){switch(e){case"compositionend":return ke(t);case"keypress":return 32!==t.which?null:(Ee=!0,_e);case"textInput":return(e=t.data)===_e&&Ee?null:e;default:return null}}(e,n):function(e,t){if(Se)return"compositionend"===e||!ye&&Ie(e,t)?(e=ae(),se=oe=ie=null,Se=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return be&&"ko"!==t.locale?null:t.data}}(e,n))?((t=me.getPooled(Te.beforeInput,t,n,r)).data=e,H(t)):t=null,null===o?t:null===t?o:[o,t]}},xe=null,Ne=null,Ae=null;function Pe(e){if(e=I(e)){"function"!=typeof xe&&a("280");var t=E(e.stateNode);xe(e.stateNode,e.type,t)}}function Oe(e){Ne?Ae?Ae.push(e):Ae=[e]:Ne=e}function De(){if(Ne){var e=Ne,t=Ae;if(Ae=Ne=null,Pe(e),t)for(e=0;e<t.length;e++)Pe(t[e])}}function Re(e,t){return e(t)}function Le(e,t,n){return e(t,n)}function Me(){}var Fe=!1;function Ue(e,t){if(Fe)return e(t);Fe=!0;try{return Re(e,t)}finally{Fe=!1,(null!==Ne||null!==Ae)&&(Me(),De())}}var je={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ve(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!je[e.type]:"textarea"===t}function qe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Be(e){if(!K)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function ze(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $e(e){e._valueTracker||(e._valueTracker=function(e){var t=ze(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function We(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ze(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var He=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;He.hasOwnProperty("ReactCurrentDispatcher")||(He.ReactCurrentDispatcher={current:null});var Ke=/^(.*)[\\\/]/,Ge="function"==typeof Symbol&&Symbol.for,Qe=Ge?Symbol.for("react.element"):60103,Ye=Ge?Symbol.for("react.portal"):60106,Je=Ge?Symbol.for("react.fragment"):60107,Ze=Ge?Symbol.for("react.strict_mode"):60108,Xe=Ge?Symbol.for("react.profiler"):60114,et=Ge?Symbol.for("react.provider"):60109,tt=Ge?Symbol.for("react.context"):60110,nt=Ge?Symbol.for("react.concurrent_mode"):60111,rt=Ge?Symbol.for("react.forward_ref"):60112,it=Ge?Symbol.for("react.suspense"):60113,ot=Ge?Symbol.for("react.memo"):60115,st=Ge?Symbol.for("react.lazy"):60116,at="function"==typeof Symbol&&Symbol.iterator;function ct(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=at&&e[at]||e["@@iterator"])?e:null}function ut(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case nt:return"ConcurrentMode";case Je:return"Fragment";case Ye:return"Portal";case Xe:return"Profiler";case Ze:return"StrictMode";case it:return"Suspense"}if("object"==typeof e)switch(e.$$typeof){case tt:return"Context.Consumer";case et:return"Context.Provider";case rt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case ot:return ut(e.type);case st:if(e=1===e._status?e._result:null)return ut(e)}return null}function lt(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=ut(e.type);n=null,r&&(n=ut(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(Ke,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}var ht=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dt=Object.prototype.hasOwnProperty,ft={},pt={};function mt(e,t,n,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){gt[e]=new mt(e,0,!1,e,null)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];gt[t]=new mt(t,1,!1,e[1],null)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){gt[e]=new mt(e,2,!1,e.toLowerCase(),null)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){gt[e]=new mt(e,2,!1,e,null)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){gt[e]=new mt(e,3,!1,e.toLowerCase(),null)})),["checked","multiple","muted","selected"].forEach((function(e){gt[e]=new mt(e,3,!0,e,null)})),["capture","download"].forEach((function(e){gt[e]=new mt(e,4,!1,e,null)})),["cols","rows","size","span"].forEach((function(e){gt[e]=new mt(e,6,!1,e,null)})),["rowSpan","start"].forEach((function(e){gt[e]=new mt(e,5,!1,e.toLowerCase(),null)}));var yt=/[\-:]([a-z])/g;function vt(e){return e[1].toUpperCase()}function wt(e,t,n,r){var i=gt.hasOwnProperty(t)?gt[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!dt.call(pt,e)||!dt.call(ft,e)&&(ht.test(e)?pt[e]=!0:(ft[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function bt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function _t(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Tt(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=bt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Et(e,t){null!=(t=t.checked)&&wt(e,"checked",t,!1)}function It(e,t){Et(e,t);var n=bt(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?St(e,t.type,n):t.hasOwnProperty("defaultValue")&&St(e,t.type,bt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function kt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function St(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(yt,vt);gt[t]=new mt(t,1,!1,e,null)})),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(yt,vt);gt[t]=new mt(t,1,!1,e,"http://www.w3.org/1999/xlink")})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(yt,vt);gt[t]=new mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")})),["tabIndex","crossOrigin"].forEach((function(e){gt[e]=new mt(e,1,!1,e.toLowerCase(),null)}));var Ct={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function xt(e,t,n){return(e=le.getPooled(Ct.change,e,t,n)).type="change",Oe(n),H(e),e}var Nt=null,At=null;function Pt(e){D(e)}function Ot(e){if(We(j(e)))return e}function Dt(e,t){if("change"===e)return t}var Rt=!1;function Lt(){Nt&&(Nt.detachEvent("onpropertychange",Mt),At=Nt=null)}function Mt(e){"value"===e.propertyName&&Ot(At)&&Ue(Pt,e=xt(At,e,qe(e)))}function Ft(e,t,n){"focus"===e?(Lt(),At=n,(Nt=t).attachEvent("onpropertychange",Mt)):"blur"===e&&Lt()}function Ut(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ot(At)}function jt(e,t){if("click"===e)return Ot(t)}function Vt(e,t){if("input"===e||"change"===e)return Ot(t)}K&&(Rt=Be("input")&&(!document.documentMode||9<document.documentMode));var qt={eventTypes:Ct,_isInputEventSupported:Rt,extractEvents:function(e,t,n,r){var i=t?j(t):window,o=void 0,s=void 0,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type?o=Dt:Ve(i)?Rt?o=Vt:(o=Ut,s=Ft):(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=jt),o&&(o=o(e,t)))return xt(o,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&St(i,"number",i.value)}},Bt=le.extend({view:null,detail:null}),zt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $t(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=zt[e])&&!!t[e]}function Wt(){return $t}var Ht=0,Kt=0,Gt=!1,Qt=!1,Yt=Bt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Wt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ht;return Ht=e.screenX,Gt?"mousemove"===e.type?e.screenX-t:0:(Gt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Kt;return Kt=e.screenY,Qt?"mousemove"===e.type?e.screenY-t:0:(Qt=!0,0)}}),Jt=Yt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Zt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Xt={eventTypes:Zt,extractEvents:function(e,t,n,r){var i="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=t,t=(t=n.relatedTarget||n.toElement)?F(t):null):o=null,o===t)return null;var s=void 0,a=void 0,c=void 0,u=void 0;"mouseout"===e||"mouseover"===e?(s=Yt,a=Zt.mouseLeave,c=Zt.mouseEnter,u="mouse"):"pointerout"!==e&&"pointerover"!==e||(s=Jt,a=Zt.pointerLeave,c=Zt.pointerEnter,u="pointer");var l=null==o?i:j(o);if(i=null==t?i:j(t),(e=s.getPooled(a,o,n,r)).type=u+"leave",e.target=l,e.relatedTarget=i,(n=s.getPooled(c,t,n,r)).type=u+"enter",n.target=i,n.relatedTarget=l,r=t,o&&r)e:{for(i=r,u=0,s=t=o;s;s=q(s))u++;for(s=0,c=i;c;c=q(c))s++;for(;0<u-s;)t=q(t),u--;for(;0<s-u;)i=q(i),s--;for(;u--;){if(t===i||t===i.alternate)break e;t=q(t),i=q(i)}t=null}else t=null;for(i=t,t=[];o&&o!==i&&(null===(u=o.alternate)||u!==i);)t.push(o),o=q(o);for(o=[];r&&r!==i&&(null===(u=r.alternate)||u!==i);)o.push(r),r=q(r);for(r=0;r<t.length;r++)$(t[r],"bubbled",e);for(r=o.length;0<r--;)$(o[r],"captured",n);return[e,n]}};function en(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var tn=Object.prototype.hasOwnProperty;function nn(e,t){if(en(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!tn.call(t,n[r])||!en(e[n[r]],t[n[r]]))return!1;return!0}function rn(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function on(e){2!==rn(e)&&a("188")}function sn(e){if(e=function(e){var t=e.alternate;if(!t)return 3===(t=rn(e))&&a("188"),1===t?null:e;for(var n=e,r=t;;){var i=n.return,o=i?i.alternate:null;if(!i||!o)break;if(i.child===o.child){for(var s=i.child;s;){if(s===n)return on(i),e;if(s===r)return on(i),t;s=s.sibling}a("188")}if(n.return!==r.return)n=i,r=o;else{s=!1;for(var c=i.child;c;){if(c===n){s=!0,n=i,r=o;break}if(c===r){s=!0,r=i,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,r=i;break}if(c===r){s=!0,r=o,n=i;break}c=c.sibling}s||a("189")}}n.alternate!==r&&a("190")}return 3!==n.tag&&a("188"),n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var an=le.extend({animationName:null,elapsedTime:null,pseudoElement:null}),cn=le.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),un=Bt.extend({relatedTarget:null});function ln(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn=Bt.extend({key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ln(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Wt,charCode:function(e){return"keypress"===e.type?ln(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ln(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),pn=Yt.extend({dataTransfer:null}),mn=Bt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Wt}),gn=le.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),yn=Yt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),vn=[["abort","abort"],[X,"animationEnd"],[ee,"animationIteration"],[te,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ne,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],wn={},bn={};function _n(e,t){var n=e[0],r="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},wn[e]=t,bn[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach((function(e){_n(e,!0)})),vn.forEach((function(e){_n(e,!1)}));var Tn={eventTypes:wn,isInteractiveTopLevelEventType:function(e){return void 0!==(e=bn[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var i=bn[e];if(!i)return null;switch(e){case"keypress":if(0===ln(n))return null;case"keydown":case"keyup":e=fn;break;case"blur":case"focus":e=un;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Yt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=mn;break;case X:case ee:case te:e=an;break;case ne:e=gn;break;case"scroll":e=Bt;break;case"wheel":e=yn;break;case"copy":case"cut":case"paste":e=cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Jt;break;default:e=le}return H(t=e.getPooled(i,t,n,r)),t}},En=Tn.isInteractiveTopLevelEventType,In=[];function kn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(n),n=F(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=qe(e.nativeEvent);r=e.topLevelType;for(var o=e.nativeEvent,s=null,a=0;a<w.length;a++){var c=w[a];c&&(c=c.extractEvents(r,t,o,i))&&(s=C(s,c))}D(s)}}var Sn=!0;function Cn(e,t){if(!t)return null;var n=(En(e)?Nn:An).bind(null,e);t.addEventListener(e,n,!1)}function xn(e,t){if(!t)return null;var n=(En(e)?Nn:An).bind(null,e);t.addEventListener(e,n,!0)}function Nn(e,t){Le(An,e,t)}function An(e,t){if(Sn){var n=qe(t);if(null===(n=F(n))||"number"!=typeof n.tag||2===rn(n)||(n=null),In.length){var r=In.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{Ue(kn,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>In.length&&In.push(e)}}}var Pn={},On=0,Dn="_reactListenersID"+(""+Math.random()).slice(2);function Rn(e){return Object.prototype.hasOwnProperty.call(e,Dn)||(e[Dn]=On++,Pn[e[Dn]]={}),Pn[e[Dn]]}function Ln(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Mn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fn(e,t){var n,r=Mn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mn(r)}}function Un(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Un(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function jn(){for(var e=window,t=Ln();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Ln((e=t.contentWindow).document)}return t}function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function qn(e){var t=jn(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Un(n.ownerDocument.documentElement,n)){if(null!==r&&Vn(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Fn(n,o);var s=Fn(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Bn=K&&"documentMode"in document&&11>=document.documentMode,zn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},$n=null,Wn=null,Hn=null,Kn=!1;function Gn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Kn||null==$n||$n!==Ln(n)?null:(n="selectionStart"in(n=$n)&&Vn(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Hn&&nn(Hn,n)?null:(Hn=n,(e=le.getPooled(zn.select,Wn,e,t)).type="select",e.target=$n,H(e),e))}var Qn={eventTypes:zn,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=Rn(o),i=T.onSelect;for(var s=0;s<i.length;s++){var a=i[s];if(!o.hasOwnProperty(a)||!o[a]){o=!1;break e}}o=!0}i=!o}if(i)return null;switch(o=t?j(t):window,e){case"focus":(Ve(o)||"true"===o.contentEditable)&&($n=o,Wn=t,Hn=null);break;case"blur":Hn=Wn=$n=null;break;case"mousedown":Kn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Kn=!1,Gn(n,r);case"selectionchange":if(Bn)break;case"keydown":case"keyup":return Gn(n,r)}return null}};function Yn(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Jn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+bt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Zn(e,t){return null!=t.dangerouslySetInnerHTML&&a("91"),i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xn(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&a("92"),Array.isArray(t)&&(1>=t.length||a("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:bt(n)}}function er(e,t){var n=bt(t.value),r=bt(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function tr(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}P.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),E=V,I=U,k=j,P.injectEventPluginsByName({SimpleEventPlugin:Tn,EnterLeaveEventPlugin:Xt,ChangeEventPlugin:qt,SelectEventPlugin:Qn,BeforeInputEventPlugin:Ce});var nr="http://www.w3.org/1999/xhtml";function rr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ir(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?rr(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var or,sr=void 0,ar=(or=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((sr=sr||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=sr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return or(e,t)}))}:or);function cr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ur={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lr=["Webkit","ms","Moz","O"];function hr(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ur.hasOwnProperty(e)&&ur[e]?(""+t).trim():t+"px"}function dr(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=hr(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ur).forEach((function(e){lr.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ur[t]=ur[e]}))}));var fr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pr(e,t){t&&(fr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&a("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&a("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||a("61")),null!=t.style&&"object"!=typeof t.style&&a("62",""))}function mr(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function gr(e,t){var n=Rn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=T[t];for(var r=0;r<t.length;r++){var i=t[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":xn("scroll",e);break;case"focus":case"blur":xn("focus",e),xn("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":Be(i)&&xn(i,e);break;case"invalid":case"submit":case"reset":break;default:-1===re.indexOf(i)&&Cn(i,e)}n[i]=!0}}}function yr(){}var vr=null,wr=null;function br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function _r(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Tr="function"==typeof setTimeout?setTimeout:void 0,Er="function"==typeof clearTimeout?clearTimeout:void 0,Ir=o.unstable_scheduleCallback,kr=o.unstable_cancelCallback;function Sr(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function Cr(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var xr=[],Nr=-1;function Ar(e){0>Nr||(e.current=xr[Nr],xr[Nr]=null,Nr--)}function Pr(e,t){Nr++,xr[Nr]=e.current,e.current=t}var Or={},Dr={current:Or},Rr={current:!1},Lr=Or;function Mr(e,t){var n=e.type.contextTypes;if(!n)return Or;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Fr(e){return null!=e.childContextTypes}function Ur(e){Ar(Rr),Ar(Dr)}function jr(e){Ar(Rr),Ar(Dr)}function Vr(e,t,n){Dr.current!==Or&&a("168"),Pr(Dr,t),Pr(Rr,n)}function qr(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())o in e||a("108",ut(t)||"Unknown",o);return i({},n,r)}function Br(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Or,Lr=Dr.current,Pr(Dr,t),Pr(Rr,Rr.current),!0}function zr(e,t,n){var r=e.stateNode;r||a("169"),n?(t=qr(e,t,Lr),r.__reactInternalMemoizedMergedChildContext=t,Ar(Rr),Ar(Dr),Pr(Dr,t)):Ar(Rr),Pr(Rr,n)}var $r=null,Wr=null;function Hr(e){return function(t){try{return e(t)}catch(e){}}}function Kr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Gr(e,t,n,r){return new Kr(e,t,n,r)}function Qr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Yr(e,t){var n=e.alternate;return null===n?((n=Gr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.contextDependencies=e.contextDependencies,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Jr(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Qr(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case Je:return Zr(n.children,i,o,t);case nt:return Xr(n,3|i,o,t);case Ze:return Xr(n,2|i,o,t);case Xe:return(e=Gr(12,n,t,4|i)).elementType=Xe,e.type=Xe,e.expirationTime=o,e;case it:return(e=Gr(13,n,t,i)).elementType=it,e.type=it,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case et:s=10;break e;case tt:s=9;break e;case rt:s=11;break e;case ot:s=14;break e;case st:s=16,r=null;break e}a("130",null==e?e:typeof e,"")}return(t=Gr(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Zr(e,t,n,r){return(e=Gr(7,e,r,t)).expirationTime=n,e}function Xr(e,t,n,r){return e=Gr(8,e,r,t),t=0==(1&t)?Ze:nt,e.elementType=t,e.type=t,e.expirationTime=n,e}function ei(e,t,n){return(e=Gr(6,e,null,t)).expirationTime=n,e}function ti(e,t,n){return(t=Gr(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ni(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),oi(t,e)}function ri(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var n=e.earliestPendingTime,r=e.latestPendingTime;n===t?e.earliestPendingTime=r===t?e.latestPendingTime=0:r:r===t&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,r=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:n<t?e.earliestSuspendedTime=t:r>t&&(e.latestSuspendedTime=t),oi(t,e)}function ii(e,t){var n=e.earliestPendingTime;return n>t&&(t=n),(e=e.earliestSuspendedTime)>t&&(t=e),t}function oi(e,t){var n=t.earliestSuspendedTime,r=t.latestSuspendedTime,i=t.earliestPendingTime,o=t.latestPingedTime;0===(i=0!==i?i:o)&&(0===e||r<e)&&(i=r),0!==(e=i)&&n>e&&(e=n),t.nextExpirationTimeToWorkOn=i,t.expirationTime=e}function si(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var ai=(new r.Component).refs;function ci(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var ui={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===rn(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=ga(),i=Wo(r=qs(r,e));i.payload=t,null!=n&&(i.callback=n),Ls(),Ko(e,i),Ws(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=ga(),i=Wo(r=qs(r,e));i.tag=Vo,i.payload=t,null!=n&&(i.callback=n),Ls(),Ko(e,i),Ws(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=ga(),r=Wo(n=qs(n,e));r.tag=qo,null!=t&&(r.callback=t),Ls(),Ko(e,r),Ws(e,n)}};function li(e,t,n,r,i,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!(t.prototype&&t.prototype.isPureReactComponent&&nn(n,r)&&nn(i,o))}function hi(e,t,n){var r=!1,i=Or,o=t.contextType;return"object"==typeof o&&null!==o?o=Mo(o):(i=Fr(t)?Lr:Dr.current,o=(r=null!=(r=t.contextTypes))?Mr(e,i):Or),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ui,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function di(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ui.enqueueReplaceState(t,t.state,null)}function fi(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ai;var o=t.contextType;"object"==typeof o&&null!==o?i.context=Mo(o):(o=Fr(t)?Lr:Dr.current,i.context=Mr(e,o)),null!==(o=e.updateQueue)&&(Jo(e,o,n,i,r),i.state=e.memoizedState),"function"==typeof(o=t.getDerivedStateFromProps)&&(ci(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ui.enqueueReplaceState(i,i.state,null),null!==(o=e.updateQueue)&&(Jo(e,o,n,i,r),i.state=e.memoizedState)),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var pi=Array.isArray;function mi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&a("309"),r=n.stateNode),r||a("147",e);var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===ai&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}"string"!=typeof e&&a("284"),n._owner||a("290",e)}return e}function gi(e,t){"textarea"!==e.type&&a("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function yi(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=Yr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=ei(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=mi(e,t,n),r.return=e,r):((r=Jr(n.type,n.key,n.props,null,e.mode,r)).ref=mi(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ti(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Zr(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=ei(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Qe:return(n=Jr(t.type,t.key,t.props,null,e.mode,n)).ref=mi(e,null,t),n.return=e,n;case Ye:return(t=ti(t,e.mode,n)).return=e,t}if(pi(t)||ct(t))return(t=Zr(t,e.mode,n,null)).return=e,t;gi(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Qe:return n.key===i?n.type===Je?h(e,t,n.props.children,r,i):u(e,t,n,r):null;case Ye:return n.key===i?l(e,t,n,r):null}if(pi(n)||ct(n))return null!==i?null:h(e,t,n,r,null);gi(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Qe:return e=e.get(null===r.key?n:r.key)||null,r.type===Je?h(t,e,r.props.children,i,r.key):u(t,e,r,i);case Ye:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(pi(r)||ct(r))return h(t,e=e.get(n)||null,r,i,null);gi(t,r)}return null}function m(i,s,a,c){for(var u=null,l=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],c);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),s=o(y,s,m),null===l?u=y:l.sibling=y,l=y,h=g}if(m===a.length)return n(i,h),u;if(null===h){for(;m<a.length;m++)(h=d(i,a[m],c))&&(s=o(h,s,m),null===l?u=h:l.sibling=h,l=h);return u}for(h=r(i,h);m<a.length;m++)(g=p(h,i,m,a[m],c))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===l?u=g:l.sibling=g,l=g);return e&&h.forEach((function(e){return t(i,e)})),u}function g(i,s,c,u){var l=ct(c);"function"!=typeof l&&a("150"),null==(c=l.call(c))&&a("151");for(var h=l=null,m=s,g=s=0,y=null,v=c.next();null!==m&&!v.done;g++,v=c.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(i,m,v.value,u);if(null===w){m||(m=y);break}e&&m&&null===w.alternate&&t(i,m),s=o(w,s,g),null===h?l=w:h.sibling=w,h=w,m=y}if(v.done)return n(i,m),l;if(null===m){for(;!v.done;g++,v=c.next())null!==(v=d(i,v.value,u))&&(s=o(v,s,g),null===h?l=v:h.sibling=v,h=v);return l}for(m=r(i,m);!v.done;g++,v=c.next())null!==(v=p(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=o(v,s,g),null===h?l=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),l}return function(e,r,o,c){var u="object"==typeof o&&null!==o&&o.type===Je&&null===o.key;u&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case Qe:e:{for(l=o.key,u=r;null!==u;){if(u.key===l){if(7===u.tag?o.type===Je:u.elementType===o.type){n(e,u.sibling),(r=i(u,o.type===Je?o.props.children:o.props)).ref=mi(e,u,o),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}o.type===Je?((r=Zr(o.props.children,e.mode,c,o.key)).return=e,e=r):((c=Jr(o.type,o.key,o.props,null,e.mode,c)).ref=mi(e,r,o),c.return=e,e=c)}return s(e);case Ye:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=ti(o,e.mode,c)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=ei(o,e.mode,c)).return=e,e=r),s(e);if(pi(o))return m(e,r,o,c);if(ct(o))return g(e,r,o,c);if(l&&gi(e,o),void 0===o&&!u)switch(e.tag){case 1:case 0:a("152",(c=e.type).displayName||c.name||"Component")}return n(e,r)}}var vi=yi(!0),wi=yi(!1),bi={},_i={current:bi},Ti={current:bi},Ei={current:bi};function Ii(e){return e===bi&&a("174"),e}function ki(e,t){Pr(Ei,t),Pr(Ti,e),Pr(_i,bi);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ir(null,"");break;default:t=ir(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}Ar(_i),Pr(_i,t)}function Si(e){Ar(_i),Ar(Ti),Ar(Ei)}function Ci(e){Ii(Ei.current);var t=Ii(_i.current),n=ir(t,e.type);t!==n&&(Pr(Ti,e),Pr(_i,n))}function xi(e){Ti.current===e&&(Ar(_i),Ar(Ti))}var Ni=He.ReactCurrentDispatcher,Ai=0,Pi=null,Oi=null,Di=null,Ri=null,Li=null,Mi=null,Fi=0,Ui=null,ji=0,Vi=!1,qi=null,Bi=0;function zi(){a("321")}function $i(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!en(e[n],t[n]))return!1;return!0}function Wi(e,t,n,r,i,o){if(Ai=o,Pi=t,Di=null!==e?e.memoizedState:null,Ni.current=null===Di?io:oo,t=n(r,i),Vi){do{Vi=!1,Bi+=1,Di=null!==e?e.memoizedState:null,Mi=Ri,Ui=Li=Oi=null,Ni.current=oo,t=n(r,i)}while(Vi);qi=null,Bi=0}return Ni.current=ro,(e=Pi).memoizedState=Ri,e.expirationTime=Fi,e.updateQueue=Ui,e.effectTag|=ji,e=null!==Oi&&null!==Oi.next,Ai=0,Mi=Li=Ri=Di=Oi=Pi=null,Fi=0,Ui=null,ji=0,e&&a("300"),t}function Hi(){Ni.current=ro,Ai=0,Mi=Li=Ri=Di=Oi=Pi=null,Fi=0,Ui=null,ji=0,Vi=!1,qi=null,Bi=0}function Ki(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Li?Ri=Li=e:Li=Li.next=e,Li}function Gi(){if(null!==Mi)Mi=(Li=Mi).next,Di=null!==(Oi=Di)?Oi.next:null;else{null===Di&&a("310");var e={memoizedState:(Oi=Di).memoizedState,baseState:Oi.baseState,queue:Oi.queue,baseUpdate:Oi.baseUpdate,next:null};Li=null===Li?Ri=e:Li.next=e,Di=Oi.next}return Li}function Qi(e,t){return"function"==typeof t?t(e):t}function Yi(e){var t=Gi(),n=t.queue;if(null===n&&a("311"),n.lastRenderedReducer=e,0<Bi){var r=n.dispatch;if(null!==qi){var i=qi.get(n);if(void 0!==i){qi.delete(n);var o=t.memoizedState;do{o=e(o,i.action),i=i.next}while(null!==i);return en(o,t.memoizedState)||(yo=!0),t.memoizedState=o,t.baseUpdate===n.last&&(t.baseState=o),n.lastRenderedState=o,[o,r]}}return[t.memoizedState,r]}r=n.last;var s=t.baseUpdate;if(o=t.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var c=i=null,u=r,l=!1;do{var h=u.expirationTime;h<Ai?(l||(l=!0,c=s,i=o),h>Fi&&(Fi=h)):o=u.eagerReducer===e?u.eagerState:e(o,u.action),s=u,u=u.next}while(null!==u&&u!==r);l||(c=s,i=o),en(o,t.memoizedState)||(yo=!0),t.memoizedState=o,t.baseUpdate=c,t.baseState=i,n.lastRenderedState=o}return[t.memoizedState,n.dispatch]}function Ji(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===Ui?(Ui={lastEffect:null}).lastEffect=e.next=e:null===(t=Ui.lastEffect)?Ui.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,Ui.lastEffect=e),e}function Zi(e,t,n,r){var i=Ki();ji|=e,i.memoizedState=Ji(t,n,void 0,void 0===r?null:r)}function Xi(e,t,n,r){var i=Gi();r=void 0===r?null:r;var o=void 0;if(null!==Oi){var s=Oi.memoizedState;if(o=s.destroy,null!==r&&$i(r,s.deps))return void Ji(0,n,o,r)}ji|=e,i.memoizedState=Ji(t,n,o,r)}function eo(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function to(){}function no(e,t,n){25>Bi||a("301");var r=e.alternate;if(e===Pi||null!==r&&r===Pi)if(Vi=!0,e={expirationTime:Ai,action:n,eagerReducer:null,eagerState:null,next:null},null===qi&&(qi=new Map),void 0===(n=qi.get(t)))qi.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{Ls();var i=ga(),o={expirationTime:i=qs(i,e),action:n,eagerReducer:null,eagerState:null,next:null},s=t.last;if(null===s)o.next=o;else{var c=s.next;null!==c&&(o.next=c),s.next=o}if(t.last=o,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var u=t.lastRenderedState,l=r(u,n);if(o.eagerReducer=r,o.eagerState=l,en(l,u))return}catch(e){}Ws(e,i)}}var ro={readContext:Mo,useCallback:zi,useContext:zi,useEffect:zi,useImperativeHandle:zi,useLayoutEffect:zi,useMemo:zi,useReducer:zi,useRef:zi,useState:zi,useDebugValue:zi},io={readContext:Mo,useCallback:function(e,t){return Ki().memoizedState=[e,void 0===t?null:t],e},useContext:Mo,useEffect:function(e,t){return Zi(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Zi(4,36,eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zi(4,36,e,t)},useMemo:function(e,t){var n=Ki();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ki();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=no.bind(null,Pi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ki().memoizedState=e},useState:function(e){var t=Ki();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:e}).dispatch=no.bind(null,Pi,e),[t.memoizedState,e]},useDebugValue:to},oo={readContext:Mo,useCallback:function(e,t){var n=Gi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&$i(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:Mo,useEffect:function(e,t){return Xi(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Xi(4,36,eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xi(4,36,e,t)},useMemo:function(e,t){var n=Gi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&$i(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:Yi,useRef:function(){return Gi().memoizedState},useState:function(e){return Yi(Qi)},useDebugValue:to},so=null,ao=null,co=!1;function uo(e,t){var n=Gr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function lo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function ho(e){if(co){var t=ao;if(t){var n=t;if(!lo(e,t)){if(!(t=Sr(n))||!lo(e,t))return e.effectTag|=2,co=!1,void(so=e);uo(so,n)}so=e,ao=Cr(t)}else e.effectTag|=2,co=!1,so=e}}function fo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;so=e}function po(e){if(e!==so)return!1;if(!co)return fo(e),co=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!_r(t,e.memoizedProps))for(t=ao;t;)uo(e,t),t=Sr(t);return fo(e),ao=so?Sr(e.stateNode):null,!0}function mo(){ao=so=null,co=!1}var go=He.ReactCurrentOwner,yo=!1;function vo(e,t,n,r){t.child=null===e?wi(t,null,n,r):vi(t,e.child,n,r)}function wo(e,t,n,r,i){n=n.render;var o=t.ref;return Lo(t,i),r=Wi(e,t,n,r,o,i),null===e||yo?(t.effectTag|=1,vo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),xo(e,t,i))}function bo(e,t,n,r,i,o){if(null===e){var s=n.type;return"function"!=typeof s||Qr(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Jr(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,_o(e,t,s,r,i,o))}return s=e.child,i<o&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:nn)(i,r)&&e.ref===t.ref)?xo(e,t,o):(t.effectTag|=1,(e=Yr(s,r)).ref=t.ref,e.return=t,t.child=e)}function _o(e,t,n,r,i,o){return null!==e&&nn(e.memoizedProps,r)&&e.ref===t.ref&&(yo=!1,i<o)?xo(e,t,o):Eo(e,t,n,r,o)}function To(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Eo(e,t,n,r,i){var o=Fr(n)?Lr:Dr.current;return o=Mr(t,o),Lo(t,i),n=Wi(e,t,n,r,o,i),null===e||yo?(t.effectTag|=1,vo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),xo(e,t,i))}function Io(e,t,n,r,i){if(Fr(n)){var o=!0;Br(t)}else o=!1;if(Lo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),hi(t,n,r),fi(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,u=n.contextType;u="object"==typeof u&&null!==u?Mo(u):Mr(t,u=Fr(n)?Lr:Dr.current);var l=n.getDerivedStateFromProps,h="function"==typeof l||"function"==typeof s.getSnapshotBeforeUpdate;h||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||c!==u)&&di(t,s,r,u),Bo=!1;var d=t.memoizedState;c=s.state=d;var f=t.updateQueue;null!==f&&(Jo(t,f,r,s,i),c=t.memoizedState),a!==r||d!==c||Rr.current||Bo?("function"==typeof l&&(ci(t,n,l,r),c=t.memoizedState),(a=Bo||li(t,n,a,r,d,c,u))?(h||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.effectTag|=4)):("function"==typeof s.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=u,r=a):("function"==typeof s.componentDidMount&&(t.effectTag|=4),r=!1)}else s=t.stateNode,a=t.memoizedProps,s.props=t.type===t.elementType?a:si(t.type,a),c=s.context,u="object"==typeof(u=n.contextType)&&null!==u?Mo(u):Mr(t,u=Fr(n)?Lr:Dr.current),(h="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||c!==u)&&di(t,s,r,u),Bo=!1,c=t.memoizedState,d=s.state=c,null!==(f=t.updateQueue)&&(Jo(t,f,r,s,i),d=t.memoizedState),a!==r||c!==d||Rr.current||Bo?("function"==typeof l&&(ci(t,n,l,r),d=t.memoizedState),(l=Bo||li(t,n,a,r,c,d,u))?(h||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,d,u),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,d,u)),"function"==typeof s.componentDidUpdate&&(t.effectTag|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),s.props=r,s.state=d,s.context=u,r=l):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),r=!1);return ko(e,t,n,r,o,i)}function ko(e,t,n,r,i,o){To(e,t);var s=0!=(64&t.effectTag);if(!r&&!s)return i&&zr(t,n,!1),xo(e,t,o);r=t.stateNode,go.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&s?(t.child=vi(t,e.child,null,o),t.child=vi(t,null,a,o)):vo(e,t,a,o),t.memoizedState=r.state,i&&zr(t,n,!0),t.child}function So(e){var t=e.stateNode;t.pendingContext?Vr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Vr(0,t.context,!1),ki(e,t.containerInfo)}function Co(e,t,n){var r=t.mode,i=t.pendingProps,o=t.memoizedState;if(0==(64&t.effectTag)){o=null;var s=!1}else o={timedOutAt:null!==o?o.timedOutAt:0},s=!0,t.effectTag&=-65;if(null===e)if(s){var a=i.fallback;e=Zr(null,r,0,null),0==(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child),r=Zr(a,r,n,null),e.sibling=r,(n=e).return=r.return=t}else n=r=wi(t,null,i.children,n);else null!==e.memoizedState?(a=(r=e.child).sibling,s?(n=i.fallback,i=Yr(r,r.pendingProps),0==(1&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==r.child&&(i.child=s),r=i.sibling=Yr(a,n,a.expirationTime),n=i,i.childExpirationTime=0,n.return=r.return=t):n=r=vi(t,r.child,i.children,n)):(a=e.child,s?(s=i.fallback,(i=Zr(null,r,0,null)).child=a,0==(1&t.mode)&&(i.child=null!==t.memoizedState?t.child.child:t.child),(r=i.sibling=Zr(s,r,n,null)).effectTag|=2,n=i,i.childExpirationTime=0,n.return=r.return=t):r=n=vi(t,a,i.children,n)),t.stateNode=e.stateNode;return t.memoizedState=o,t.child=n,r}function xo(e,t,n){if(null!==e&&(t.contextDependencies=e.contextDependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child&&a("153"),null!==t.child){for(n=Yr(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Yr(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}var No={current:null},Ao=null,Po=null,Oo=null;function Do(e,t){var n=e.type._context;Pr(No,n._currentValue),n._currentValue=t}function Ro(e){var t=No.current;Ar(No),e.type._context._currentValue=t}function Lo(e,t){Ao=e,Oo=Po=null;var n=e.contextDependencies;null!==n&&n.expirationTime>=t&&(yo=!0),e.contextDependencies=null}function Mo(e,t){return Oo!==e&&!1!==t&&0!==t&&("number"==typeof t&&1073741823!==t||(Oo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Po?(null===Ao&&a("308"),Po=t,Ao.contextDependencies={first:t,expirationTime:0}):Po=Po.next=t),e._currentValue}var Fo,Uo,jo,Vo=1,qo=2,Bo=!1;function zo(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function $o(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Wo(e){return{expirationTime:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Ho(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Ko(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=zo(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=zo(e.memoizedState),i=n.updateQueue=zo(n.memoizedState)):r=e.updateQueue=$o(i):null===i&&(i=n.updateQueue=$o(r));null===i||r===i?Ho(r,t):null===r.lastUpdate||null===i.lastUpdate?(Ho(r,t),Ho(i,t)):(Ho(r,t),i.lastUpdate=t)}function Go(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=zo(e.memoizedState):Qo(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function Qo(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=$o(t)),t}function Yo(e,t,n,r,o,s){switch(n.tag){case Vo:return"function"==typeof(e=n.payload)?e.call(s,r,o):e;case 3:e.effectTag=-2049&e.effectTag|64;case 0:if(null==(o="function"==typeof(e=n.payload)?e.call(s,r,o):e))break;return i({},r,o);case qo:Bo=!0}return r}function Jo(e,t,n,r,i){Bo=!1;for(var o=(t=Qo(e,t)).baseState,s=null,a=0,c=t.firstUpdate,u=o;null!==c;){var l=c.expirationTime;l<i?(null===s&&(s=c,o=u),a<l&&(a=l)):(u=Yo(e,0,c,u,n,r),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=c:(t.lastEffect.nextEffect=c,t.lastEffect=c))),c=c.next}for(l=null,c=t.firstCapturedUpdate;null!==c;){var h=c.expirationTime;h<i?(null===l&&(l=c,null===s&&(o=u)),a<h&&(a=h)):(u=Yo(e,0,c,u,n,r),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=c:(t.lastCapturedEffect.nextEffect=c,t.lastCapturedEffect=c))),c=c.next}null===s&&(t.lastUpdate=null),null===l?t.lastCapturedUpdate=null:e.effectTag|=32,null===s&&null===l&&(o=u),t.baseState=o,t.firstUpdate=s,t.firstCapturedUpdate=l,e.expirationTime=a,e.memoizedState=u}function Zo(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Xo(t.firstEffect,n),t.firstEffect=t.lastEffect=null,Xo(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function Xo(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;"function"!=typeof n&&a("191",n),n.call(r)}e=e.nextEffect}}function es(e,t){return{value:e,source:t,stack:lt(t)}}function ts(e){e.effectTag|=4}Fo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Uo=function(e,t,n,r,o){var s=e.memoizedProps;if(s!==r){var a=t.stateNode;switch(Ii(_i.current),e=null,n){case"input":s=_t(a,s),r=_t(a,r),e=[];break;case"option":s=Yn(a,s),r=Yn(a,r),e=[];break;case"select":s=i({},s,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":s=Zn(a,s),r=Zn(a,r),e=[];break;default:"function"!=typeof s.onClick&&"function"==typeof r.onClick&&(a.onclick=yr)}pr(n,r),a=n=void 0;var c=null;for(n in s)if(!r.hasOwnProperty(n)&&s.hasOwnProperty(n)&&null!=s[n])if("style"===n){var u=s[n];for(a in u)u.hasOwnProperty(a)&&(c||(c={}),c[a]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(_.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var l=r[n];if(u=null!=s?s[n]:void 0,r.hasOwnProperty(n)&&l!==u&&(null!=l||null!=u))if("style"===n)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(c||(c={}),c[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(c||(c={}),c[a]=l[a])}else c||(e||(e=[]),e.push(n,c)),c=l;else"dangerouslySetInnerHTML"===n?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(e=e||[]).push(n,""+l)):"children"===n?u===l||"string"!=typeof l&&"number"!=typeof l||(e=e||[]).push(n,""+l):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(_.hasOwnProperty(n)?(null!=l&&gr(o,n),e||u===l||(e=[])):(e=e||[]).push(n,l))}c&&(e=e||[]).push("style",c),o=e,(t.updateQueue=o)&&ts(t)}},jo=function(e,t,n,r){n!==r&&ts(t)};var ns="function"==typeof WeakSet?WeakSet:Set;function rs(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=lt(n)),null!==n&&ut(n.type),t=t.value,null!==e&&1===e.tag&&ut(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function is(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Vs(e,t)}else t.current=null}function os(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if(0!=(r.tag&e)){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}0!=(r.tag&t)&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function ss(e){switch("function"==typeof Wr&&Wr(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n.destroy;if(void 0!==r){var i=e;try{r()}catch(e){Vs(i,e)}}n=n.next}while(n!==t)}break;case 1:if(is(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Vs(e,t)}break;case 5:is(e);break;case 4:us(e)}}function as(e){return 5===e.tag||3===e.tag||4===e.tag}function cs(e){e:{for(var t=e.return;null!==t;){if(as(t)){var n=t;break e}t=t.return}a("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:a("161")}16&n.effectTag&&(cr(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||as(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){if(5===i.tag||6===i.tag)if(n)if(r){var o=t,s=i.stateNode,c=n;8===o.nodeType?o.parentNode.insertBefore(s,c):o.insertBefore(s,c)}else t.insertBefore(i.stateNode,n);else r?(s=t,c=i.stateNode,8===s.nodeType?(o=s.parentNode).insertBefore(c,s):(o=s).appendChild(c),null!=(s=s._reactRootContainer)||null!==o.onclick||(o.onclick=yr)):t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function us(e){for(var t=e,n=!1,r=void 0,i=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&a("160"),n.tag){case 5:r=n.stateNode,i=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,i=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var o=t,s=o;;)if(ss(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===o)break;for(;null===s.sibling;){if(null===s.return||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}i?(o=r,s=t.stateNode,8===o.nodeType?o.parentNode.removeChild(s):o.removeChild(s)):r.removeChild(t.stateNode)}else if(4===t.tag){if(null!==t.child){r=t.stateNode.containerInfo,i=!0,t.child.return=t,t=t.child;continue}}else if(ss(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function ls(e,t){switch(t.tag){case 0:case 11:case 14:case 15:os(4,8,t);break;case 1:case 3:case 12:case 17:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&function(e,t,n,r,i){e[M]=i,"input"===n&&"radio"===i.type&&null!=i.name&&Et(e,i),mr(n,r),r=mr(n,i);for(var o=0;o<t.length;o+=2){var s=t[o],a=t[o+1];"style"===s?dr(e,a):"dangerouslySetInnerHTML"===s?ar(e,a):"children"===s?cr(e,a):wt(e,s,a,r)}switch(n){case"input":It(e,i);break;case"textarea":er(e,i);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,null!=(n=i.value)?Jn(e,!!i.multiple,n,!1):t!==!!i.multiple&&(null!=i.defaultValue?Jn(e,!!i.multiple,i.defaultValue,!0):Jn(e,!!i.multiple,i.multiple?[]:"",!1))}}(n,o,i,e,r)}break;case 6:null===t.stateNode&&a("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 13:if(n=t.memoizedState,r=void 0,e=t,null===n?r=!1:(r=!0,e=t.child,0===n.timedOutAt&&(n.timedOutAt=ga())),null!==e&&function(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)r.style.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=hr("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){(r=n.child.sibling).return=n,n=r;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(e,r),null!==(n=t.updateQueue)){t.updateQueue=null;var s=t.stateNode;null===s&&(s=t.stateNode=new ns),n.forEach((function(e){var n=zs.bind(null,t,e);s.has(e)||(s.add(e),e.then(n,n))}))}break;default:a("163")}}var hs="function"==typeof WeakMap?WeakMap:Map;function ds(e,t,n){(n=Wo(n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Sa(r),rs(e,t)},n}function fs(e,t,n){(n=Wo(n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ns?Ns=new Set([this]):Ns.add(this));var n=t.value,i=t.stack;rs(e,t),this.componentDidCatch(n,{componentStack:null!==i?i:""})}),n}function ps(e){switch(e.tag){case 1:Fr(e.type)&&Ur();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return Si(),jr(),0!=(64&(t=e.effectTag))&&a("285"),e.effectTag=-2049&t|64,e;case 5:return xi(e),null;case 13:return 2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:default:return null;case 4:return Si(),null;case 10:return Ro(e),null}}var ms=He.ReactCurrentDispatcher,gs=He.ReactCurrentOwner,ys=1073741822,vs=!1,ws=null,bs=null,_s=0,Ts=-1,Es=!1,Is=null,ks=!1,Ss=null,Cs=null,xs=null,Ns=null;function As(){if(null!==ws)for(var e=ws.return;null!==e;){var t=e;switch(t.tag){case 1:null!=t.type.childContextTypes&&Ur();break;case 3:Si(),jr();break;case 5:xi(t);break;case 4:Si();break;case 10:Ro(t)}e=e.return}bs=null,_s=0,Ts=-1,Es=!1,ws=null}function Ps(){for(;null!==Is;){var e=Is.effectTag;if(16&e&&cr(Is.stateNode,""),128&e){var t=Is.alternate;null!==t&&null!==(t=t.ref)&&("function"==typeof t?t(null):t.current=null)}switch(14&e){case 2:cs(Is),Is.effectTag&=-3;break;case 6:cs(Is),Is.effectTag&=-3,ls(Is.alternate,Is);break;case 4:ls(Is.alternate,Is);break;case 8:us(e=Is),e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,null!==(e=e.alternate)&&(e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null)}Is=Is.nextEffect}}function Os(){for(;null!==Is;){if(256&Is.effectTag)e:{var e=Is.alternate,t=Is;switch(t.tag){case 0:case 11:case 15:os(2,0,t);break e;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:si(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break e;case 3:case 5:case 6:case 4:case 17:break e;default:a("163")}}Is=Is.nextEffect}}function Ds(e,t){for(;null!==Is;){var n=Is.effectTag;if(36&n){var r=Is.alternate,i=Is,o=t;switch(i.tag){case 0:case 11:case 15:os(16,32,i);break;case 1:var s=i.stateNode;if(4&i.effectTag)if(null===r)s.componentDidMount();else{var c=i.elementType===i.type?r.memoizedProps:si(i.type,r.memoizedProps);s.componentDidUpdate(c,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}null!==(r=i.updateQueue)&&Zo(0,r,s);break;case 3:if(null!==(r=i.updateQueue)){if(s=null,null!==i.child)switch(i.child.tag){case 5:case 1:s=i.child.stateNode}Zo(0,r,s)}break;case 5:o=i.stateNode,null===r&&4&i.effectTag&&br(i.type,i.memoizedProps)&&o.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:a("163")}}128&n&&null!==(i=Is.ref)&&(o=Is.stateNode,"function"==typeof i?i(o):i.current=o),512&n&&(Ss=e),Is=Is.nextEffect}}function Rs(e,t){xs=Cs=Ss=null;var n=Js;Js=!0;do{if(512&t.effectTag){var r=!1,i=void 0;try{var o=t;os(128,0,o),os(0,64,o)}catch(e){r=!0,i=e}r&&Vs(t,i)}t=t.nextEffect}while(null!==t);Js=n,0!==(n=e.expirationTime)&&ya(e,n),ra||Js||Ta(1073741823,!1)}function Ls(){null!==Cs&&kr(Cs),null!==xs&&xs()}function Ms(e,t){ks=vs=!0,e.current===t&&a("177");var n=e.pendingCommitExpirationTime;0===n&&a("261"),e.pendingCommitExpirationTime=0;var r=t.expirationTime,i=t.childExpirationTime;for(function(e,t){if(e.didError=!1,0===t)e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0;else{t<e.latestPingedTime&&(e.latestPingedTime=0);var n=e.latestPendingTime;0!==n&&(n>t?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>t&&(e.earliestPendingTime=e.latestPendingTime)),0===(n=e.earliestSuspendedTime)?ni(e,t):t<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,ni(e,t)):t>n&&ni(e,t)}oi(0,e)}(e,i>r?i:r),gs.current=null,r=void 0,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,vr=Sn,wr=function(){var e=jn();if(Vn(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{t.nodeType,i.nodeType}catch(e){t=null;break e}var o=0,s=-1,a=-1,c=0,u=0,l=e,h=null;t:for(;;){for(var d;l!==t||0!==r&&3!==l.nodeType||(s=o+r),l!==i||0!==n&&3!==l.nodeType||(a=o+n),3===l.nodeType&&(o+=l.nodeValue.length),null!==(d=l.firstChild);)h=l,l=d;for(;;){if(l===e)break t;if(h===t&&++c===r&&(s=o),h===i&&++u===n&&(a=o),null!==(d=l.nextSibling))break;h=(l=h).parentNode}l=d}t=-1===s||-1===a?null:{start:s,end:a}}else t=null}t=t||{start:0,end:0}}else t=null;return{focusedElem:e,selectionRange:t}}(),Sn=!1,Is=r;null!==Is;){i=!1;var s=void 0;try{Os()}catch(e){i=!0,s=e}i&&(null===Is&&a("178"),Vs(Is,s),null!==Is&&(Is=Is.nextEffect))}for(Is=r;null!==Is;){i=!1,s=void 0;try{Ps()}catch(e){i=!0,s=e}i&&(null===Is&&a("178"),Vs(Is,s),null!==Is&&(Is=Is.nextEffect))}for(qn(wr),wr=null,Sn=!!vr,vr=null,e.current=t,Is=r;null!==Is;){i=!1,s=void 0;try{Ds(e,n)}catch(e){i=!0,s=e}i&&(null===Is&&a("178"),Vs(Is,s),null!==Is&&(Is=Is.nextEffect))}if(null!==r&&null!==Ss){var c=Rs.bind(null,e,r);Cs=o.unstable_runWithPriority(o.unstable_NormalPriority,(function(){return Ir(c)})),xs=c}vs=ks=!1,"function"==typeof $r&&$r(t.stateNode),n=t.expirationTime,0===(t=(t=t.childExpirationTime)>n?t:n)&&(Ns=null),function(e,t){e.expirationTime=t,e.finishedWork=null}(e,t)}function Fs(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0==(1024&e.effectTag)){ws=e;e:{var o=t,s=_s,c=(t=e).pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 18:break;case 1:case 17:Fr(t.type)&&Ur();break;case 3:Si(),jr(),(c=t.stateNode).pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),null!==o&&null!==o.child||(po(t),t.effectTag&=-3);break;case 5:xi(t);var u=Ii(Ei.current);if(s=t.type,null!==o&&null!=t.stateNode)Uo(o,t,s,c,u),o.ref!==t.ref&&(t.effectTag|=128);else if(c){var l=Ii(_i.current);if(po(t)){o=(c=t).stateNode;var h=c.type,d=c.memoizedProps,f=u;switch(o[L]=c,o[M]=d,s=void 0,u=h){case"iframe":case"object":Cn("load",o);break;case"video":case"audio":for(h=0;h<re.length;h++)Cn(re[h],o);break;case"source":Cn("error",o);break;case"img":case"image":case"link":Cn("error",o),Cn("load",o);break;case"form":Cn("reset",o),Cn("submit",o);break;case"details":Cn("toggle",o);break;case"input":Tt(o,d),Cn("invalid",o),gr(f,"onChange");break;case"select":o._wrapperState={wasMultiple:!!d.multiple},Cn("invalid",o),gr(f,"onChange");break;case"textarea":Xn(o,d),Cn("invalid",o),gr(f,"onChange")}for(s in pr(u,d),h=null,d)d.hasOwnProperty(s)&&(l=d[s],"children"===s?"string"==typeof l?o.textContent!==l&&(h=["children",l]):"number"==typeof l&&o.textContent!==""+l&&(h=["children",""+l]):_.hasOwnProperty(s)&&null!=l&&gr(f,s));switch(u){case"input":$e(o),kt(o,d,!0);break;case"textarea":$e(o),tr(o);break;case"select":case"option":break;default:"function"==typeof d.onClick&&(o.onclick=yr)}s=h,c.updateQueue=s,(c=null!==s)&&ts(t)}else{d=t,f=s,o=c,h=9===u.nodeType?u:u.ownerDocument,l===nr&&(l=rr(f)),l===nr?"script"===f?((o=h.createElement("div")).innerHTML="<script><\/script>",h=o.removeChild(o.firstChild)):"string"==typeof o.is?h=h.createElement(f,{is:o.is}):(h=h.createElement(f),"select"===f&&(f=h,o.multiple?f.multiple=!0:o.size&&(f.size=o.size))):h=h.createElementNS(l,f),(o=h)[L]=d,o[M]=c,Fo(o,t),f=o;var p=u,m=mr(h=s,d=c);switch(h){case"iframe":case"object":Cn("load",f),u=d;break;case"video":case"audio":for(u=0;u<re.length;u++)Cn(re[u],f);u=d;break;case"source":Cn("error",f),u=d;break;case"img":case"image":case"link":Cn("error",f),Cn("load",f),u=d;break;case"form":Cn("reset",f),Cn("submit",f),u=d;break;case"details":Cn("toggle",f),u=d;break;case"input":Tt(f,d),u=_t(f,d),Cn("invalid",f),gr(p,"onChange");break;case"option":u=Yn(f,d);break;case"select":f._wrapperState={wasMultiple:!!d.multiple},u=i({},d,{value:void 0}),Cn("invalid",f),gr(p,"onChange");break;case"textarea":Xn(f,d),u=Zn(f,d),Cn("invalid",f),gr(p,"onChange");break;default:u=d}pr(h,u),l=void 0;var g=h,y=f,v=u;for(l in v)if(v.hasOwnProperty(l)){var w=v[l];"style"===l?dr(y,w):"dangerouslySetInnerHTML"===l?null!=(w=w?w.__html:void 0)&&ar(y,w):"children"===l?"string"==typeof w?("textarea"!==g||""!==w)&&cr(y,w):"number"==typeof w&&cr(y,""+w):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(_.hasOwnProperty(l)?null!=w&&gr(p,l):null!=w&&wt(y,l,w,m))}switch(h){case"input":$e(f),kt(f,d,!1);break;case"textarea":$e(f),tr(f);break;case"option":null!=d.value&&f.setAttribute("value",""+bt(d.value));break;case"select":(u=f).multiple=!!d.multiple,null!=(f=d.value)?Jn(u,!!d.multiple,f,!1):null!=d.defaultValue&&Jn(u,!!d.multiple,d.defaultValue,!0);break;default:"function"==typeof u.onClick&&(f.onclick=yr)}(c=br(s,c))&&ts(t),t.stateNode=o}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&a("166");break;case 6:o&&null!=t.stateNode?jo(0,t,o.memoizedProps,c):("string"!=typeof c&&null===t.stateNode&&a("166"),o=Ii(Ei.current),Ii(_i.current),po(t)?(s=(c=t).stateNode,o=c.memoizedProps,s[L]=c,(c=s.nodeValue!==o)&&ts(t)):(s=t,(c=(9===o.nodeType?o:o.ownerDocument).createTextNode(c))[L]=t,s.stateNode=c));break;case 13:if(c=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=s,ws=t;break e}c=null!==c,s=null!==o&&null!==o.memoizedState,null!==o&&!c&&s&&null!==(o=o.child.sibling)&&(null!==(u=t.firstEffect)?(t.firstEffect=o,o.nextEffect=u):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8),(c||s)&&(t.effectTag|=4);break;case 4:Si();break;case 10:Ro(t);break;default:a("156")}ws=null}if(t=e,1===_s||1!==t.childExpirationTime){for(c=0,s=t.child;null!==s;)(o=s.expirationTime)>c&&(c=o),(u=s.childExpirationTime)>c&&(c=u),s=s.sibling;t.childExpirationTime=c}if(null!==ws)return ws;null!==n&&0==(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=ps(e)))return e.effectTag&=1023,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==r)return r;if(null===n)break;e=n}return null}function Us(e){var t=function(e,t,n){var r=t.expirationTime;if(null!==e){if(e.memoizedProps!==t.pendingProps||Rr.current)yo=!0;else if(r<n){switch(yo=!1,t.tag){case 3:So(t),mo();break;case 5:Ci(t);break;case 1:Fr(t.type)&&Br(t);break;case 4:ki(t,t.stateNode.containerInfo);break;case 10:Do(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Co(e,t,n):null!==(t=xo(e,t,n))?t.sibling:null}return xo(e,t,n)}}else yo=!1;switch(t.expirationTime=0,t.tag){case 2:r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var i=Mr(t,Dr.current);if(Lo(t,n),i=Wi(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,Hi(),Fr(r)){var o=!0;Br(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=r.getDerivedStateFromProps;"function"==typeof s&&ci(t,r,s,e),i.updater=ui,t.stateNode=i,i._reactInternalFiber=t,fi(t,r,e,n),t=ko(null,t,r,!0,o,n)}else t.tag=0,vo(null,t,i,n),t=t.child;return t;case 16:switch(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),o=t.pendingProps,e=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)})),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(i),t.type=e,i=t.tag=function(e){if("function"==typeof e)return Qr(e)?1:0;if(null!=e){if((e=e.$$typeof)===rt)return 11;if(e===ot)return 14}return 2}(e),o=si(e,o),s=void 0,i){case 0:s=Eo(null,t,e,o,n);break;case 1:s=Io(null,t,e,o,n);break;case 11:s=wo(null,t,e,o,n);break;case 14:s=bo(null,t,e,si(e.type,o),r,n);break;default:a("306",e,"")}return s;case 0:return r=t.type,i=t.pendingProps,Eo(e,t,r,i=t.elementType===r?i:si(r,i),n);case 1:return r=t.type,i=t.pendingProps,Io(e,t,r,i=t.elementType===r?i:si(r,i),n);case 3:return So(t),null===(r=t.updateQueue)&&a("282"),i=null!==(i=t.memoizedState)?i.element:null,Jo(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i?(mo(),t=xo(e,t,n)):(i=t.stateNode,(i=(null===e||null===e.child)&&i.hydrate)&&(ao=Cr(t.stateNode.containerInfo),so=t,i=co=!0),i?(t.effectTag|=2,t.child=wi(t,null,r,n)):(vo(e,t,r,n),mo()),t=t.child),t;case 5:return Ci(t),null===e&&ho(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,_r(r,i)?s=null:null!==o&&_r(r,o)&&(t.effectTag|=16),To(e,t),1!==n&&1&t.mode&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(vo(e,t,s,n),t=t.child),t;case 6:return null===e&&ho(t),null;case 13:return Co(e,t,n);case 4:return ki(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=vi(t,null,r,n):vo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wo(e,t,r,i=t.elementType===r?i:si(r,i),n);case 7:return vo(e,t,t.pendingProps,n),t.child;case 8:case 12:return vo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,Do(t,o=i.value),null!==s){var c=s.value;if(0==(o=en(c,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(c,o):1073741823))){if(s.children===i.children&&!Rr.current){t=xo(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var u=c.contextDependencies;if(null!==u){s=c.child;for(var l=u.first;null!==l;){if(l.context===r&&0!=(l.observedBits&o)){1===c.tag&&((l=Wo(n)).tag=qo,Ko(c,l)),c.expirationTime<n&&(c.expirationTime=n),null!==(l=c.alternate)&&l.expirationTime<n&&(l.expirationTime=n),l=n;for(var h=c.return;null!==h;){var d=h.alternate;if(h.childExpirationTime<l)h.childExpirationTime=l,null!==d&&d.childExpirationTime<l&&(d.childExpirationTime=l);else{if(!(null!==d&&d.childExpirationTime<l))break;d.childExpirationTime=l}h=h.return}u.expirationTime<n&&(u.expirationTime=n);break}l=l.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}}vo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,Lo(t,n),r=r(i=Mo(i,o.unstable_observedBits)),t.effectTag|=1,vo(e,t,r,n),t.child;case 14:return o=si(i=t.type,t.pendingProps),bo(e,t,i,o=si(i.type,o),r,n);case 15:return _o(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:si(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Fr(r)?(e=!0,Br(t)):e=!1,Lo(t,n),hi(t,r,i),fi(t,r,i,n),ko(null,t,r,!0,e,n)}a("156")}(e.alternate,e,_s);return e.memoizedProps=e.pendingProps,null===t&&(t=Fs(e)),gs.current=null,t}function js(e,t){vs&&a("243"),Ls(),vs=!0;var n=ms.current;ms.current=ro;var r=e.nextExpirationTimeToWorkOn;r===_s&&e===bs&&null!==ws||(As(),_s=r,ws=Yr((bs=e).current,null),e.pendingCommitExpirationTime=0);for(var i=!1;;){try{if(t)for(;null!==ws&&!ba();)ws=Us(ws);else for(;null!==ws;)ws=Us(ws)}catch(t){if(Oo=Po=Ao=null,Hi(),null===ws)i=!0,Sa(t);else{null===ws&&a("271");var o=ws,s=o.return;if(null!==s){e:{var c=e,u=s,l=o,h=t;if(s=_s,l.effectTag|=1024,l.firstEffect=l.lastEffect=null,null!==h&&"object"==typeof h&&"function"==typeof h.then){var d=h;h=u;var f=-1,p=-1;do{if(13===h.tag){var m=h.alternate;if(null!==m&&null!==(m=m.memoizedState)){p=10*(1073741822-m.timedOutAt);break}"number"==typeof(m=h.pendingProps.maxDuration)&&(0>=m?f=0:(-1===f||m<f)&&(f=m))}h=h.return}while(null!==h);h=u;do{if((m=13===h.tag)&&(m=void 0!==h.memoizedProps.fallback&&null===h.memoizedState),m){if(null===(u=h.updateQueue)?((u=new Set).add(d),h.updateQueue=u):u.add(d),0==(1&h.mode)){h.effectTag|=64,l.effectTag&=-1957,1===l.tag&&(null===l.alternate?l.tag=17:((s=Wo(1073741823)).tag=qo,Ko(l,s))),l.expirationTime=1073741823;break e}u=s;var g=(l=c).pingCache;null===g?(g=l.pingCache=new hs,m=new Set,g.set(d,m)):void 0===(m=g.get(d))&&(m=new Set,g.set(d,m)),m.has(u)||(m.add(u),l=Bs.bind(null,l,d,u),d.then(l,l)),-1===f?c=1073741823:(-1===p&&(p=10*(1073741822-ii(c,s))-5e3),c=p+f),0<=c&&Ts<c&&(Ts=c),h.effectTag|=2048,h.expirationTime=s;break e}h=h.return}while(null!==h);h=Error((ut(l.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+lt(l))}Es=!0,h=es(h,l),c=u;do{switch(c.tag){case 3:c.effectTag|=2048,c.expirationTime=s,Go(c,s=ds(c,h,s));break e;case 1:if(f=h,p=c.type,l=c.stateNode,0==(64&c.effectTag)&&("function"==typeof p.getDerivedStateFromError||null!==l&&"function"==typeof l.componentDidCatch&&(null===Ns||!Ns.has(l)))){c.effectTag|=2048,c.expirationTime=s,Go(c,s=fs(c,f,s));break e}}c=c.return}while(null!==c)}ws=Fs(o);continue}i=!0,Sa(t)}}break}if(vs=!1,ms.current=n,Oo=Po=Ao=null,Hi(),i)bs=null,e.finishedWork=null;else if(null!==ws)e.finishedWork=null;else{if(null===(n=e.current.alternate)&&a("281"),bs=null,Es){if(i=e.latestPendingTime,o=e.latestSuspendedTime,s=e.latestPingedTime,0!==i&&i<r||0!==o&&o<r||0!==s&&s<r)return ri(e,r),void pa(e,n,r,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,r=e.nextExpirationTimeToWorkOn=r,t=e.expirationTime=1073741823,void pa(e,n,r,t,-1)}t&&-1!==Ts?(ri(e,r),(t=10*(1073741822-ii(e,r)))<Ts&&(Ts=t),t=10*(1073741822-ga()),t=Ts-t,pa(e,n,r,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=r,e.finishedWork=n)}}function Vs(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ns||!Ns.has(r)))return Ko(n,e=fs(n,e=es(t,e),1073741823)),void Ws(n,1073741823);break;case 3:return Ko(n,e=ds(n,e=es(t,e),1073741823)),void Ws(n,1073741823)}n=n.return}3===e.tag&&(Ko(e,n=ds(e,n=es(t,e),1073741823)),Ws(e,1073741823))}function qs(e,t){var n=o.unstable_getCurrentPriorityLevel(),r=void 0;if(0==(1&t.mode))r=1073741823;else if(vs&&!ks)r=_s;else{switch(n){case o.unstable_ImmediatePriority:r=1073741823;break;case o.unstable_UserBlockingPriority:r=1073741822-10*(1+((1073741822-e+15)/10|0));break;case o.unstable_NormalPriority:r=1073741822-25*(1+((1073741822-e+500)/25|0));break;case o.unstable_LowPriority:case o.unstable_IdlePriority:r=1;break;default:a("313")}null!==bs&&r===_s&&--r}return n===o.unstable_UserBlockingPriority&&(0===ea||r<ea)&&(ea=r),r}function Bs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),null!==bs&&_s===n?bs=null:(t=e.earliestSuspendedTime,r=e.latestSuspendedTime,0!==t&&n<=t&&n>=r&&(e.didError=!1,(0===(t=e.latestPingedTime)||t>n)&&(e.latestPingedTime=n),oi(n,e),0!==(n=e.expirationTime)&&ya(e,n)))}function zs(e,t){var n=e.stateNode;null!==n&&n.delete(t),null!==(e=$s(e,t=qs(t=ga(),e)))&&(ni(e,t),0!==(t=e.expirationTime)&&ya(e,t))}function $s(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return i}function Ws(e,t){null!==(e=$s(e,t))&&(!vs&&0!==_s&&t>_s&&As(),ni(e,t),vs&&!ks&&bs===e||ya(e,e.expirationTime),la>ua&&(la=0,a("185")))}function Hs(e,t,n,r,i){return o.unstable_runWithPriority(o.unstable_ImmediatePriority,(function(){return e(t,n,r,i)}))}var Ks=null,Gs=null,Qs=0,Ys=void 0,Js=!1,Zs=null,Xs=0,ea=0,ta=!1,na=null,ra=!1,ia=!1,oa=null,sa=o.unstable_now(),aa=1073741822-(sa/10|0),ca=aa,ua=50,la=0,ha=null;function da(){aa=1073741822-((o.unstable_now()-sa)/10|0)}function fa(e,t){if(0!==Qs){if(t<Qs)return;null!==Ys&&o.unstable_cancelCallback(Ys)}Qs=t,e=o.unstable_now()-sa,Ys=o.unstable_scheduleCallback(_a,{timeout:10*(1073741822-t)-e})}function pa(e,t,n,r,i){e.expirationTime=r,0!==i||ba()?0<i&&(e.timeoutHandle=Tr(ma.bind(null,e,t,n),i)):(e.pendingCommitExpirationTime=n,e.finishedWork=t)}function ma(e,t,n){e.pendingCommitExpirationTime=n,e.finishedWork=t,da(),ca=aa,Ea(e,n)}function ga(){return Js||(va(),0!==Xs&&1!==Xs||(da(),ca=aa)),ca}function ya(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===Gs?(Ks=Gs=e,e.nextScheduledRoot=e):(Gs=Gs.nextScheduledRoot=e).nextScheduledRoot=Ks):t>e.expirationTime&&(e.expirationTime=t),Js||(ra?ia&&(Zs=e,Xs=1073741823,Ia(e,1073741823,!1)):1073741823===t?Ta(1073741823,!1):fa(e,t))}function va(){var e=0,t=null;if(null!==Gs)for(var n=Gs,r=Ks;null!==r;){var i=r.expirationTime;if(0===i){if((null===n||null===Gs)&&a("244"),r===r.nextScheduledRoot){Ks=Gs=r.nextScheduledRoot=null;break}if(r===Ks)Ks=i=r.nextScheduledRoot,Gs.nextScheduledRoot=i,r.nextScheduledRoot=null;else{if(r===Gs){(Gs=n).nextScheduledRoot=Ks,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if(i>e&&(e=i,t=r),r===Gs)break;if(1073741823===e)break;n=r,r=r.nextScheduledRoot}}Zs=t,Xs=e}var wa=!1;function ba(){return!!wa||!!o.unstable_shouldYield()&&(wa=!0)}function _a(){try{if(!ba()&&null!==Ks){da();var e=Ks;do{var t=e.expirationTime;0!==t&&aa<=t&&(e.nextExpirationTimeToWorkOn=aa),e=e.nextScheduledRoot}while(e!==Ks)}Ta(0,!0)}finally{wa=!1}}function Ta(e,t){if(va(),t)for(da(),ca=aa;null!==Zs&&0!==Xs&&e<=Xs&&!(wa&&aa>Xs);)Ia(Zs,Xs,aa>Xs),va(),da(),ca=aa;else for(;null!==Zs&&0!==Xs&&e<=Xs;)Ia(Zs,Xs,!1),va();if(t&&(Qs=0,Ys=null),0!==Xs&&fa(Zs,Xs),la=0,ha=null,null!==oa)for(e=oa,oa=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){ta||(ta=!0,na=e)}}if(ta)throw e=na,na=null,ta=!1,e}function Ea(e,t){Js&&a("253"),Zs=e,Xs=t,Ia(e,t,!1),Ta(1073741823,!1)}function Ia(e,t,n){if(Js&&a("245"),Js=!0,n){var r=e.finishedWork;null!==r?ka(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,Er(r)),js(e,n),null!==(r=e.finishedWork)&&(ba()?e.finishedWork=r:ka(e,r,t)))}else null!==(r=e.finishedWork)?ka(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,Er(r)),js(e,n),null!==(r=e.finishedWork)&&ka(e,r,t));Js=!1}function ka(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime>=n&&(null===oa?oa=[r]:oa.push(r),r._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===ha?la++:(ha=e,la=0),o.unstable_runWithPriority(o.unstable_ImmediatePriority,(function(){Ms(e,t)}))}function Sa(e){null===Zs&&a("246"),Zs.expirationTime=0,ta||(ta=!0,na=e)}function Ca(e,t){var n=ra;ra=!0;try{return e(t)}finally{(ra=n)||Js||Ta(1073741823,!1)}}function xa(e,t){if(ra&&!ia){ia=!0;try{return e(t)}finally{ia=!1}}return e(t)}function Na(e,t,n){ra||Js||0===ea||(Ta(ea,!1),ea=0);var r=ra;ra=!0;try{return o.unstable_runWithPriority(o.unstable_UserBlockingPriority,(function(){return e(t,n)}))}finally{(ra=r)||Js||Ta(1073741823,!1)}}function Aa(e,t,n,r,i){var o=t.current;e:if(n){t:{2===rn(n=n._reactInternalFiber)&&1===n.tag||a("170");var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Fr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);a("171"),s=void 0}if(1===n.tag){var c=n.type;if(Fr(c)){n=qr(n,c,s);break e}}n=s}else n=Or;return null===t.context?t.context=n:t.pendingContext=n,t=i,(i=Wo(r)).payload={element:e},null!==(t=void 0===t?null:t)&&(i.callback=t),Ls(),Ko(o,i),Ws(o,r),r}function Pa(e,t,n,r){var i=t.current;return Aa(e,t,n,i=qs(ga(),i),r)}function Oa(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Da(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ye,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ra(e){var t=1073741822-25*(1+((1073741822-ga()+500)/25|0));t>=ys&&(t=ys-1),this._expirationTime=ys=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function La(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Ma(e,t,n){e={current:t=Gr(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function Fa(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ua(e,t,n,r,i){var o=n._reactRootContainer;if(o){if("function"==typeof i){var s=i;i=function(){var e=Oa(o._internalRoot);s.call(e)}}null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ma(e,!1,t)}(n,r),"function"==typeof i){var a=i;i=function(){var e=Oa(o._internalRoot);a.call(e)}}xa((function(){null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)}))}return Oa(o._internalRoot)}function ja(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Fa(t)||a("200"),Da(e,t,null,n)}xe=function(e,t,n){switch(t){case"input":if(It(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=V(r);i||a("90"),We(r),It(r,i)}}}break;case"textarea":er(e,n);break;case"select":null!=(t=n.value)&&Jn(e,!!n.multiple,t,!1)}},Ra.prototype.render=function(e){this._defer||a("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new La;return Aa(e,t,null,n,r._onCommit),r},Ra.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Ra.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||a("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,i=t;i!==this;)r=i,i=i._next;null===r&&a("251"),r._next=i._next,this._next=t,e.firstBatch=this}this._defer=!1,Ea(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Ra.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},La.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},La.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&a("191",n),n()}}},Ma.prototype.render=function(e,t){var n=this._internalRoot,r=new La;return null!==(t=void 0===t?null:t)&&r.then(t),Pa(e,n,null,r._onCommit),r},Ma.prototype.unmount=function(e){var t=this._internalRoot,n=new La;return null!==(e=void 0===e?null:e)&&n.then(e),Pa(null,t,null,n._onCommit),n},Ma.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,i=new La;return null!==(n=void 0===n?null:n)&&i.then(n),Pa(t,r,e,i._onCommit),i},Ma.prototype.createBatch=function(){var e=new Ra(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},Re=Ca,Le=Na,Me=function(){Js||0===ea||(Ta(ea,!1),ea=0)};var Va={createPortal:ja,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?a("188"):a("268",Object.keys(e))),null===(e=sn(t))?null:e.stateNode},hydrate:function(e,t,n){return Fa(t)||a("200"),Ua(null,e,t,!0,n)},render:function(e,t,n){return Fa(t)||a("200"),Ua(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return Fa(n)||a("200"),(null==e||void 0===e._reactInternalFiber)&&a("38"),Ua(e,t,n,!1,r)},unmountComponentAtNode:function(e){return Fa(e)||a("40"),!!e._reactRootContainer&&(xa((function(){Ua(null,null,e,!1,(function(){e._reactRootContainer=null}))})),!0)},unstable_createPortal:function(){return ja.apply(void 0,arguments)},unstable_batchedUpdates:Ca,unstable_interactiveUpdates:Na,flushSync:function(e,t){Js&&a("187");var n=ra;ra=!0;try{return Hs(e,t)}finally{ra=n,Ta(1073741823,!1)}},unstable_createRoot:function(e,t){return Fa(e)||a("299","unstable_createRoot"),new Ma(e,!0,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=ra;ra=!0;try{Hs(e)}finally{(ra=t)||Js||Ta(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[U,j,V,P.injectEventPluginsByName,b,H,function(e){x(e,W)},Oe,De,An,D]}};!function(e){var t=e.findFiberByHostInstance;!function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);$r=Hr((function(e){return t.onCommitFiberRoot(n,e)})),Wr=Hr((function(e){return t.onCommitFiberUnmount(n,e)}))}catch(e){}}(i({},e,{overrideProps:null,currentDispatcherRef:He.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=sn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:F,bundleType:0,version:"16.8.6",rendererPackageName:"react-dom"});var qa={default:Va},Ba=qa&&Va||qa;e.exports=Ba.default||Ba},3935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(4448)},9921:(e,t)=>{"use strict";var n=60103,r=60106,i=60107,o=60108,s=60114,a=60109,c=60110,u=60112,l=60113,h=60120,d=60115,f=60116;if("function"==typeof Symbol&&Symbol.for){var p=Symbol.for;n=p("react.element"),r=p("react.portal"),i=p("react.fragment"),o=p("react.strict_mode"),s=p("react.profiler"),a=p("react.provider"),c=p("react.context"),u=p("react.forward_ref"),l=p("react.suspense"),h=p("react.suspense_list"),d=p("react.memo"),f=p("react.lazy"),p("react.block"),p("react.server.block"),p("react.fundamental"),p("react.debug_trace_mode"),p("react.legacy_hidden")}t.isContextConsumer=function(e){return function(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case s:case o:case l:case h:return e;default:switch(e=e&&e.$$typeof){case c:case u:case f:case d:case a:return e;default:return t}}case r:return t}}}(e)===c}},9864:(e,t,n)=>{"use strict";e.exports=n(9921)},2052:(e,t,n)=>{"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=a(n(7294)),s=a(n(5697));function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=!1,l=!1,h=!1,d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onScriptLoaded=function(){t.stripeHandler||(t.stripeHandler=StripeCheckout.configure({key:n.props.stripeKey}),n.hasPendingClick&&n.showStripeDialog())},n.onScriptError=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n.hideLoadingDialog(),n.props.onScriptError&&n.props.onScriptError.apply(n,t)},n.onClosed=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n._isMounted&&n.setState({open:!1}),n.props.closed&&n.props.closed.apply(n,t)},n.onOpened=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n.setState({open:!0}),n.props.opened&&n.props.opened.apply(n,t)},n.getConfig=function(){return["token","image","name","description","amount","locale","currency","panelLabel","zipCode","shippingAddress","billingAddress","email","allowRememberMe","bitcoin","alipay","alipayReusable"].reduce((function(e,t){return r({},e,n.props.hasOwnProperty(t)&&c({},t,n.props[t]))}),{opened:n.onOpened,closed:n.onClosed})},n.onClick=function(){if(!n.props.disabled)if(h)try{throw new Error("Tried to call onClick, but StripeCheckout failed to load")}catch(e){}else t.stripeHandler?n.showStripeDialog():(n.showLoadingDialog(),n.hasPendingClick=!0)},n.handleOnMouseDown=function(){n.setState({buttonActive:!0})},n.handleOnMouseUp=function(){n.setState({buttonActive:!1})},n.state={open:!1,buttonActive:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;if(this._isMounted=!0,!l&&!u){u=!0;var t,n,r=document.createElement("script");"function"==typeof this.props.onScriptTagCreated&&this.props.onScriptTagCreated(r),r.src="https://checkout.stripe.com/checkout.js",r.async=1,this.loadPromise=(t=!1,n=new Promise((function(t,n){r.onload=function(){l=!0,u=!1,t(),e.onScriptLoaded()},r.onerror=function(t){h=!0,u=!1,n(t),e.onScriptError(t)}})),{promise:new Promise((function(e,r){n.then((function(){return t?r({isCanceled:!0}):e()})),n.catch((function(e){return r(t?{isCanceled:!0}:e)}))})),cancel:function(){t=!0}}),this.loadPromise.promise.then(this.onScriptLoaded).catch(this.onScriptError),document.body.appendChild(r)}}},{key:"componentDidUpdate",value:function(){u||this.updateStripeHandler()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.loadPromise&&this.loadPromise.cancel(),t.stripeHandler&&this.state.open&&t.stripeHandler.close()}},{key:"updateStripeHandler",value:function(){t.stripeHandler&&!this.props.reconfigureOnUpdate||(t.stripeHandler=StripeCheckout.configure({key:this.props.stripeKey}))}},{key:"showLoadingDialog",value:function(){if(this.props.showLoadingDialog){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.props.showLoadingDialog.apply(this,t)}}},{key:"hideLoadingDialog",value:function(){if(this.props.hideLoadingDialog){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.props.hideLoadingDialog.apply(this,t)}}},{key:"showStripeDialog",value:function(){this.hideLoadingDialog(),t.stripeHandler.open(this.getConfig())}},{key:"renderDefaultStripeButton",value:function(){return o.default.createElement("button",r({},c({},this.props.triggerEvent,this.onClick),{className:this.props.className,onMouseDown:this.handleOnMouseDown,onFocus:this.handleOnMouseDown,onMouseUp:this.handleOnMouseUp,onMouseOut:this.handleOnMouseUp,onBlur:this.handleOnMouseUp,style:r({},{overflow:"hidden",display:"inline-block",background:"linear-gradient(#28a0e5,#015e94)",border:0,padding:1,textDecoration:"none",borderRadius:5,boxShadow:"0 1px 0 rgba(0,0,0,0.2)",cursor:"pointer",visibility:"visible",userSelect:"none"},this.state.buttonActive&&{background:"#005d93"},this.props.style)}),o.default.createElement("span",{style:r({},{backgroundImage:"linear-gradient(#7dc5ee,#008cdd 85%,#30a2e4)",fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:14,position:"relative",padding:"0 12px",display:"block",height:30,lineHeight:"30px",color:"#fff",fontWeight:"bold",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",textShadow:"0 -1px 0 rgba(0,0,0,0.25)",borderRadius:4},this.state.buttonActive&&{color:"#eee",boxShadow:"inset 0 1px 0 rgba(0,0,0,0.1)",backgroundImage:"linear-gradient(#008cdd,#008cdd 85%,#239adf)"},this.props.textStyle)},this.props.label))}},{key:"renderDisabledButton",value:function(){return o.default.createElement("button",{disabled:!0,style:{background:"rgba(0,0,0,0.2)",overflow:"hidden",display:"inline-block",border:0,padding:1,textDecoration:"none",borderRadius:5,userSelect:"none"}},o.default.createElement("span",{style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:14,position:"relative",padding:"0 12px",display:"block",height:30,lineHeight:"30px",borderRadius:4,color:"#999",background:"#f8f9fa",textShadow:"0 1px 0 rgba(255,255,255,0.5)"}},this.props.label))}},{key:"render",value:function(){!0!==this.props.desktopShowModal||this.state.open?!1===this.props.desktopShowModal&&this.state.open&&t.stripeHandler.close():this.onClick();var e=this.props.ComponentClass;return this.props.children?o.default.createElement(e,r({},c({},this.props.triggerEvent,this.onClick),{children:this.props.children})):this.props.disabled?this.renderDisabledButton():this.renderDefaultStripeButton()}}]),t}(o.default.Component);d.defaultProps={className:"StripeCheckout",label:"Pay With Card",locale:"auto",ComponentClass:"span",reconfigureOnUpdate:!1,triggerEvent:"onClick"},d.propTypes={desktopShowModal:s.default.bool,triggerEvent:s.default.oneOf(["onClick","onTouchTap","onTouchStart"]),label:s.default.string,style:s.default.object,textStyle:s.default.object,disabled:s.default.bool,ComponentClass:s.default.string,showLoadingDialog:s.default.func,hideLoadingDialog:s.default.func,onScriptError:s.default.func,onScriptTagCreated:s.default.func,reconfigureOnUpdate:s.default.bool,stripeKey:s.default.string.isRequired,token:s.default.func.isRequired,name:s.default.string,description:s.default.string,image:s.default.string,amount:s.default.number,locale:s.default.oneOf(["auto","zh","da","nl","en","fr","de","it","ja","no","es","sv"]),currency:s.default.oneOf(["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BIF","BMD","BND","BOB","BRL","BSD","BWP","BZD","CAD","CDF","CHF","CLP","CNY","COP","CRC","CVE","CZK","DJF","DKK","DOP","DZD","EEK","EGP","ETB","EUR","FJD","FKP","GBP","GEL","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","ISK","JMD","JPY","KES","KGS","KHR","KMF","KRW","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LTL","LVL","MAD","MDL","MGA","MKD","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SEK","SGD","SHP","SLL","SOS","SRD","STD","SVC","SZL","THB","TJS","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","UYU","UZS","VND","VUV","WST","XAF","XCD","XOF","XPF","YER","ZAR","ZMW"]),panelLabel:s.default.string,zipCode:s.default.bool,billingAddress:s.default.bool,shippingAddress:s.default.bool,email:s.default.string,allowRememberMe:s.default.bool,bitcoin:s.default.bool,alipay:s.default.oneOf(["auto",!0,!1]),alipayReusable:s.default.bool,opened:s.default.func,closed:s.default.func},d._isMounted=!1,t.Z=d},2408:(e,t,n)=>{"use strict";var r=n(7418),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,s=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,c=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.concurrent_mode"):60111,f=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,m=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,y="function"==typeof Symbol&&Symbol.iterator;function v(e,t,n,r,i,o,s,a){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,a],u=0;(e=Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw e.framesToPop=1,e}}function w(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);v(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function T(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||b}function E(){}function I(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||b}T.prototype.isReactComponent={},T.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&w("85"),this.updater.enqueueSetState(this,e,t,"setState")},T.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},E.prototype=T.prototype;var k=I.prototype=new E;k.constructor=I,r(k,T.prototype),k.isPureReactComponent=!0;var S={current:null},C={current:null},x=Object.prototype.hasOwnProperty,N={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,n){var r=void 0,i={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)x.call(t,r)&&!N.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===i[r]&&(i[r]=c[r]);return{$$typeof:o,type:e,key:s,ref:a,props:i,_owner:C.current}}function P(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var O=/\/+/g,D=[];function R(e,t,n,r){if(D.length){var i=D.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function L(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>D.length&&D.push(e)}function M(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var a=!1;if(null===e)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case o:case s:a=!0}}if(a)return n(r,e,""===t?"."+U(e,0):t),1;if(a=0,t=""===t?".":t+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=t+U(i=e[c],c);a+=M(i,u,n,r)}else if("function"==typeof(u=null===e||"object"!=typeof e?null:"function"==typeof(u=y&&e[y]||e["@@iterator"])?u:null))for(e=u.call(e),c=0;!(i=e.next()).done;)a+=M(i=i.value,u=t+U(i,c++),n,r);else"object"===i&&w("31","[object Object]"==(n=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":n,"");return a}function F(e,t,n){return null==e?0:M(e,"",t,n)}function U(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function j(e,t){e.func.call(e.context,t,e.count++)}function V(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?q(e,r,n,(function(e){return e})):null!=e&&(P(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(O,"$&/")+"/")+n)),r.push(e))}function q(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(O,"$&/")+"/"),F(e,V,t=R(t,o,r,i)),L(t)}function B(){var e=S.current;return null===e&&w("321"),e}var z={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return q(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;F(e,j,t=R(null,null,t,n)),L(t)},count:function(e){return F(e,(function(){return null}),null)},toArray:function(e){var t=[];return q(e,t,null,(function(e){return e})),t},only:function(e){return P(e)||w("143"),e}},createRef:function(){return{current:null}},Component:T,PureComponent:I,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:f,render:e}},lazy:function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return B().useCallback(e,t)},useContext:function(e,t){return B().useContext(e,t)},useEffect:function(e,t){return B().useEffect(e,t)},useImperativeHandle:function(e,t,n){return B().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return B().useLayoutEffect(e,t)},useMemo:function(e,t){return B().useMemo(e,t)},useReducer:function(e,t,n){return B().useReducer(e,t,n)},useRef:function(e){return B().useRef(e)},useState:function(e){return B().useState(e)},Fragment:a,StrictMode:c,Suspense:p,createElement:A,cloneElement:function(e,t,n){null==e&&w("267",e);var i=void 0,s=r({},e.props),a=e.key,c=e.ref,u=e._owner;if(null!=t){void 0!==t.ref&&(c=t.ref,u=C.current),void 0!==t.key&&(a=""+t.key);var l=void 0;for(i in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)x.call(t,i)&&!N.hasOwnProperty(i)&&(s[i]=void 0===t[i]&&void 0!==l?l[i]:t[i])}if(1==(i=arguments.length-2))s.children=n;else if(1<i){l=Array(i);for(var h=0;h<i;h++)l[h]=arguments[h+2];s.children=l}return{$$typeof:o,type:e.type,key:a,ref:c,props:s,_owner:u}},createFactory:function(e){var t=A.bind(null,e);return t.type=e,t},isValidElement:P,version:"16.8.6",unstable_ConcurrentMode:d,unstable_Profiler:u,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:S,ReactCurrentOwner:C,assign:r}},$={default:z},W=$&&z||$;e.exports=W.default||W},7294:(e,t,n)=>{"use strict";e.exports=n(2408)},4500:function(e,t,n){!function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function i(e,t,n){i.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function o(e,t){o.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function s(e,t){s.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function a(e,t,n){a.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function c(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function u(e){var t=void 0===e?"undefined":k(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function l(e,t,n,r,h,d,f){f=f||[];var p=(h=h||[]).slice(0);if(void 0!==d){if(r){if("function"==typeof r&&r(p,d))return;if("object"===(void 0===r?"undefined":k(r))){if(r.prefilter&&r.prefilter(p,d))return;if(r.normalize){var m=r.normalize(p,d,e,t);m&&(e=m[0],t=m[1])}}}p.push(d)}"regexp"===u(e)&&"regexp"===u(t)&&(e=e.toString(),t=t.toString());var g=void 0===e?"undefined":k(e),y=void 0===t?"undefined":k(t),v="undefined"!==g||f&&f[f.length-1].lhs&&f[f.length-1].lhs.hasOwnProperty(d),w="undefined"!==y||f&&f[f.length-1].rhs&&f[f.length-1].rhs.hasOwnProperty(d);if(!v&&w)n(new o(p,t));else if(!w&&v)n(new s(p,e));else if(u(e)!==u(t))n(new i(p,e,t));else if("date"===u(e)&&e-t!=0)n(new i(p,e,t));else if("object"===g&&null!==e&&null!==t)if(f.filter((function(t){return t.lhs===e})).length)e!==t&&n(new i(p,e,t));else{if(f.push({lhs:e,rhs:t}),Array.isArray(e)){var b;for(e.length,b=0;b<e.length;b++)b>=t.length?n(new a(p,b,new s(void 0,e[b]))):l(e[b],t[b],n,r,p,b,f);for(;b<t.length;)n(new a(p,b,new o(void 0,t[b++])))}else{var _=Object.keys(e),T=Object.keys(t);_.forEach((function(i,o){var s=T.indexOf(i);s>=0?(l(e[i],t[i],n,r,p,i,f),T=c(T,s)):l(e[i],void 0,n,r,p,i,f)})),T.forEach((function(e){l(void 0,t[e],n,r,p,e,f)}))}f.length=f.length-1}else e!==t&&("number"===g&&isNaN(e)&&isNaN(t)||n(new i(p,e,t)))}function h(e,t,n,r){return r=r||[],l(e,t,(function(e){e&&r.push(e)}),n),r.length?r:void 0}function d(e,t,n){if(n.path&&n.path.length){var r,i=e[t],o=n.path.length-1;for(r=0;r<o;r++)i=i[n.path[r]];switch(n.kind){case"A":d(i[n.path[r]],n.index,n.item);break;case"D":delete i[n.path[r]];break;case"E":case"N":i[n.path[r]]=n.rhs}}else switch(n.kind){case"A":d(e[t],n.index,n.item);break;case"D":e=c(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function f(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,i=-1,o=n.path?n.path.length-1:0;++i<o;)void 0===r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":d(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}function p(e,t,n){if(n.path&&n.path.length){var r,i=e[t],o=n.path.length-1;for(r=0;r<o;r++)i=i[n.path[r]];switch(n.kind){case"A":p(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}else switch(n.kind){case"A":p(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=c(e,t)}return e}function m(e){return"color: "+x[e].color+"; font-weight: bold"}function g(e,t,n,r){var i=h(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}i?i.forEach((function(e){var t=e.kind,r=function(e){var t=e.kind,n=e.path,r=e.lhs,i=e.rhs,o=e.index,s=e.item;switch(t){case"E":return[n.join("."),r,"→",i];case"N":return[n.join("."),i];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+o+"]",s];default:return[]}}(e);n.log.apply(n,["%c "+x[t].text,m(t)].concat(S(r)))})):n.log("—— no diff ——");try{n.groupEnd()}catch(e){n.log("—— diff end —— ")}}function y(e,t,n,r){switch(void 0===e?"undefined":k(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,S(n)):e[r];case"function":return e(t);default:return e}}function v(e,t){var n=t.logger,r=t.actionTransformer,i=t.titleFormatter,o=void 0===i?function(e){var t=e.timestamp,n=e.duration;return function(e,r,i){var o=["action"];return o.push("%c"+String(e.type)),t&&o.push("%c@ "+r),n&&o.push("%c(in "+i.toFixed(2)+" ms)"),o.join(" ")}}(t):i,s=t.collapsed,a=t.colors,c=t.level,u=t.diff,l=void 0===t.titleFormatter;e.forEach((function(i,h){var d=i.started,f=i.startedTime,p=i.action,m=i.prevState,v=i.error,w=i.took,b=i.nextState,_=e[h+1];_&&(b=_.prevState,w=_.started-d);var T=r(p),I="function"==typeof s?s((function(){return b}),p,i):s,k=E(f),S=a.title?"color: "+a.title(T)+";":"",C=["color: gray; font-weight: lighter;"];C.push(S),t.timestamp&&C.push("color: gray; font-weight: lighter;"),t.duration&&C.push("color: gray; font-weight: lighter;");var x=o(T,k,w);try{I?a.title&&l?n.groupCollapsed.apply(n,["%c "+x].concat(C)):n.groupCollapsed(x):a.title&&l?n.group.apply(n,["%c "+x].concat(C)):n.group(x)}catch(e){n.log(x)}var N=y(c,T,[m],"prevState"),A=y(c,T,[T],"action"),P=y(c,T,[v,m],"error"),O=y(c,T,[b],"nextState");if(N)if(a.prevState){var D="color: "+a.prevState(m)+"; font-weight: bold";n[N]("%c prev state",D,m)}else n[N]("prev state",m);if(A)if(a.action){var R="color: "+a.action(T)+"; font-weight: bold";n[A]("%c action    ",R,T)}else n[A]("action    ",T);if(v&&P)if(a.error){var L="color: "+a.error(v,m)+"; font-weight: bold;";n[P]("%c error     ",L,v)}else n[P]("error     ",v);if(O)if(a.nextState){var M="color: "+a.nextState(b)+"; font-weight: bold";n[O]("%c next state",M,b)}else n[O]("next state",b);u&&g(m,b,n,I);try{n.groupEnd()}catch(e){n.log("—— log end ——")}}))}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},N,e),n=t.logger,r=t.stateTransformer,i=t.errorTransformer,o=t.predicate,s=t.logErrors,a=t.diffPredicate;if(void 0===n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var c=[];return function(e){var n=e.getState;return function(e){return function(u){if("function"==typeof o&&!o(n,u))return e(u);var l={};c.push(l),l.started=I.now(),l.startedTime=new Date,l.prevState=r(n()),l.action=u;var h=void 0;if(s)try{h=e(u)}catch(e){l.error=i(e)}else h=e(u);l.took=I.now()-l.started,l.nextState=r(n());var d=t.diff&&"function"==typeof a?a(n,u):t.diff;if(v(c,Object.assign({},t,{diff:d})),c.length=0,l.error)throw l.error;return h}}}}var b,_,T=function(e,t){return function(e,t){return new Array(t+1).join(e)}("0",t-e.toString().length)+e},E=function(e){return T(e.getHours(),2)+":"+T(e.getMinutes(),2)+":"+T(e.getSeconds(),2)+"."+T(e.getMilliseconds(),3)},I="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},C=[];b="object"===(void 0===n.g?"undefined":k(n.g))&&n.g?n.g:"undefined"!=typeof window?window:{},(_=b.DeepDiff)&&C.push((function(){void 0!==_&&b.DeepDiff===h&&(b.DeepDiff=_,_=void 0)})),t(i,r),t(o,r),t(s,r),t(a,r),Object.defineProperties(h,{diff:{value:h,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:function(e,t,n){e&&t&&l(e,t,(function(r){n&&!n(e,t,r)||f(e,t,r)}))},enumerable:!0},applyChange:{value:f,enumerable:!0},revertChange:{value:function(e,t,n){if(e&&t&&n&&n.kind){var r,i,o=e;for(i=n.path.length-1,r=0;r<i;r++)void 0===o[n.path[r]]&&(o[n.path[r]]={}),o=o[n.path[r]];switch(n.kind){case"A":p(o[n.path[r]],n.index,n.item);break;case"D":case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}},enumerable:!0},isConflict:{value:function(){return void 0!==_},enumerable:!0},noConflict:{value:function(){return C&&(C.forEach((function(e){e()})),C=null),h},enumerable:!0}});var x={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},N={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?w()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=N,e.createLogger=w,e.logger=A,e.default=A,Object.defineProperty(e,"__esModule",{value:!0})}(t)},3488:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=function(e){var t=(0,i.default)(e);return{getItem:function(e){return new Promise((function(n,r){n(t.getItem(e))}))},setItem:function(e,n){return new Promise((function(r,i){r(t.setItem(e,n))}))},removeItem:function(e){return new Promise((function(n,r){n(t.removeItem(e))}))}}};var r,i=(r=n(7290))&&r.__esModule?r:{default:r}},7290:(e,t)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(){}t.__esModule=!0,t.default=function(e){var t="".concat(e,"Storage");return function(e){if("object"!==("undefined"==typeof self?"undefined":n(self))||!(e in self))return!1;try{var t=self[e],r="redux-persist ".concat(e," test");t.setItem(r,"test"),t.getItem(r),t.removeItem(r)}catch(e){return!1}return!0}(t)?self[t]:i};var i={getItem:r,setItem:r,removeItem:r}},6734:(e,t,n)=>{"use strict";var r;t.Z=void 0;var i=(0,((r=n(3488))&&r.__esModule?r:{default:r}).default)("local");t.Z=i},5666:e=>{var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),s=new x(r||[]);return o._invoke=function(e,t,n){var r=h;return function(i,o){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=k(s,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?p:d,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(e,n,s),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var h="suspendedStart",d="suspendedYield",f="executing",p="completed",m={};function g(){}function y(){}function v(){}var w={};c(w,o,(function(){return this}));var b=Object.getPrototypeOf,_=b&&b(b(N([])));_&&_!==n&&r.call(_,o)&&(w=_);var T=v.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,o,s,a){var c=l(e[i],e,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(h).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function k(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function N(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=v,c(T,"constructor",v),c(v,"constructor",y),y.displayName=c(v,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,a,"GeneratorFunction")),e.prototype=Object.create(T),e},e.awrap=function(e){return{__await:e}},E(I.prototype),c(I.prototype,s,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new I(u(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(T),c(T,a,"Generator"),c(T,o,(function(){return this})),c(T,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},573:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createSelector:()=>c,createSelectorCreator:()=>a,createStructuredSelector:()=>u,defaultEqualityCheck:()=>i,defaultMemoize:()=>o});var r="NOT_FOUND",i=function(e,t){return e===t};function o(e,t){var n,o,s="object"==typeof t?t:{equalityCheck:t},a=s.equalityCheck,c=void 0===a?i:a,u=s.maxSize,l=void 0===u?1:u,h=s.resultEqualityCheck,d=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}}(c),f=1===l?(n=d,{get:function(e){return o&&n(o.key,e)?o.value:r},put:function(e,t){o={key:e,value:t}},getEntries:function(){return o?[o]:[]},clear:function(){o=void 0}}):function(e,t){var n=[];function i(e){var i=n.findIndex((function(n){return t(e,n.key)}));if(i>-1){var o=n[i];return i>0&&(n.splice(i,1),n.unshift(o)),o.value}return r}return{get:i,put:function(t,o){i(t)===r&&(n.unshift({key:t,value:o}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(l,d);function p(){var t=f.get(arguments);if(t===r){if(t=e.apply(null,arguments),h){var n=f.getEntries(),i=n.find((function(e){return h(e.value,t)}));i&&(t=i.value)}f.put(arguments,t)}return t}return p.clearCache=function(){return f.clear()},p}function s(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var o,a=0,c={memoizeOptions:void 0},u=r.pop();if("object"==typeof u&&(c=u,u=r.pop()),"function"!=typeof u)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof u+"]");var l=c,h=l.memoizeOptions,d=void 0===h?n:h,f=Array.isArray(d)?d:[d],p=s(r),m=e.apply(void 0,[function(){return a++,u.apply(null,arguments)}].concat(f)),g=e((function(){for(var e=[],t=p.length,n=0;n<t;n++)e.push(p[n].apply(null,arguments));return o=m.apply(null,e)}));return Object.assign(g,{resultFunc:u,memoizedResultFunc:m,dependencies:p,lastResult:function(){return o},recomputations:function(){return a},resetRecomputations:function(){return a=0}}),g};return i}var c=a(o),u=function(e,t){if(void 0===t&&(t=c),"object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e),r=t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}));return r}},53:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=null,i=!1,o=3,s=-1,a=-1,c=!1,u=!1;function l(){if(!c){var e=r.expirationTime;u?I():u=!0,E(f,e)}}function h(){var e=r,t=r.next;if(r===t)r=null;else{var n=r.previous;r=n.next=t,t.previous=n}e.next=e.previous=null,n=e.callback,t=e.expirationTime,e=e.priorityLevel;var i=o,s=a;o=e,a=t;try{var c=n()}finally{o=i,a=s}if("function"==typeof c)if(c={callback:c,priorityLevel:e,expirationTime:t,next:null,previous:null},null===r)r=c.next=c.previous=c;else{n=null,e=r;do{if(e.expirationTime>=t){n=e;break}e=e.next}while(e!==r);null===n?n=r:n===r&&(r=c,l()),(t=n.previous).next=n.previous=c,c.next=n,c.previous=t}}function d(){if(-1===s&&null!==r&&1===r.priorityLevel){c=!0;try{do{h()}while(null!==r&&1===r.priorityLevel)}finally{c=!1,null!==r?l():u=!1}}}function f(e){c=!0;var n=i;i=e;try{if(e)for(;null!==r;){var o=t.unstable_now();if(!(r.expirationTime<=o))break;do{h()}while(null!==r&&r.expirationTime<=o)}else if(null!==r)do{h()}while(null!==r&&!k())}finally{c=!1,i=n,null!==r?l():u=!1,d()}}var p,m,g=Date,y="function"==typeof setTimeout?setTimeout:void 0,v="function"==typeof clearTimeout?clearTimeout:void 0,w="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,b="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function _(e){p=w((function(t){v(m),e(t)})),m=y((function(){b(p),e(t.unstable_now())}),100)}if("object"==typeof performance&&"function"==typeof performance.now){var T=performance;t.unstable_now=function(){return T.now()}}else t.unstable_now=function(){return g.now()};var E,I,k,S=null;if("undefined"!=typeof window?S=window:void 0!==n.g&&(S=n.g),S&&S._schedMock){var C=S._schedMock;E=C[0],I=C[1],k=C[2],t.unstable_now=C[3]}else if("undefined"==typeof window||"function"!=typeof MessageChannel){var x=null,N=function(e){if(null!==x)try{x(e)}finally{x=null}};E=function(e){null!==x?setTimeout(E,0,e):(x=e,setTimeout(N,0,!1))},I=function(){x=null},k=function(){return!1}}else{"undefined"!=typeof console&&("function"!=typeof w&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var A=null,P=!1,O=-1,D=!1,R=!1,L=0,M=33,F=33;k=function(){return L<=t.unstable_now()};var U=new MessageChannel,j=U.port2;U.port1.onmessage=function(){P=!1;var e=A,n=O;A=null,O=-1;var r=t.unstable_now(),i=!1;if(0>=L-r){if(!(-1!==n&&n<=r))return D||(D=!0,_(V)),A=e,void(O=n);i=!0}if(null!==e){R=!0;try{e(i)}finally{R=!1}}};var V=function(e){if(null!==A){_(V);var t=e-L+F;t<F&&M<F?(8>t&&(t=8),F=t<M?M:t):M=t,L=e+F,P||(P=!0,j.postMessage(void 0))}else D=!1};E=function(e,t){A=e,O=t,R||0>t?j.postMessage(void 0):D||(D=!0,_(V))},I=function(){A=null,P=!1,O=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=o,i=s;o=e,s=t.unstable_now();try{return n()}finally{o=r,s=i,d()}},t.unstable_next=function(e){switch(o){case 1:case 2:case 3:var n=3;break;default:n=o}var r=o,i=s;o=n,s=t.unstable_now();try{return e()}finally{o=r,s=i,d()}},t.unstable_scheduleCallback=function(e,n){var i=-1!==s?s:t.unstable_now();if("object"==typeof n&&null!==n&&"number"==typeof n.timeout)n=i+n.timeout;else switch(o){case 1:n=i+-1;break;case 2:n=i+250;break;case 5:n=i+1073741823;break;case 4:n=i+1e4;break;default:n=i+5e3}if(e={callback:e,priorityLevel:o,expirationTime:n,next:null,previous:null},null===r)r=e.next=e.previous=e,l();else{i=null;var a=r;do{if(a.expirationTime>n){i=a;break}a=a.next}while(a!==r);null===i?i=r:i===r&&(r=e,l()),(n=i.previous).next=i.previous=e,e.next=i,e.previous=n}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)r=null;else{e===r&&(r=t);var n=e.previous;n.next=t,t.previous=n}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var n=o;return function(){var r=o,i=s;o=n,s=t.unstable_now();try{return e.apply(this,arguments)}finally{o=r,s=i,d()}}},t.unstable_getCurrentPriorityLevel=function(){return o},t.unstable_shouldYield=function(){return!i&&(null!==r&&r.expirationTime<a||k())},t.unstable_continueExecution=function(){null!==r&&l()},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return r}},3840:(e,t,n)=>{"use strict";e.exports=n(53)},3379:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},s=[],a=0;a<e.length;a++){var c=e[a],u=r.base?c[0]+r.base:c[0],l=o[u]||0,h="".concat(u," ").concat(l);o[u]=l+1;var d=n(h),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)t[d].references++,t[d].updater(f);else{var p=i(f,r);r.byIndex=a,t.splice(a,0,{identifier:h,updater:p,references:1})}s.push(h)}return s}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var s=0;s<o.length;s++){var a=n(o[s]);t[a].references--}for(var c=r(e,i),u=0;u<o.length;u++){var l=n(o[u]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}o=c}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>wn,SDK_VERSION:()=>or,_DEFAULT_ENTRY_NAME:()=>Kn,_addComponent:()=>Jn,_addOrOverwriteComponent:()=>Zn,_apps:()=>Qn,_clearComponents:()=>nr,_components:()=>Yn,_getProvider:()=>er,_registerComponent:()=>Xn,_removeServiceInstance:()=>tr,deleteApp:()=>ur,getApp:()=>ar,getApps:()=>cr,initializeApp:()=>sr,onLog:()=>hr,registerVersion:()=>lr,setLogLevel:()=>dr});var t=n(7294),r=n.n(t),i=n(3935),o=n.n(i);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var a,c=a||(a={});c.Pop="POP",c.Push="PUSH",c.Replace="REPLACE";function u(e){e.preventDefault(),e.returnValue=""}function l(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function h(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function d(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function f(e,t){if(!e)throw new Error(t)}const p=(0,t.createContext)(null),m=(0,t.createContext)(null),g=(0,t.createContext)({outlet:null,matches:[]});function y(e){let{to:n,replace:r,state:i}=e;T()||f(!1);let o=I();return(0,t.useEffect)((()=>{o(n,{replace:r,state:i})})),null}function v(e){return function(e){let n=(0,t.useContext)(g).outlet;return n?(0,t.createElement)(k.Provider,{value:e},n):n}(e.context)}function w(e){f(!1)}function b(e){let{basename:n="/",children:r=null,location:i,navigationType:o=a.Pop,navigator:s,static:c=!1}=e;T()&&f(!1);let u=F(n),l=(0,t.useMemo)((()=>({basename:u,navigator:s,static:c})),[u,s,c]);"string"==typeof i&&(i=d(i));let{pathname:h="/",search:g="",hash:y="",state:v=null,key:w="default"}=i,b=(0,t.useMemo)((()=>{let e=L(h,u);return null==e?null:{pathname:e,search:g,hash:y,state:v,key:w}}),[u,h,g,y,v,w]);return null==b?null:(0,t.createElement)(p.Provider,{value:l},(0,t.createElement)(m.Provider,{children:r,value:{location:b,navigationType:o}}))}function _(e){let{children:n,location:r}=e;return function(e,n){T()||f(!1);let{matches:r}=(0,t.useContext)(g),i=r[r.length-1],o=i?i.params:{},s=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;let a,c=E();if(n){var u;let e="string"==typeof n?d(n):n;"/"===s||(null==(u=e.pathname)?void 0:u.startsWith(s))||f(!1),a=e}else a=c;let l=a.pathname||"/",h=function(e,t,n){void 0===n&&(n="/");let r=L(("string"==typeof t?d(t):t).pathname||"/",n);if(null==r)return null;let i=x(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let e=0;null==o&&e<i.length;++e)o=O(i[e],r);return o}(e,{pathname:"/"===s?l:l.slice(s.length)||"/"});return function(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight(((r,i,o)=>(0,t.createElement)(g.Provider,{children:void 0!==i.route.element?i.route.element:(0,t.createElement)(v,null),value:{outlet:r,matches:n.concat(e.slice(0,o+1))}})),null)}(h&&h.map((e=>Object.assign({},e,{params:Object.assign({},o,e.params),pathname:M([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:M([s,e.pathnameBase])}))),r)}(C(n),r)}function T(){return null!=(0,t.useContext)(m)}function E(){return T()||f(!1),(0,t.useContext)(m).location}function I(){T()||f(!1);let{basename:e,navigator:n}=(0,t.useContext)(p),{matches:r}=(0,t.useContext)(g),{pathname:i}=E(),o=JSON.stringify(r.map((e=>e.pathnameBase))),s=(0,t.useRef)(!1);(0,t.useEffect)((()=>{s.current=!0}));let a=(0,t.useCallback)((function(t,r){if(void 0===r&&(r={}),!s.current)return;if("number"==typeof t)return void n.go(t);let a=R(t,JSON.parse(o),i);"/"!==e&&(a.pathname=M([e,a.pathname])),(r.replace?n.replace:n.push)(a,r.state)}),[e,n,o,i]);return a}const k=(0,t.createContext)(null);function S(e){let{matches:n}=(0,t.useContext)(g),{pathname:r}=E(),i=JSON.stringify(n.map((e=>e.pathnameBase)));return(0,t.useMemo)((()=>R(e,JSON.parse(i),r)),[e,i,r])}function C(e){let n=[];return t.Children.forEach(e,(e=>{if(!(0,t.isValidElement)(e))return;if(e.type===t.Fragment)return void n.push.apply(n,C(e.props.children));e.type!==w&&f(!1);let r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=C(e.props.children)),n.push(r)})),n}function x(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach(((e,i)=>{let o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||f(!1),o.relativePath=o.relativePath.slice(r.length));let s=M([r,o.relativePath]),a=n.concat(o);e.children&&e.children.length>0&&(!0===e.index&&f(!1),x(e.children,t,a,s)),(null!=e.path||e.index)&&t.push({path:s,score:P(s,e.index),routesMeta:a})})),t}const N=/^:\w+$/,A=e=>"*"===e;function P(e,t){let n=e.split("/"),r=n.length;return n.some(A)&&(r+=-2),t&&(r+=2),n.filter((e=>!A(e))).reduce(((e,t)=>e+(N.test(t)?3:""===t?1:10)),r)}function O(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let e=0;e<n.length;++e){let s=n[e],a=e===n.length-1,c="/"===i?t:t.slice(i.length)||"/",u=D({path:s.relativePath,caseSensitive:s.caseSensitive,end:a},c);if(!u)return null;Object.assign(r,u.params);let l=s.route;o.push({params:r,pathname:M([i,u.pathname]),pathnameBase:M([i,u.pathnameBase]),route:l}),"/"!==u.pathnameBase&&(i=M([i,u.pathnameBase]))}return o}function D(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,((e,t)=>(r.push(t),"([^\\/]+)")));return e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)",[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(t){return e}}(a[n]||""),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function R(e,t,n){let r,i="string"==typeof e?d(e):e,o=""===e||""===i.pathname?"/":i.pathname;if(null==o)r=n;else{let e=t.length-1;if(o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}r=e>=0?t[e]:"/"}let s=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?d(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:U(r),hash:j(i)}}(i,r);return o&&"/"!==o&&o.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}const M=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",j=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function V(){return V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}const q=["onClick","reloadDocument","replace","state","target","to"];function B(e){let{basename:n,children:r,window:i}=e,o=(0,t.useRef)();null==o.current&&(o.current=function(e){function t(){var e=c.location,t=f.state||{};return[t.idx,{pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"}]}function n(e){return"string"==typeof e?e:h(e)}function r(e,t){return void 0===t&&(t=null),s({pathname:y.pathname,hash:"",search:""},"string"==typeof e?d(e):e,{state:t,key:Math.random().toString(36).substr(2,8)})}function i(e){m=e,e=t(),g=e[0],y=e[1],v.call({action:m,location:y})}function o(e){f.go(e)}void 0===e&&(e={});var c=void 0===(e=e.window)?document.defaultView:e,f=c.history,p=null;c.addEventListener("popstate",(function(){if(p)w.call(p),p=null;else{var e=a.Pop,n=t(),r=n[0];if(n=n[1],w.length){if(null!=r){var s=g-r;s&&(p={action:e,location:n,retry:function(){o(-1*s)}},o(s))}}else i(e)}}));var m=a.Pop,g=(e=t())[0],y=e[1],v=l(),w=l();return null==g&&(g=0,f.replaceState(s({},f.state,{idx:g}),"")),{get action(){return m},get location(){return y},createHref:n,push:function e(t,o){var s=a.Push,u=r(t,o);if(!w.length||(w.call({action:s,location:u,retry:function(){e(t,o)}}),0)){var l=[{usr:u.state,key:u.key,idx:g+1},n(u)];u=l[0],l=l[1];try{f.pushState(u,"",l)}catch(e){c.location.assign(l)}i(s)}},replace:function e(t,o){var s=a.Replace,c=r(t,o);w.length&&(w.call({action:s,location:c,retry:function(){e(t,o)}}),1)||(c=[{usr:c.state,key:c.key,idx:g},n(c)],f.replaceState(c[0],"",c[1]),i(s))},go:o,back:function(){o(-1)},forward:function(){o(1)},listen:function(e){return v.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&c.addEventListener("beforeunload",u),function(){t(),w.length||c.removeEventListener("beforeunload",u)}}}}({window:i}));let c=o.current,[f,p]=(0,t.useState)({action:c.action,location:c.location});return(0,t.useLayoutEffect)((()=>c.listen(p)),[c]),(0,t.createElement)(b,{basename:n,children:r,location:f.location,navigationType:f.action,navigator:c})}const z=(0,t.forwardRef)((function(e,n){let{onClick:r,reloadDocument:i,replace:o=!1,state:s,target:a,to:c}=e,u=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,q),l=function(e){T()||f(!1);let{basename:n,navigator:r}=(0,t.useContext)(p),{hash:i,pathname:o,search:s}=S(e),a=o;if("/"!==n){let t=function(e){return""===e||""===e.pathname?"/":"string"==typeof e?d(e).pathname:e.pathname}(e),r=null!=t&&t.endsWith("/");a="/"===o?n+(r?"/":""):M([n,o])}return r.createHref({pathname:a,search:s,hash:i})}(c),m=function(e,n){let{target:r,replace:i,state:o}=void 0===n?{}:n,s=I(),a=E(),c=S(e);return(0,t.useCallback)((t=>{if(!(0!==t.button||r&&"_self"!==r||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t))){t.preventDefault();let n=!!i||h(a)===h(c);s(e,{replace:n,state:o})}}),[a,s,c,i,o,r,e])}(c,{replace:o,state:s,target:a});return(0,t.createElement)("a",V({},u,{href:l,onClick:function(e){r&&r(e),e.defaultPrevented||i||m(e)},ref:n,target:a}))}));n(5697);var $=r().createContext(null),W=function(e){e()},H=function(){return W},K={notify:function(){},get:function(){return[]}};function G(e,t){var n,r=K;function i(){s.onStateChange&&s.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=H(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var s={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=K)},getListeners:function(){return r}};return s}var Q="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?t.useLayoutEffect:t.useEffect;const Y=function(e){var n=e.store,i=e.context,o=e.children,s=(0,t.useMemo)((function(){var e=G(n);return e.onStateChange=e.notifyNestedSubs,{store:n,subscription:e}}),[n]),a=(0,t.useMemo)((function(){return n.getState()}),[n]);Q((function(){var e=s.subscription;return e.trySubscribe(),a!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[s,a]);var c=i||$;return r().createElement(c.Provider,{value:s},o)};function J(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Z=n(8679),X=n.n(Z),ee=n(9864),te=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],ne=["reactReduxForwardedRef"],re=[],ie=[null,null];function oe(e,t){var n=e[1];return[t.payload,n+1]}function se(e,t,n){Q((function(){return e.apply(void 0,t)}),n)}function ae(e,t,n,r,i,o,s){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,s())}function ce(e,t,n,r,i,o,s,a,c,u){if(e){var l=!1,h=null,d=function(){if(!l){var e,n,d=t.getState();try{e=r(d,i.current)}catch(e){n=e,h=e}n||(h=null),e===o.current?s.current||c():(o.current=e,a.current=e,s.current=!0,u({type:"STORE_UPDATED",payload:{error:n}}))}};return n.onStateChange=d,n.trySubscribe(),d(),function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}}var ue=function(){return[null,0]};function le(e,n){void 0===n&&(n={});var i=n,o=i.getDisplayName,a=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,c=i.methodName,u=void 0===c?"connectAdvanced":c,l=i.renderCountProp,h=void 0===l?void 0:l,d=i.shouldHandleStateChanges,f=void 0===d||d,p=i.storeKey,m=void 0===p?"store":p,g=(i.withRef,i.forwardRef),y=void 0!==g&&g,v=i.context,w=void 0===v?$:v,b=J(i,te),_=w;return function(n){var i=n.displayName||n.name||"Component",o=a(i),c=s({},b,{getDisplayName:a,methodName:u,renderCountProp:h,shouldHandleStateChanges:f,storeKey:m,displayName:o,wrappedComponentName:i,WrappedComponent:n}),l=b.pure,d=l?t.useMemo:function(e){return e()};function p(i){var o=(0,t.useMemo)((function(){var e=i.reactReduxForwardedRef,t=J(i,ne);return[i.context,e,t]}),[i]),a=o[0],u=o[1],l=o[2],h=(0,t.useMemo)((function(){return a&&a.Consumer&&(0,ee.isContextConsumer)(r().createElement(a.Consumer,null))?a:_}),[a,_]),p=(0,t.useContext)(h),m=Boolean(i.store)&&Boolean(i.store.getState)&&Boolean(i.store.dispatch);Boolean(p)&&Boolean(p.store);var g=m?i.store:p.store,y=(0,t.useMemo)((function(){return function(t){return e(t.dispatch,c)}(g)}),[g]),v=(0,t.useMemo)((function(){if(!f)return ie;var e=G(g,m?null:p.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[g,m,p]),w=v[0],b=v[1],T=(0,t.useMemo)((function(){return m?p:s({},p,{subscription:w})}),[m,p,w]),E=(0,t.useReducer)(oe,re,ue),I=E[0][0],k=E[1];if(I&&I.error)throw I.error;var S=(0,t.useRef)(),C=(0,t.useRef)(l),x=(0,t.useRef)(),N=(0,t.useRef)(!1),A=d((function(){return x.current&&l===C.current?x.current:y(g.getState(),l)}),[g,I,l]);se(ae,[C,S,N,l,A,x,b]),se(ce,[f,g,w,y,C,S,N,x,b,k],[g,w,y]);var P=(0,t.useMemo)((function(){return r().createElement(n,s({},A,{ref:u}))}),[u,n,A]);return(0,t.useMemo)((function(){return f?r().createElement(h.Provider,{value:T},P):P}),[h,P,T])}var g=l?r().memo(p):p;if(g.WrappedComponent=n,g.displayName=p.displayName=o,y){var v=r().forwardRef((function(e,t){return r().createElement(g,s({},e,{reactReduxForwardedRef:t}))}));return v.displayName=o,v.WrappedComponent=n,X()(v,n)}return X()(g,n)}}function he(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function de(e,t){if(he(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!he(e[n[i]],t[n[i]]))return!1;return!0}function fe(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function pe(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function me(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=pe(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=pe(i),i=r(t,n)),i},r}}const ge=[function(e){return"function"==typeof e?me(e):void 0},function(e){return e?void 0:fe((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?fe((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"==typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}],ye=[function(e){return"function"==typeof e?me(e):void 0},function(e){return e?void 0:fe((function(){return{}}))}];function ve(e,t,n){return s({},n,e,t)}const we=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,s=!1;return function(t,n,a){var c=e(t,n,a);return s?i&&o(c,r)||(r=c):(s=!0,r=c),r}}}(e):void 0},function(e){return e?void 0:function(){return ve}}];var be=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function _e(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function Te(e,t,n,r,i){var o,s,a,c,u,l=i.areStatesEqual,h=i.areOwnPropsEqual,d=i.areStatePropsEqual,f=!1;return function(i,p){return f?function(i,f){var p,m,g=!h(f,s),y=!l(i,o);return o=i,s=f,g&&y?(a=e(o,s),t.dependsOnOwnProps&&(c=t(r,s)),u=n(a,c,s)):g?(e.dependsOnOwnProps&&(a=e(o,s)),t.dependsOnOwnProps&&(c=t(r,s)),u=n(a,c,s)):y?(p=e(o,s),m=!d(p,a),a=p,m&&(u=n(a,c,s)),u):u}(i,p):(a=e(o=i,s=p),c=t(r,s),u=n(a,c,s),f=!0,u)}}function Ee(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=J(t,be),s=n(e,o),a=r(e,o),c=i(e,o);return(o.pure?Te:_e)(s,a,c,e,o)}var Ie=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function ke(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function Se(e,t){return e===t}function Ce(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?le:n,i=t.mapStateToPropsFactories,o=void 0===i?ye:i,a=t.mapDispatchToPropsFactories,c=void 0===a?ge:a,u=t.mergePropsFactories,l=void 0===u?we:u,h=t.selectorFactory,d=void 0===h?Ee:h;return function(e,t,n,i){void 0===i&&(i={});var a=i,u=a.pure,h=void 0===u||u,f=a.areStatesEqual,p=void 0===f?Se:f,m=a.areOwnPropsEqual,g=void 0===m?de:m,y=a.areStatePropsEqual,v=void 0===y?de:y,w=a.areMergedPropsEqual,b=void 0===w?de:w,_=J(a,Ie),T=ke(e,o,"mapStateToProps"),E=ke(t,c,"mapDispatchToProps"),I=ke(n,l,"mergeProps");return r(d,s({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:T,initMapDispatchToProps:E,initMergeProps:I,pure:h,areStatesEqual:p,areOwnPropsEqual:g,areStatePropsEqual:v,areMergedPropsEqual:b},_))}}const xe=Ce();var Ne;function Ae(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,i)}function Pe(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){Ae(o,r,i,s,a,"next",e)}function a(e){Ae(o,r,i,s,a,"throw",e)}s(void 0)}))}}function Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t,n){return t&&De(e.prototype,t),n&&De(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(e,t){return Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Me(e,t)}function Fe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Me(e,t)}function Ue(e){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(e)}function je(e,t){if(t&&("object"===Ue(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Le(e)}function Ve(e){return Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ve(e)}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ne=i.unstable_batchedUpdates,W=Ne;var Be=n(7757),ze=n.n(Be),$e=n(3379),We=n.n($e),He=n(7795),Ke=n.n(He),Ge=n(569),Qe=n.n(Ge),Ye=n(3565),Je=n.n(Ye),Ze=n(9216),Xe=n.n(Ze),et=n(4589),tt=n.n(et),nt=n(7549),rt={};function it(e,t){if(null==e)return{};var n,r,i=J(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}rt.styleTagTransform=tt(),rt.setAttributes=Je(),rt.insert=Qe().bind(null,"head"),rt.domAPI=Ke(),rt.insertStyleElement=Xe(),We()(nt.Z,rt),nt.Z&&nt.Z.locals&&nt.Z.locals;var ot=n(7896),st={};st.styleTagTransform=tt(),st.setAttributes=Je(),st.insert=Qe().bind(null,"head"),st.domAPI=Ke(),st.insertStyleElement=Xe(),We()(ot.Z,st),ot.Z&&ot.Z.locals&&ot.Z.locals;const at=function(e){return r().createElement("div",{className:"".concat(e.size," menu-item"),onClick:function(){return e.linkUrl}},r().createElement("div",{className:"background-image",style:{backgroundImage:"url(".concat(e.imageUrl,")")}}),r().createElement("div",{className:"content"},r().createElement(z,{to:e.linkUrl},r().createElement("h1",{className:"title"},e.title.toUpperCase())),r().createElement("span",{className:"shop"},"shop now")))};var ct=n(1901),ut={};ut.styleTagTransform=tt(),ut.setAttributes=Je(),ut.insert=Qe().bind(null,"head"),ut.domAPI=Ke(),ut.insertStyleElement=Xe(),We()(ct.Z,ut),ct.Z&&ct.Z.locals&&ct.Z.locals;var lt=n(573),ht=(0,lt.createSelector)([function(e){return e.directory}],(function(e){return e.sections})),dt=["id"];const ft=xe((0,lt.createStructuredSelector)({sections:ht}))((function(e){var t=e.sections;return r().createElement("div",{className:"directory-menu"},t.map((function(e){var t=e.id,n=it(e,dt);return r().createElement(at,s({key:t},n))})))})),pt=function(){return r().createElement("div",{className:"homepage"},r().createElement(ft,null))};var mt=n(1492),gt={};gt.styleTagTransform=tt(),gt.setAttributes=Je(),gt.insert=Qe().bind(null,"head"),gt.domAPI=Ke(),gt.insertStyleElement=Xe(),We()(mt.Z,gt),mt.Z&&mt.Z.locals&&mt.Z.locals;var yt=n(9471),vt={};vt.styleTagTransform=tt(),vt.setAttributes=Je(),vt.insert=Qe().bind(null,"head"),vt.domAPI=Ke(),vt.insertStyleElement=Xe(),We()(yt.Z,vt),yt.Z&&yt.Z.locals&&yt.Z.locals;var wt=n(1825),bt={};bt.styleTagTransform=tt(),bt.setAttributes=Je(),bt.insert=Qe().bind(null,"head"),bt.domAPI=Ke(),bt.insertStyleElement=Xe(),We()(wt.Z,bt),wt.Z&&wt.Z.locals&&wt.Z.locals;var _t=n(1164),Tt={};Tt.styleTagTransform=tt(),Tt.setAttributes=Je(),Tt.insert=Qe().bind(null,"head"),Tt.domAPI=Ke(),Tt.insertStyleElement=Xe(),We()(_t.Z,Tt),_t.Z&&_t.Z.locals&&_t.Z.locals;var Et=["children","isGoogleSignIn","inverted"];const It=function(e){var t=e.children,n=e.isGoogleSignIn,i=e.inverted,o=it(e,Et);return r().createElement("button",s({className:"".concat(i?"inverted":""," ").concat(n?"google-sign-in":""," custom-button")},o),t)},kt="TOGGLE_CART_HIDDEN",St="ADD_ITEM",Ct="REMOVE_ITEM",xt="CLEAR_ITEM_FROM_CART";var Nt=function(){return{type:kt}},At=function(e){return{type:St,payload:e}};const Pt=xe(null,(function(e){return{addItem:function(t){return e(At(t))}}}))((function(e){var t=e.item,n=e.addItem,i=t.name,o=t.price,s=t.imageUrl;return r().createElement("div",{className:"collection-item"},r().createElement("div",{className:"image",style:{backgroundImage:"url(".concat(s,")")}}),r().createElement("div",{className:"collection-footer"},r().createElement("span",{className:"name"},i),r().createElement("span",{className:"price"},o)),r().createElement(It,{inverted:!0,onClick:function(){return n(t)}},"Add to cart"))})),Ot=function(e){var t=e.title,n=e.items;return r().createElement("div",{className:"collection-preview"},r().createElement("h1",{className:"title"},t.toUpperCase()),r().createElement("div",{className:"preview"},n.filter((function(e,t){return t<4})).map((function(e){return r().createElement(Pt,{key:e.id,item:e})}))))};var Dt=n(6156),Rt={};Rt.styleTagTransform=tt(),Rt.setAttributes=Je(),Rt.insert=Qe().bind(null,"head"),Rt.domAPI=Ke(),Rt.insertStyleElement=Xe(),We()(Dt.Z,Rt),Dt.Z&&Dt.Z.locals&&Dt.Z.locals;var Lt=n(773),Mt=n.n(Lt),Ft=n(573).createSelector,Ut=function(e){return e.shop},jt=Ft([Ut],(function(e){return e.collections})),Vt=Ft([jt],(function(e){return e?Object.keys(e).map((function(t){return e[t]})):[]})),qt=Mt()((function(e){return Ft([jt],(function(t){return t?t[e]:null}))})),Bt=(Ft([Ut],(function(e){return!!e.collections})),["id"]);const zt=xe((0,lt.createStructuredSelector)({collections:Vt}))((function(e){var t=e.collections;return r().createElement("div",{className:"collections-overview"},t.map((function(e){var t=e.id,n=it(e,Bt);return r().createElement(Ot,s({key:t},n))})))}));var $t=n(9790),Wt={};Wt.styleTagTransform=tt(),Wt.setAttributes=Je(),Wt.insert=Qe().bind(null,"head"),Wt.domAPI=Ke(),Wt.insertStyleElement=Xe(),We()($t.Z,Wt),$t.Z&&$t.Z.locals&&$t.Z.locals;const Ht=xe((function(e,t){return{collection:qt(t.collectionID)(e)}}))((function(e){return e.collection,r().createElement("div",{className:"collection-page"},r().createElement("h2",{className:"title"}," Under construction... "))})),Kt=xe((0,lt.createStructuredSelector)({collections:jt}))((function(){return r().createElement("div",{className:"shop-page"},r().createElement(_,null,r().createElement(w,{exact:!0,path:"/",element:r().createElement(zt,null)}),r().createElement(w,{path:"/:collectionId",element:r().createElement(Ht,null)})))}));var Gt=n(9947),Qt={};Qt.styleTagTransform=tt(),Qt.setAttributes=Je(),Qt.insert=Qe().bind(null,"head"),Qt.domAPI=Ke(),Qt.insertStyleElement=Xe(),We()(Gt.Z,Qt),Gt.Z&&Gt.Z.locals&&Gt.Z.locals;var Yt=n(3825),Jt={};Jt.styleTagTransform=tt(),Jt.setAttributes=Je(),Jt.insert=Qe().bind(null,"head"),Jt.domAPI=Ke(),Jt.insertStyleElement=Xe(),We()(Yt.Z,Jt),Yt.Z&&Yt.Z.locals&&Yt.Z.locals;var Zt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Xt=r().createContext&&r().createContext(Zt),en=function(){return en=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},en.apply(this,arguments)};function tn(e){return e&&e.map((function(e,t){return r().createElement(e.tag,en({key:t},e.attr),tn(e.child))}))}function nn(e){return function(t){return r().createElement(rn,en({attr:en({},e.attr)},t),tn(e.child))}}function rn(e){var t=function(t){var n,i=e.attr,o=e.size,s=e.title,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["attr","size","title"]),c=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r().createElement("svg",en({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,a,{className:n,style:en(en({color:e.color||t.color},t.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),s&&r().createElement("title",null,s),e.children)};return void 0!==Xt?r().createElement(Xt.Consumer,null,(function(e){return t(e)})):t(Zt)}function on(e){return nn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"}}]})(e)}function sn(e){return nn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 160v-32C352 57.42 294.579 0 224 0 153.42 0 96 57.42 96 128v32H0v272c0 44.183 35.817 80 80 80h288c44.183 0 80-35.817 80-80V160h-96zm-192-32c0-35.29 28.71-64 64-64s64 28.71 64 64v32H160v-32zm160 120c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm-192 0c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24z"}}]})(e)}const an=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},cn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],o=t+1<e.length,s=o?e[t+1]:0,a=t+2<e.length,c=a?e[t+2]:0,u=i>>2,l=(3&i)<<4|s>>4;let h=(15&s)<<2|c>>6,d=63&c;a||(d=64,o||(h=64)),r.push(n[u],n[l],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(an(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],o=t<e.length?n[e.charAt(t)]:0;++t;const s=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==o||null==s||null==a)throw Error();const c=i<<2|o>>4;if(r.push(c),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},un=function(e){return function(e){const t=an(e);return cn.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function ln(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ln(e[n],t[n]));return e}class hn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function dn(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fn(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function pn(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function mn(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function gn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function yn(){const e=dn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function vn(){return"object"==typeof indexedDB}class wn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bn.prototype.create)}}class bn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(_n,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new wn(r,s,n)}}const _n=/\{\$([^}]+)}/g;function Tn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function En(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(In(n)&&In(o)){if(!En(n,o))return!1}else if(n!==o)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function In(e){return null!==e&&"object"==typeof e}function kn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Sn(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Cn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function xn(e,t){const n=new Nn(e,t);return n.subscribe.bind(n)}class Nn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=An),void 0===r.error&&(r.error=An),void 0===r.complete&&(r.complete=An);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function An(){}function Pn(e){return e&&e._delegate?e._delegate:e}class On{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Dn="[DEFAULT]";class Rn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new hn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Dn})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===Dn?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:Dn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ln{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Rn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Mn=[];var Fn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Fn||(Fn={}));const Un={debug:Fn.DEBUG,verbose:Fn.VERBOSE,info:Fn.INFO,warn:Fn.WARN,error:Fn.ERROR,silent:Fn.SILENT},jn=Fn.INFO,Vn={[Fn.DEBUG]:"log",[Fn.VERBOSE]:"log",[Fn.INFO]:"info",[Fn.WARN]:"warn",[Fn.ERROR]:"error"},qn=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=Vn[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class Bn{constructor(e){this.name=e,this._logLevel=jn,this._logHandler=qn,this._userLogHandler=null,Mn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Un[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fn.DEBUG,...e),this._logHandler(this,Fn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fn.VERBOSE,...e),this._logHandler(this,Fn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fn.INFO,...e),this._logHandler(this,Fn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fn.WARN,...e),this._logHandler(this,Fn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fn.ERROR,...e),this._logHandler(this,Fn.ERROR,...e)}}class zn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const $n="@firebase/app",Wn="0.7.15",Hn=new Bn("@firebase/app"),Kn="[DEFAULT]",Gn={[$n]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qn=new Map,Yn=new Map;function Jn(e,t){try{e.container.addComponent(t)}catch(n){Hn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Zn(e,t){e.container.addOrOverwriteComponent(t)}function Xn(e){const t=e.name;if(Yn.has(t))return Hn.debug(`There were multiple attempts to register component ${t}.`),!1;Yn.set(t,e);for(const t of Qn.values())Jn(t,e);return!0}function er(e,t){return e.container.getProvider(t)}function tr(e,t,n=Kn){er(e,t).clearInstance(n)}function nr(){Yn.clear()}const rr=new bn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class ir{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new On("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}const or="9.6.5";function sr(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:Kn,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw rr.create("bad-app-name",{appName:String(r)});const i=Qn.get(r);if(i){if(En(e,i.options)&&En(n,i.config))return i;throw rr.create("duplicate-app",{appName:r})}const o=new Ln(r);for(const e of Yn.values())o.addComponent(e);const s=new ir(e,n,o);return Qn.set(r,s),s}function ar(e=Kn){const t=Qn.get(e);if(!t)throw rr.create("no-app",{appName:e});return t}function cr(){return Array.from(Qn.values())}async function ur(e){const t=e.name;Qn.has(t)&&(Qn.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function lr(e,t,n){var r;let i=null!==(r=Gn[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Hn.warn(e.join(" "))}Xn(new On(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}function hr(e,t){if(null!==e&&"function"!=typeof e)throw rr.create("invalid-log-argument");!function(e,t){for(const n of Mn){let r=null;t&&t.level&&(r=Un[t.level]),n.userLogHandler=null===e?null:(t,n,...i)=>{const o=i.map((e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((e=>e)).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:Fn[n].toLowerCase(),message:o,args:i,type:t.name})}}}(e,t)}function dr(e){var t;t=e,Mn.forEach((e=>{e.setLogLevel(t)}))}Xn(new On("platform-logger",(e=>new zn(e)),"PRIVATE")),lr($n,Wn,""),lr($n,Wn,"esm2017"),lr("fire-js","");class fr{constructor(e,t){this._delegate=e,this.firebase=t,Jn(e,new On("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),ur(this._delegate))))}_getService(e,t=Kn){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=Kn){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Jn(this._delegate,e)}_addOrOverwriteComponent(e){Zn(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pr=new bn("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),mr=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e,i={}){const o=sr(e,i);if(Tn(n,o.name))return n[o.name];const s=new t(o,r);return n[o.name]=s,s},app:i,registerVersion:lr,setLogLevel:dr,onLog:hr,apps:null,SDK_VERSION:or,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(Xn(e)&&"PUBLIC"===e.type){const s=(e=i())=>{if("function"!=typeof e[o])throw pr.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&ln(s,e.serviceProps),r[o]=s,t.prototype[o]=function(...t){return this._getService.bind(this,n).apply(this,e.multipleInstances?t:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Tn(n,e=e||Kn))throw pr.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(fr);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ln(n,e)},createSubscribe:xn,ErrorFactory:bn,deepExtend:ln}),n}(),gr=new Bn("@firebase/app-compat");if("object"==typeof self&&self.self===self&&void 0!==self.firebase){gr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&gr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const yr=mr;lr("@firebase/app-compat","0.1.16",void 0),yr.registerVersion("firebase","9.6.5","app-compat");var vr,wr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},br={},_r=_r||{},Tr=wr||self;function Er(){}function Ir(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function kr(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Sr="closure_uid_"+(1e9*Math.random()>>>0),Cr=0;function xr(e,t,n){return e.call.apply(e.bind,arguments)}function Nr(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ar(e,t,n){return(Ar=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xr:Nr).apply(null,arguments)}function Pr(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Or(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Dr(){this.s=this.s,this.o=this.o}var Rr={};Dr.prototype.s=!1,Dr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Sr)&&e[Sr]||(e[Sr]=++Cr)}(this);delete Rr[e]}},Dr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Lr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Mr=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"==typeof e?e.split(""):e;for(let o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Fr(e){return Array.prototype.concat.apply([],arguments)}function Ur(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function jr(e){return/^[\s\xa0]*$/.test(e)}var Vr,qr=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Br(e,t){return-1!=e.indexOf(t)}function zr(e,t){return e<t?-1:e>t?1:0}e:{var $r=Tr.navigator;if($r){var Wr=$r.userAgent;if(Wr){Vr=Wr;break e}}Vr=""}function Hr(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Kr(e){const t={};for(const n in e)t[n]=e[n];return t}var Gr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qr(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<Gr.length;t++)n=Gr[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Yr(e){return Yr[" "](e),e}Yr[" "]=Er;var Jr,Zr,Xr=Br(Vr,"Opera"),ei=Br(Vr,"Trident")||Br(Vr,"MSIE"),ti=Br(Vr,"Edge"),ni=ti||ei,ri=Br(Vr,"Gecko")&&!(Br(Vr.toLowerCase(),"webkit")&&!Br(Vr,"Edge"))&&!(Br(Vr,"Trident")||Br(Vr,"MSIE"))&&!Br(Vr,"Edge"),ii=Br(Vr.toLowerCase(),"webkit")&&!Br(Vr,"Edge");function oi(){var e=Tr.document;return e?e.documentMode:void 0}e:{var si="",ai=(Zr=Vr,ri?/rv:([^\);]+)(\)|;)/.exec(Zr):ti?/Edge\/([\d\.]+)/.exec(Zr):ei?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Zr):ii?/WebKit\/(\S+)/.exec(Zr):Xr?/(?:Version)[ \/]?(\S+)/.exec(Zr):void 0);if(ai&&(si=ai?ai[1]:""),ei){var ci=oi();if(null!=ci&&ci>parseFloat(si)){Jr=String(ci);break e}}Jr=si}var ui,li={};function hi(){return e=li,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let e=0;const t=qr(String(Jr)).split("."),n=qr("9").split("."),r=Math.max(t.length,n.length);for(let s=0;0==e&&s<r;s++){var i=t[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;e=zr(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||zr(0==i[2].length,0==o[2].length)||zr(i[2],o[2]),i=i[3],o=o[3]}while(0==e)}return 0<=e}();var e}Tr.document&&ei?ui=oi()||parseInt(Jr,10)||void 0:ui=void 0;var di=ui,fi=function(){if(!Tr.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Tr.addEventListener("test",Er,t),Tr.removeEventListener("test",Er,t)}catch(e){}return e}();function pi(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function mi(e,t){if(pi.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ri){e:{try{Yr(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:gi[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&mi.Z.h.call(this)}}pi.prototype.h=function(){this.defaultPrevented=!0},Or(mi,pi);var gi={2:"touch",3:"pen",4:"mouse"};mi.prototype.h=function(){mi.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var yi="closure_listenable_"+(1e6*Math.random()|0),vi=0;function wi(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++vi,this.ca=this.fa=!1}function bi(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function _i(e){this.src=e,this.g={},this.h=0}function Ti(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Lr(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(bi(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ei(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}_i.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=Ei(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new wi(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var Ii="closure_lm_"+(1e6*Math.random()|0),ki={};function Si(e,t,n,r,i){if(r&&r.once)return xi(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Si(e,t[o],n,r,i);return null}return n=Li(n),e&&e[yi]?e.N(t,n,kr(r)?!!r.capture:!!r,i):Ci(e,t,n,!1,r,i)}function Ci(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=kr(i)?!!i.capture:!!i,a=Di(e);if(a||(e[Ii]=a=new _i(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){var e=Oi;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)fi||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Pi(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function xi(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)xi(e,t[o],n,r,i);return null}return n=Li(n),e&&e[yi]?e.O(t,n,kr(r)?!!r.capture:!!r,i):Ci(e,t,n,!0,r,i)}function Ni(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Ni(e,t[o],n,r,i);else r=kr(r)?!!r.capture:!!r,n=Li(n),e&&e[yi]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=Ei(o=e.g[t],n,r,i))&&(bi(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--))):e&&(e=Di(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ei(t,n,r,i)),(n=-1<e?t[e]:null)&&Ai(n))}function Ai(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[yi])Ti(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Pi(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Di(t))?(Ti(n,e),0==n.h&&(n.src=null,t[Ii]=null)):bi(e)}}}function Pi(e){return e in ki?ki[e]:ki[e]="on"+e}function Oi(e,t){if(e.ca)e=!0;else{t=new mi(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Ai(e),e=n.call(r,t)}return e}function Di(e){return(e=e[Ii])instanceof _i?e:null}var Ri="__closure_events_fn_"+(1e9*Math.random()>>>0);function Li(e){return"function"==typeof e?e:(e[Ri]||(e[Ri]=function(t){return e.handleEvent(t)}),e[Ri])}function Mi(){Dr.call(this),this.i=new _i(this),this.P=this,this.I=null}function Fi(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new pi(t,e);else if(t instanceof pi)t.target=t.target||e;else{var i=t;Qr(t=new pi(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Ui(s,r,!0,t)&&i}if(i=Ui(s=t.g=e,r,!0,t)&&i,i=Ui(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Ui(s=t.g=n[o],r,!1,t)&&i}function Ui(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,c=s.ia||s.src;s.fa&&Ti(e.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Or(Mi,Dr),Mi.prototype[yi]=!0,Mi.prototype.removeEventListener=function(e,t,n,r){Ni(this,e,t,n,r)},Mi.prototype.M=function(){if(Mi.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)bi(n[r]);delete t.g[e],t.h--}}this.I=null},Mi.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Mi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ji=Tr.JSON.stringify;function Vi(){var e=Ki;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var qi,Bi=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new zi),(e=>e.reset()));class zi{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function $i(e){Tr.setTimeout((()=>{throw e}),0)}function Wi(e,t){qi||function(){var e=Tr.Promise.resolve(void 0);qi=function(){e.then(Gi)}}(),Hi||(qi(),Hi=!0),Ki.add(e,t)}var Hi=!1,Ki=new class{constructor(){this.h=this.g=null}add(e,t){const n=Bi.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function Gi(){for(var e;e=Vi();){try{e.h.call(e.g)}catch(e){$i(e)}var t=Bi;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Hi=!1}function Qi(e,t){Mi.call(this),this.h=e||1,this.g=t||Tr,this.j=Ar(this.kb,this),this.l=Date.now()}function Yi(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Ji(e,t,n){if("function"==typeof e)n&&(e=Ar(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ar(e.handleEvent,e)}return 2147483647<Number(t)?-1:Tr.setTimeout(e,t||0)}function Zi(e){e.g=Ji((()=>{e.g=null,e.i&&(e.i=!1,Zi(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Or(Qi,Mi),(vr=Qi.prototype).da=!1,vr.S=null,vr.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Fi(this,"tick"),this.da&&(Yi(this),this.start()))}},vr.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},vr.M=function(){Qi.Z.M.call(this),Yi(this),delete this.g};class Xi extends Dr{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Zi(this)}M(){super.M(),this.g&&(Tr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eo(e){Dr.call(this),this.h=e,this.g={}}Or(eo,Dr);var to=[];function no(e,t,n,r){Array.isArray(n)||(n&&(to[0]=n.toString()),n=to);for(var i=0;i<n.length;i++){var o=Si(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function ro(e){Hr(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ai(e)}),e),e.g={}}function io(){this.g=!0}function oo(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return ji(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}eo.prototype.M=function(){eo.Z.M.call(this),ro(this)},eo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},io.prototype.Aa=function(){this.g=!1},io.prototype.info=function(){};var so={},ao=null;function co(){return ao=ao||new Mi}function uo(e){pi.call(this,so.Ma,e)}function lo(e){const t=co();Fi(t,new uo(t,e))}function ho(e,t){pi.call(this,so.STAT_EVENT,e),this.stat=t}function fo(e){const t=co();Fi(t,new ho(t,e))}function po(e,t){pi.call(this,so.Na,e),this.size=t}function mo(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Tr.setTimeout((function(){e()}),t)}so.Ma="serverreachability",Or(uo,pi),so.STAT_EVENT="statevent",Or(ho,pi),so.Na="timingevent",Or(po,pi);var go={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},yo={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function vo(){}function wo(e){return e.h||(e.h=e.i())}function bo(){}vo.prototype.h=null;var _o,To={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Eo(){pi.call(this,"d")}function Io(){pi.call(this,"c")}function ko(){}function So(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new eo(this),this.P=xo,e=ni?125:void 0,this.W=new Qi(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Co}function Co(){this.i=null,this.g="",this.h=!1}Or(Eo,pi),Or(Io,pi),Or(ko,vo),ko.prototype.g=function(){return new XMLHttpRequest},ko.prototype.i=function(){return{}},_o=new ko;var xo=45e3,No={},Ao={};function Po(e,t,n){e.K=1,e.v=es(Go(t)),e.s=n,e.U=!0,Oo(e,null)}function Oo(e,t){e.F=Date.now(),Mo(e),e.A=Go(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),fs(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Co,e.g=fa(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Xi(Ar(e.Ia,e,e.g),e.O)),no(e.V,e.g,"readystatechange",e.gb),t=e.H?Kr(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),lo(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+u+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Do(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function Ro(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=Lo(e,n),r==Ao){4==t&&(e.o=4,fo(14),i=!1),oo(e.j,e.m,null,"[Incomplete Response]");break}if(r==No){e.o=4,fo(15),oo(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}oo(e.j,e.m,r,null),qo(e,r)}Do(e)&&r!=Ao&&r!=No&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,fo(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),oa(t),t.L=!0,fo(11))):(oo(e.j,e.m,n,"[Invalid Chunked Response]"),Vo(e),jo(e))}function Lo(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ao:(n=Number(t.substring(n,r)),isNaN(n)?No:(r+=1)+n>t.length?Ao:(t=t.substr(r,n),e.C=r+n,t))}function Mo(e){e.Y=Date.now()+e.P,Fo(e,e.P)}function Fo(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=mo(Ar(e.eb,e),t)}function Uo(e){e.B&&(Tr.clearTimeout(e.B),e.B=null)}function jo(e){0==e.l.G||e.I||ca(e.l,e)}function Vo(e){Uo(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Yi(e.W),ro(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function qo(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ws(n.i,e)))if(n.I=e.N,!e.J&&ws(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;aa(n),Ys(n)}ia(n),fo(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=mo(Ar(n.ab,n),6e3));if(1>=vs(n.i)&&n.ka){try{n.ka()}catch(e){}n.ka=void 0}}else la(n,11)}else if((e.J||n.g==e)&&aa(n),!jr(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.U=u[0],u=u[1],2==n.G)if("c"==u[0]){n.J=u[1],n.la=u[2];const t=u[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=u[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const l=u[5];null!=l&&"number"==typeof l&&0<l&&(r=1.5*l,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;!o.g&&(Br(e,"spdy")||Br(e,"quic")||Br(e,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(bs(o,o.h),o.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,Xo(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var s=e;if((r=n).oa=da(r,r.H?r.la:null,r.W),s.J){_s(r.i,s);var a=s,c=r.K;c&&a.setTimeout(c),a.B&&(Uo(a),Mo(a)),r.g=s}else ra(r);0<n.l.length&&Xs(n)}else"stop"!=u[0]&&"close"!=u[0]||la(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?la(n,7):Qs(n):"noop"!=u[0]&&n.j&&n.j.wa(u),n.A=0)}lo(4)}catch(e){}}function Bo(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ir(e)||"string"==typeof e)Mr(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Ir(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(Ir(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function zo(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof zo)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function $o(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Wo(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Wo(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Wo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(vr=So.prototype).setTimeout=function(e){this.P=e},vr.gb=function(e){e=e.target;const t=this.L;t&&3==$s(e)?t.l():this.Ia(e)},vr.Ia=function(e){try{if(e==this.g)e:{const l=$s(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>l)&&(3!=l||ni||this.g&&(this.h.h||this.g.ga()||Ws(this.g)))){this.I||4!=l||7==t||lo(8==t||0>=h?3:2),Uo(this);var n=this.g.ba();this.N=n;t:if(Do(this)){var r=Ws(this.g);e="";var i=r.length,o=4==$s(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Vo(this),jo(this);var s="";break t}this.h.i=new Tr.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jr(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,fo(12),Vo(this),jo(this);break e}oo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,qo(this,n)}this.U?(Ro(this,l,s),ni&&this.i&&3==l&&(no(this.V,this.W,"tick",this.fb),this.W.start())):(oo(this.j,this.m,s,null),qo(this,s)),4==l&&Vo(this),this.i&&!this.I&&(4==l?ca(this.l,this):(this.i=!1,Mo(this)))}else 400==n&&0<s.indexOf("Unknown SID")?(this.o=3,fo(12)):(this.o=0,fo(13)),Vo(this),jo(this)}}}catch(e){}},vr.fb=function(){if(this.g){var e=$s(this.g),t=this.g.ga();this.C<t.length&&(Uo(this),Ro(this,e,t),this.i&&4!=e&&Mo(this))}},vr.cancel=function(){this.I=!0,Vo(this)},vr.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(lo(3),fo(17)),Vo(this),this.o=2,jo(this)):Fo(this,this.Y-e)},(vr=zo.prototype).R=function(){$o(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},vr.T=function(){return $o(this),this.g.concat()},vr.get=function(e,t){return Wo(this.h,e)?this.h[e]:t},vr.set=function(e,t){Wo(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},vr.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Ho=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ko(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Ko){this.g=void 0!==t?t:e.g,Qo(this,e.j),this.s=e.s,Yo(this,e.i),Jo(this,e.m),this.l=e.l,t=e.h;var n=new us;n.i=t.i,t.g&&(n.g=new zo(t.g),n.h=t.h),Zo(this,n),this.o=e.o}else e&&(n=String(e).match(Ho))?(this.g=!!t,Qo(this,n[1]||"",!0),this.s=ts(n[2]||""),Yo(this,n[3]||"",!0),Jo(this,n[4]),this.l=ts(n[5]||"",!0),Zo(this,n[6]||"",!0),this.o=ts(n[7]||"")):(this.g=!!t,this.h=new us(null,this.g))}function Go(e){return new Ko(e)}function Qo(e,t,n){e.j=n?ts(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Yo(e,t,n){e.i=n?ts(t,!0):t}function Jo(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Zo(e,t,n){t instanceof us?(e.h=t,function(e,t){t&&!e.j&&(ls(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(hs(this,t),fs(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=ns(t,as)),e.h=new us(t,e.g))}function Xo(e,t,n){e.h.set(t,n)}function es(e){return Xo(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ts(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ns(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,rs),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function rs(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ko.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ns(t,is,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ns(t,is,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(ns(n,"/"==n.charAt(0)?ss:os,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ns(n,cs)),e.join("")};var is=/[#\/\?@]/g,os=/[#\?:]/g,ss=/[#\?]/g,as=/[#\?@]/g,cs=/#/g;function us(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ls(e){e.g||(e.g=new zo,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function hs(e,t){ls(e),t=ps(e,t),Wo(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Wo((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&$o(e)))}function ds(e,t){return ls(e),t=ps(e,t),Wo(e.g.h,t)}function fs(e,t,n){hs(e,t),0<n.length&&(e.i=null,e.g.set(ps(e,t),Ur(n)),e.h+=n.length)}function ps(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function ms(e){this.l=e||gs,e=Tr.PerformanceNavigationTiming?0<(e=Tr.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(Tr.g&&Tr.g.Ea&&Tr.g.Ea()&&Tr.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(vr=us.prototype).add=function(e,t){ls(this),this.i=null,e=ps(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},vr.forEach=function(e,t){ls(this),this.g.forEach((function(n,r){Mr(n,(function(n){e.call(t,n,r,this)}),this)}),this)},vr.T=function(){ls(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},vr.R=function(e){ls(this);var t=[];if("string"==typeof e)ds(this,e)&&(t=Fr(t,this.g.get(ps(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Fr(t,e[n])}return t},vr.set=function(e,t){return ls(this),this.i=null,ds(this,e=ps(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},vr.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},vr.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.i=e.join("&")};var gs=10;function ys(e){return!!e.h||!!e.g&&e.g.size>=e.j}function vs(e){return e.h?1:e.g?e.g.size:0}function ws(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function bs(e,t){e.g?e.g.add(t):e.h=t}function _s(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ts(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Ur(e.i)}function Es(){}function Is(){this.g=new Es}function ks(e,t,n){const r=n||"";try{Bo(e,(function(e,n){let i=e;kr(e)&&(i=ji(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Ss(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function Cs(e){this.l=e.$b||null,this.j=e.ib||!1}function xs(e,t){Mi.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Ns,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ms.prototype.cancel=function(){if(this.i=Ts(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},Es.prototype.stringify=function(e){return Tr.JSON.stringify(e,void 0)},Es.prototype.parse=function(e){return Tr.JSON.parse(e,void 0)},Or(Cs,vo),Cs.prototype.g=function(){return new xs(this.l,this.j)},Cs.prototype.i=function(e){return function(){return e}}({}),Or(xs,Mi);var Ns=0;function As(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Ps(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Os(e)}function Os(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(vr=xs.prototype).open=function(e,t){if(this.readyState!=Ns)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Os(this)},vr.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Tr).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},vr.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ps(this)),this.readyState=Ns},vr.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Os(this)),this.g&&(this.readyState=3,Os(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Tr.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;As(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},vr.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ps(this):Os(this),3==this.readyState&&As(this)}},vr.Ua=function(e){this.g&&(this.response=this.responseText=e,Ps(this))},vr.Ta=function(e){this.g&&(this.response=e,Ps(this))},vr.ha=function(){this.g&&Ps(this)},vr.setRequestHeader=function(e,t){this.v.append(e,t)},vr.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},vr.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(xs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ds=Tr.JSON.parse;function Rs(e){Mi.call(this),this.headers=new zo,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ls,this.K=this.L=!1}Or(Rs,Mi);var Ls="",Ms=/^https?$/i,Fs=["POST","PUT"];function Us(e){return"content-type"==e.toLowerCase()}function js(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Vs(e),Bs(e)}function Vs(e){e.D||(e.D=!0,Fi(e,"complete"),Fi(e,"error"))}function qs(e){if(e.h&&void 0!==_r&&(!e.C[1]||4!=$s(e)||2!=e.ba()))if(e.v&&4==$s(e))Ji(e.Fa,0,e);else if(Fi(e,"readystatechange"),4==$s(e)){e.h=!1;try{const a=e.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.H).match(Ho)[1]||null;if(!i&&Tr.self&&Tr.self.location){var o=Tr.self.location.protocol;i=o.substr(0,o.length-1)}r=!Ms.test(i?i.toLowerCase():"")}n=r}if(n)Fi(e,"complete"),Fi(e,"success");else{e.m=6;try{var s=2<$s(e)?e.g.statusText:""}catch(e){s=""}e.j=s+" ["+e.ba()+"]",Vs(e)}}finally{Bs(e)}}}function Bs(e,t){if(e.g){zs(e);const n=e.g,r=e.C[0]?Er:null;e.g=null,e.C=null,t||Fi(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function zs(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Tr.clearTimeout(e.A),e.A=null)}function $s(e){return e.g?e.g.readyState:0}function Ws(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ls:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Hs(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return Hr(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Xo(e,t,n))}function Ks(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gs(e){this.za=0,this.l=[],this.h=new io,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ks("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ks("baseRetryDelayMs",5e3,e),this.$a=Ks("retryDelaySeedMs",1e4,e),this.Ya=Ks("forwardChannelMaxRetries",2,e),this.ra=Ks("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new ms(e&&e.concurrentRequestLimit),this.Ca=new Is,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Qs(e){if(Js(e),3==e.G){var t=e.V++,n=Go(e.F);Xo(n,"SID",e.J),Xo(n,"RID",t),Xo(n,"TYPE","terminate"),ta(e,n),(t=new So(e,e.h,t,void 0)).K=2,t.v=es(Go(n)),n=!1,Tr.navigator&&Tr.navigator.sendBeacon&&(n=Tr.navigator.sendBeacon(t.v.toString(),"")),!n&&Tr.Image&&((new Image).src=t.v,n=!0),n||(t.g=fa(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Mo(t)}ha(e)}function Ys(e){e.g&&(oa(e),e.g.cancel(),e.g=null)}function Js(e){Ys(e),e.u&&(Tr.clearTimeout(e.u),e.u=null),aa(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Tr.clearTimeout(e.m),e.m=null)}function Zs(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&Xs(e)}function Xs(e){ys(e.i)||e.m||(e.m=!0,Wi(e.Ha,e),e.C=0)}function ea(e,t){var n;n=t?t.m:e.V++;const r=Go(e.F);Xo(r,"SID",e.J),Xo(r,"RID",n),Xo(r,"AID",e.U),ta(e,r),e.o&&e.s&&Hs(r,e.o,e.s),n=new So(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=na(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),bs(e.i,n),Po(n,r,t)}function ta(e,t){e.j&&Bo({},(function(e,n){Xo(t,n,e)}))}function na(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Ar(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].h;const a=i[s].g;if(n-=t,0>n)t=Math.max(0,i[s].h-100),o=!1;else try{ks(a,e,"req"+n+"_")}catch(e){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function ra(e){e.g||e.u||(e.Y=1,Wi(e.Ga,e),e.A=0)}function ia(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=mo(Ar(e.Ga,e),ua(e,e.A)),e.A++,0))}function oa(e){null!=e.B&&(Tr.clearTimeout(e.B),e.B=null)}function sa(e){e.g=new So(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Go(e.oa);Xo(t,"RID","rpc"),Xo(t,"SID",e.J),Xo(t,"CI",e.N?"0":"1"),Xo(t,"AID",e.U),ta(e,t),Xo(t,"TYPE","xmlhttp"),e.o&&e.s&&Hs(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=es(Go(t)),n.s=null,n.U=!0,Oo(n,e)}function aa(e){null!=e.v&&(Tr.clearTimeout(e.v),e.v=null)}function ca(e,t){var n=null;if(e.g==t){aa(e),oa(e),e.g=null;var r=2}else{if(!ws(e.i,t))return;n=t.D,_s(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Fi(r=co(),new po(r,n,t,i)),Xs(e)}else ra(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(vs(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=mo(Ar(e.Ha,e,t),ua(e,e.C)),e.C++,0)))}(e,t)||2==r&&ia(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:la(e,5);break;case 4:la(e,10);break;case 3:la(e,6);break;default:la(e,2)}}function ua(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function la(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Ar(e.jb,e);n||(n=new Ko("//www.google.com/images/cleardot.gif"),Tr.location&&"http"==Tr.location.protocol||Qo(n,"https"),es(n)),function(e,t){const n=new io;if(Tr.Image){const r=new Image;r.onload=Pr(Ss,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Pr(Ss,n,r,"TestLoadImage: error",!1,t),r.onabort=Pr(Ss,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Pr(Ss,n,r,"TestLoadImage: timeout",!1,t),Tr.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else fo(2);e.G=0,e.j&&e.j.va(t),ha(e),Js(e)}function ha(e){e.G=0,e.I=-1,e.j&&(0==Ts(e.i).length&&0==e.l.length||(e.i.i.length=0,Ur(e.l),e.l.length=0),e.j.ua())}function da(e,t,n){let r=function(e){return e instanceof Ko?Go(e):new Ko(e,void 0)}(n);if(""!=r.i)t&&Yo(r,t+"."+r.i),Jo(r,r.m);else{const e=Tr.location;r=function(e,t,n,r){var i=new Ko(null,void 0);return e&&Qo(i,e),t&&Yo(i,t),n&&Jo(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&Hr(e.aa,(function(e,t){Xo(r,t,e)})),t=e.D,n=e.sa,t&&n&&Xo(r,t,n),Xo(r,"VER",e.ma),ta(e,r),r}function fa(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Rs(new Cs({ib:!0})):new Rs(e.qa)).L=e.H,t}function pa(){}function ma(){if(ei&&!(10<=Number(di)))throw Error("Environmental error: no available transport.")}function ga(e,t){Mi.call(this),this.g=new Gs(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!jr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!jr(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new wa(this)}function ya(e){Eo.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function va(){Io.call(this),this.status=1}function wa(e){this.g=e}(vr=Rs.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_o.g(),this.C=this.u?wo(this.u):wo(_o),this.g.onreadystatechange=Ar(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void js(this,e)}e=n||"";const i=new zo(this.headers);r&&Bo(r,(function(e,t){i.set(t,e)})),r=function(e){e:{var t=Us;const n=e.length,r="string"==typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=Tr.FormData&&e instanceof Tr.FormData,!(0<=Lr(Fs,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{zs(this),0<this.B&&((this.K=function(e){return ei&&hi()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ar(this.pa,this)):this.A=Ji(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){js(this,e)}},vr.pa=function(){void 0!==_r&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fi(this,"timeout"),this.abort(8))},vr.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Fi(this,"complete"),Fi(this,"abort"),Bs(this))},vr.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bs(this,!0)),Rs.Z.M.call(this)},vr.Fa=function(){this.s||(this.F||this.v||this.l?qs(this):this.cb())},vr.cb=function(){qs(this)},vr.ba=function(){try{return 2<$s(this)?this.g.status:-1}catch(e){return-1}},vr.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},vr.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ds(t)}},vr.Da=function(){return this.m},vr.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(vr=Gs.prototype).ma=8,vr.G=1,vr.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},vr.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new So(this,this.h,e,void 0);let o=this.s;if(this.P&&(o?(o=Kr(o),Qr(o,this.P)):o=this.P),null===this.o&&(i.H=o),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=na(this,i,t),Xo(n=Go(this.F),"RID",e),Xo(n,"CVER",22),this.D&&Xo(n,"X-HTTP-Session-Id",this.D),ta(this,n),this.o&&o&&Hs(n,this.o,o),bs(this.i,i),this.Ra&&Xo(n,"TYPE","init"),this.ja?(Xo(n,"$req",t),Xo(n,"SID","null"),i.$=!0,Po(i,n,null)):Po(i,n,t),this.G=2}}else 3==this.G&&(e?ea(this,e):0==this.l.length||ys(this.i)||ea(this))},vr.Ga=function(){if(this.u=null,sa(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=mo(Ar(this.bb,this),e)}},vr.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,fo(10),Ys(this),sa(this))},vr.ab=function(){null!=this.v&&(this.v=null,Ys(this),ia(this),fo(19))},vr.jb=function(e){e?(this.h.info("Successfully pinged google.com"),fo(2)):(this.h.info("Failed to ping google.com"),fo(1))},(vr=pa.prototype).xa=function(){},vr.wa=function(){},vr.va=function(){},vr.ua=function(){},vr.Oa=function(){},ma.prototype.g=function(e,t){return new ga(e,t)},Or(ga,Mi),ga.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Wi(Ar(e.hb,e,t))),fo(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=da(e,null,e.W),Xs(e)},ga.prototype.close=function(){Qs(this.g)},ga.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,Zs(this.g,t)}else this.v?((t={}).__data__=ji(e),Zs(this.g,t)):Zs(this.g,e)},ga.prototype.M=function(){this.g.j=null,delete this.j,Qs(this.g),delete this.g,ga.Z.M.call(this)},Or(ya,Eo),Or(va,Io),Or(wa,pa),wa.prototype.xa=function(){Fi(this.g,"a")},wa.prototype.wa=function(e){Fi(this.g,new ya(e))},wa.prototype.va=function(e){Fi(this.g,new va(e))},wa.prototype.ua=function(){Fi(this.g,"b")},ma.prototype.createWebChannel=ma.prototype.g,ga.prototype.send=ga.prototype.u,ga.prototype.open=ga.prototype.m,ga.prototype.close=ga.prototype.close,go.NO_ERROR=0,go.TIMEOUT=8,go.HTTP_ERROR=6,yo.COMPLETE="complete",bo.EventType=To,To.OPEN="a",To.CLOSE="b",To.ERROR="c",To.MESSAGE="d",Mi.prototype.listen=Mi.prototype.N,Rs.prototype.listenOnce=Rs.prototype.O,Rs.prototype.getLastError=Rs.prototype.La,Rs.prototype.getLastErrorCode=Rs.prototype.Da,Rs.prototype.getStatus=Rs.prototype.ba,Rs.prototype.getResponseJson=Rs.prototype.Qa,Rs.prototype.getResponseText=Rs.prototype.ga,Rs.prototype.send=Rs.prototype.ea;var ba=br.createWebChannelTransport=function(){return new ma},_a=br.getStatEventTarget=function(){return co()},Ta=br.ErrorCode=go,Ea=br.EventType=yo,Ia=br.Event=so,ka=br.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Sa=br.FetchXmlHttpFactory=Cs,Ca=br.WebChannel=bo,xa=br.XhrIo=Rs;const Na="@firebase/firestore";class Aa{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Aa.UNAUTHENTICATED=new Aa(null),Aa.GOOGLE_CREDENTIALS=new Aa("google-credentials-uid"),Aa.FIRST_PARTY=new Aa("first-party-uid"),Aa.MOCK_USER=new Aa("mock-user");let Pa="9.6.5";const Oa=new Bn("@firebase/firestore");function Da(){return Oa.logLevel}function Ra(e,...t){if(Oa.logLevel<=Fn.DEBUG){const n=t.map(Fa);Oa.debug(`Firestore (${Pa}): ${e}`,...n)}}function La(e,...t){if(Oa.logLevel<=Fn.ERROR){const n=t.map(Fa);Oa.error(`Firestore (${Pa}): ${e}`,...n)}}function Ma(e,...t){if(Oa.logLevel<=Fn.WARN){const n=t.map(Fa);Oa.warn(`Firestore (${Pa}): ${e}`,...n)}}function Fa(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ua(e="Unexpected state"){const t=`FIRESTORE (${Pa}) INTERNAL ASSERTION FAILED: `+e;throw La(t),new Error(t)}function ja(e,t){e||Ua()}function Va(e,t){return e}const qa={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ba extends wn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class za{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class $a{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Aa.UNAUTHENTICATED)))}shutdown(){}}class Ha{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Ka{constructor(e){this.t=e,this.currentUser=Aa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new za;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new za,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Ra("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Ra("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new za)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Ra("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ja("string"==typeof t.accessToken),new $a(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ja(null===e||"string"==typeof e),new Aa(e)}}class Ga{constructor(e,t,n){this.type="FirstParty",this.user=Aa.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class Qa{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Ga(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Aa.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ya{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ja{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=n=>{e.enqueueRetryable((()=>(e=>(null!=e.error&&Ra("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`),t(e.token)))(n)))};const n=e=>{Ra("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit((e=>n(e))),setTimeout((()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?n(e):Ra("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(ja("string"==typeof e.token),new Ya(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Za{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.p(e),this.T=e=>t.writeSequenceNumber(e))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Xa(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}Za.I=-1;class ec{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=Xa(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function tc(e,t){return e<t?-1:e>t?1:0}function nc(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function rc(e){return e+"\0"}class ic{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ba(qa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ba(qa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ba(qa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ba(qa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ic.fromMillis(Date.now())}static fromDate(e){return ic.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new ic(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tc(this.nanoseconds,e.nanoseconds):tc(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class oc{constructor(e){this.timestamp=e}static fromTimestamp(e){return new oc(e)}static min(){return new oc(new ic(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function sc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ac(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function cc(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class uc{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ua(),void 0===n?n=e.length-t:n>e.length-t&&Ua(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===uc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof uc?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class lc extends uc{construct(e,t,n){return new lc(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ba(qa.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new lc(t)}static emptyPath(){return new lc([])}}const hc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dc extends uc{construct(e,t,n){return new dc(e,t,n)}static isValidIdentifier(e){return hc.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dc.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new dc(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ba(qa.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Ba(qa.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ba(qa.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Ba(qa.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dc(t)}static emptyPath(){return new dc([])}}class fc{constructor(e){this.fields=e,e.sort(dc.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nc(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class pc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new pc(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new pc(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tc(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pc.EMPTY_BYTE_STRING=new pc("");const mc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gc(e){if(ja(!!e),"string"==typeof e){let t=0;const n=mc.exec(e);if(ja(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:yc(e.seconds),nanos:yc(e.nanos)}}function yc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function vc(e){return"string"==typeof e?pc.fromBase64String(e):pc.fromUint8Array(e)}function wc(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function bc(e){const t=e.mapValue.fields.__previous_value__;return wc(t)?bc(t):t}function _c(e){const t=gc(e.mapValue.fields.__local_write_time__.timestampValue);return new ic(t.seconds,t.nanos)}function Tc(e){return null==e}function Ec(e){return 0===e&&1/e==-1/0}function Ic(e){return"number"==typeof e&&Number.isInteger(e)&&!Ec(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class kc{constructor(e){this.path=e}static fromPath(e){return new kc(lc.fromString(e))}static fromName(e){return new kc(lc.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===lc.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return lc.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new kc(new lc(e.slice()))}}function Sc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?wc(e)?4:10:Ua()}function Cc(e,t){if(e===t)return!0;const n=Sc(e);if(n!==Sc(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return _c(e).isEqual(_c(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=gc(e.timestampValue),r=gc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return vc(e.bytesValue).isEqual(vc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return yc(e.geoPointValue.latitude)===yc(t.geoPointValue.latitude)&&yc(e.geoPointValue.longitude)===yc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return yc(e.integerValue)===yc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=yc(e.doubleValue),r=yc(t.doubleValue);return n===r?Ec(n)===Ec(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return nc(e.arrayValue.values||[],t.arrayValue.values||[],Cc);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(sc(n)!==sc(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!Cc(n[e],r[e])))return!1;return!0}(e,t);default:return Ua()}}function xc(e,t){return void 0!==(e.values||[]).find((e=>Cc(e,t)))}function Nc(e,t){if(e===t)return 0;const n=Sc(e),r=Sc(t);if(n!==r)return tc(n,r);switch(n){case 0:return 0;case 1:return tc(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=yc(e.integerValue||e.doubleValue),r=yc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ac(e.timestampValue,t.timestampValue);case 4:return Ac(_c(e),_c(t));case 5:return tc(e.stringValue,t.stringValue);case 6:return function(e,t){const n=vc(e),r=vc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=tc(n[e],r[e]);if(0!==t)return t}return tc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=tc(yc(e.latitude),yc(t.latitude));return 0!==n?n:tc(yc(e.longitude),yc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=Nc(n[e],r[e]);if(t)return t}return tc(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let e=0;e<r.length&&e<o.length;++e){const t=tc(r[e],o[e]);if(0!==t)return t;const s=Nc(n[r[e]],i[o[e]]);if(0!==s)return s}return tc(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Ua()}}function Ac(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return tc(e,t);const n=gc(e),r=gc(t),i=tc(n.seconds,r.seconds);return 0!==i?i:tc(n.nanos,r.nanos)}function Pc(e){return Oc(e)}function Oc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=gc(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?vc(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,kc.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Oc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Oc(e.fields[i])}`;return n+"}"}(e.mapValue):Ua();var t,n}function Dc(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Rc(e){return!!e&&"integerValue"in e}function Lc(e){return!!e&&"arrayValue"in e}function Mc(e){return!!e&&"nullValue"in e}function Fc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Uc(e){return!!e&&"mapValue"in e}function jc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ac(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=jc(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=jc(e.arrayValue.values[n]);return t}return Object.assign({},e)}class Vc{constructor(e){this.value=e}static empty(){return new Vc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Uc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jc(t)}setAll(e){let t=dc.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=jc(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Uc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Cc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Uc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ac(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new Vc(jc(this.value))}}function qc(e){const t=[];return ac(e.fields,((e,n)=>{const r=new dc([e]);if(Uc(n)){const e=qc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new fc(t)}class Bc{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new Bc(e,0,oc.min(),Vc.empty(),0)}static newFoundDocument(e,t,n){return new Bc(e,1,t,n,0)}static newNoDocument(e,t){return new Bc(e,2,t,Vc.empty(),0)}static newUnknownDocument(e,t){return new Bc(e,3,t,Vc.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Bc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bc(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zc{constructor(e,t=null,n=[],r=[],i=null,o=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.R=null}}function $c(e,t=null,n=[],r=[],i=null,o=null,s=null){return new zc(e,t,n,r,i,o,s)}function Wc(e){const t=Va(e);if(null===t.R){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>function(e){return e.field.canonicalString()+e.op.toString()+Pc(e.value)}(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Tc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=iu(t.startAt)),t.endAt&&(e+="|ub:",e+=iu(t.endAt)),t.R=e}return t.R}function Hc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!su(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Cc(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!cu(e.startAt,t.startAt)&&cu(e.endAt,t.endAt)}function Kc(e){return kc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Gc extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,n):new Qc(e,t,n):"array-contains"===t?new Xc(e,n):"in"===t?new eu(e,n):"not-in"===t?new tu(e,n):"array-contains-any"===t?new nu(e,n):new Gc(e,t,n)}static P(e,t,n){return"in"===t?new Yc(e,n):new Jc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Nc(t,this.value)):null!==t&&Sc(this.value)===Sc(t)&&this.v(Nc(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ua()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Qc extends Gc{constructor(e,t,n){super(e,t,n),this.key=kc.fromName(n.referenceValue)}matches(e){const t=kc.comparator(e.key,this.key);return this.v(t)}}class Yc extends Gc{constructor(e,t){super(e,"in",t),this.keys=Zc(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Jc extends Gc{constructor(e,t){super(e,"not-in",t),this.keys=Zc(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Zc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>kc.fromName(e.referenceValue)))}class Xc extends Gc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Lc(t)&&xc(t.arrayValue,this.value)}}class eu extends Gc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xc(this.value.arrayValue,t)}}class tu extends Gc{constructor(e,t){super(e,"not-in",t)}matches(e){if(xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!xc(this.value.arrayValue,t)}}class nu extends Gc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Lc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>xc(this.value.arrayValue,e)))}}class ru{constructor(e,t){this.position=e,this.before=t}}function iu(e){return`${e.before?"b":"a"}:${e.position.map((e=>Pc(e))).join(",")}`}class ou{constructor(e,t="asc"){this.field=e,this.dir=t}}function su(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function au(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?kc.comparator(kc.fromName(s.referenceValue),n.key):Nc(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function cu(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Cc(e.position[n],t.position[n]))return!1;return!0}class uu{constructor(e,t=null,n=[],r=[],i=null,o="F",s=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.S=null,this.D=null,this.startAt,this.endAt}}function lu(e,t,n,r,i,o,s,a){return new uu(e,t,n,r,i,o,s,a)}function hu(e){return new uu(e)}function du(e){return!Tc(e.limit)&&"F"===e.limitType}function fu(e){return!Tc(e.limit)&&"L"===e.limitType}function pu(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function mu(e){for(const t of e.filters)if(t.V())return t.field;return null}function gu(e){return null!==e.collectionGroup}function yu(e){const t=Va(e);if(null===t.S){t.S=[];const e=mu(t),n=pu(t);if(null!==e&&null===n)e.isKeyField()||t.S.push(new ou(e)),t.S.push(new ou(dc.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.S.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new ou(dc.keyField(),e))}}}return t.S}function vu(e){const t=Va(e);if(!t.D)if("F"===t.limitType)t.D=$c(t.path,t.collectionGroup,yu(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of yu(t)){const t="desc"===n.dir?"asc":"desc";e.push(new ou(n.field,t))}const n=t.endAt?new ru(t.endAt.position,!t.endAt.before):null,r=t.startAt?new ru(t.startAt.position,!t.startAt.before):null;t.D=$c(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.D}function wu(e,t,n){return new uu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function bu(e,t){return Hc(vu(e),vu(t))&&e.limitType===t.limitType}function _u(e){return`${Wc(vu(e))}|lt:${e.limitType}`}function Tu(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${Pc(t.value)}`;var t})).join(", ")}]`),Tc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: "+iu(e.startAt)),e.endAt&&(t+=", endAt: "+iu(e.endAt)),`Target(${t})`}(vu(e))}; limitType=${e.limitType})`}function Eu(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):kc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!au(e.startAt,yu(e),t)||e.endAt&&au(e.endAt,yu(e),t))}(e,t)}function Iu(e){return(t,n)=>{let r=!1;for(const i of yu(e)){const e=ku(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ku(e,t,n){const r=e.field.isKeyField()?kc.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Nc(r,i):Ua()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ua()}}function Su(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ec(t)?"-0":t}}function Cu(e){return{integerValue:""+e}}function xu(e,t){return Ic(t)?Cu(t):Su(e,t)}class Nu{constructor(){this._=void 0}}function Au(e,t,n){return e instanceof Du?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ru?Lu(e,t):e instanceof Mu?Fu(e,t):function(e,t){const n=Ou(e,t),r=ju(n)+ju(e.N);return Rc(n)&&Rc(e.N)?Cu(r):Su(e.k,r)}(e,t)}function Pu(e,t,n){return e instanceof Ru?Lu(e,t):e instanceof Mu?Fu(e,t):n}function Ou(e,t){return e instanceof Uu?Rc(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Du extends Nu{}class Ru extends Nu{constructor(e){super(),this.elements=e}}function Lu(e,t){const n=Vu(t);for(const t of e.elements)n.some((e=>Cc(e,t)))||n.push(t);return{arrayValue:{values:n}}}class Mu extends Nu{constructor(e){super(),this.elements=e}}function Fu(e,t){let n=Vu(t);for(const t of e.elements)n=n.filter((e=>!Cc(e,t)));return{arrayValue:{values:n}}}class Uu extends Nu{constructor(e,t){super(),this.k=e,this.N=t}}function ju(e){return yc(e.integerValue||e.doubleValue)}function Vu(e){return Lc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class qu{constructor(e,t){this.field=e,this.transform=t}}class Bu{constructor(e,t){this.version=e,this.transformResults=t}}class zu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zu}static exists(e){return new zu(void 0,e)}static updateTime(e){return new zu(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $u(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Wu{}function Hu(e,t,n){e instanceof Ju?function(e,t,n){const r=e.value.clone(),i=el(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Zu?function(e,t,n){if(!$u(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=el(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Xu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ku(e,t,n){e instanceof Ju?function(e,t,n){if(!$u(e.precondition,t))return;const r=e.value.clone(),i=tl(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Yu(t),r).setHasLocalMutations()}(e,t,n):e instanceof Zu?function(e,t,n){if(!$u(e.precondition,t))return;const r=tl(e.fieldTransforms,n,t),i=t.data;i.setAll(Xu(e)),i.setAll(r),t.convertToFoundDocument(Yu(t),i).setHasLocalMutations()}(e,t,n):function(e,t){$u(e.precondition,t)&&t.convertToNoDocument(oc.min())}(e,t)}function Gu(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Ou(r.transform,e||null);null!=i&&(null==n&&(n=Vc.empty()),n.set(r.field,i))}return n||null}function Qu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&nc(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ru&&t instanceof Ru||e instanceof Mu&&t instanceof Mu?nc(e.elements,t.elements,Cc):e instanceof Uu&&t instanceof Uu?Cc(e.N,t.N):e instanceof Du&&t instanceof Du}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Yu(e){return e.isFoundDocument()?e.version:oc.min()}class Ju extends Wu{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Zu extends Wu{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function Xu(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function el(e,t,n){const r=new Map;ja(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Pu(s,a,n[i]))}return r}function tl(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Au(e,o,t))}return r}class nl extends Wu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class rl extends Wu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class il{constructor(e){this.count=e}}var ol,sl;function al(e){switch(e){default:return Ua();case qa.CANCELLED:case qa.UNKNOWN:case qa.DEADLINE_EXCEEDED:case qa.RESOURCE_EXHAUSTED:case qa.INTERNAL:case qa.UNAVAILABLE:case qa.UNAUTHENTICATED:return!1;case qa.INVALID_ARGUMENT:case qa.NOT_FOUND:case qa.ALREADY_EXISTS:case qa.PERMISSION_DENIED:case qa.FAILED_PRECONDITION:case qa.ABORTED:case qa.OUT_OF_RANGE:case qa.UNIMPLEMENTED:case qa.DATA_LOSS:return!0}}function cl(e){if(void 0===e)return La("GRPC error has no .code"),qa.UNKNOWN;switch(e){case ol.OK:return qa.OK;case ol.CANCELLED:return qa.CANCELLED;case ol.UNKNOWN:return qa.UNKNOWN;case ol.DEADLINE_EXCEEDED:return qa.DEADLINE_EXCEEDED;case ol.RESOURCE_EXHAUSTED:return qa.RESOURCE_EXHAUSTED;case ol.INTERNAL:return qa.INTERNAL;case ol.UNAVAILABLE:return qa.UNAVAILABLE;case ol.UNAUTHENTICATED:return qa.UNAUTHENTICATED;case ol.INVALID_ARGUMENT:return qa.INVALID_ARGUMENT;case ol.NOT_FOUND:return qa.NOT_FOUND;case ol.ALREADY_EXISTS:return qa.ALREADY_EXISTS;case ol.PERMISSION_DENIED:return qa.PERMISSION_DENIED;case ol.FAILED_PRECONDITION:return qa.FAILED_PRECONDITION;case ol.ABORTED:return qa.ABORTED;case ol.OUT_OF_RANGE:return qa.OUT_OF_RANGE;case ol.UNIMPLEMENTED:return qa.UNIMPLEMENTED;case ol.DATA_LOSS:return qa.DATA_LOSS;default:return Ua()}}(sl=ol||(ol={}))[sl.OK=0]="OK",sl[sl.CANCELLED=1]="CANCELLED",sl[sl.UNKNOWN=2]="UNKNOWN",sl[sl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sl[sl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sl[sl.NOT_FOUND=5]="NOT_FOUND",sl[sl.ALREADY_EXISTS=6]="ALREADY_EXISTS",sl[sl.PERMISSION_DENIED=7]="PERMISSION_DENIED",sl[sl.UNAUTHENTICATED=16]="UNAUTHENTICATED",sl[sl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sl[sl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sl[sl.ABORTED=10]="ABORTED",sl[sl.OUT_OF_RANGE=11]="OUT_OF_RANGE",sl[sl.UNIMPLEMENTED=12]="UNIMPLEMENTED",sl[sl.INTERNAL=13]="INTERNAL",sl[sl.UNAVAILABLE=14]="UNAVAILABLE",sl[sl.DATA_LOSS=15]="DATA_LOSS";class ul{constructor(e,t){this.comparator=e,this.root=t||hl.EMPTY}insert(e,t){return new ul(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,hl.BLACK,null,null))}remove(e){return new ul(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ll(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ll(this.root,e,this.comparator,!1)}getReverseIterator(){return new ll(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ll(this.root,e,this.comparator,!0)}}class ll{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hl{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:hl.RED,this.left=null!=r?r:hl.EMPTY,this.right=null!=i?i:hl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new hl(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return hl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return hl.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ua();if(this.right.isRed())throw Ua();const e=this.left.check();if(e!==this.right.check())throw Ua();return e+(this.isRed()?0:1)}}hl.EMPTY=null,hl.RED=!0,hl.BLACK=!1,hl.EMPTY=new class{constructor(){this.size=0}get key(){throw Ua()}get value(){throw Ua()}get color(){throw Ua()}get left(){throw Ua()}get right(){throw Ua()}copy(e,t,n,r,i){return this}insert(e,t,n){return new hl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dl{constructor(e){this.comparator=e,this.data=new ul(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fl(this.data.getIterator())}getIteratorFrom(e){return new fl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof dl))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new dl(this.comparator);return t.data=e,t}}class fl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const pl=new ul(kc.comparator);function ml(){return pl}const gl=new ul(kc.comparator);function yl(){return gl}const vl=new ul(kc.comparator);function wl(){return vl}const bl=new dl(kc.comparator);function _l(...e){let t=bl;for(const n of e)t=t.add(n);return t}const Tl=new dl(tc);function El(){return Tl}class Il{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,kl.createSynthesizedTargetChangeForCurrentChange(e,t)),new Il(oc.min(),n,El(),ml(),_l())}}class kl{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new kl(pc.EMPTY_BYTE_STRING,t,_l(),_l(),_l())}}class Sl{constructor(e,t,n,r){this.$=e,this.removedTargetIds=t,this.key=n,this.O=r}}class Cl{constructor(e,t){this.targetId=e,this.M=t}}class xl{constructor(e,t,n=pc.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Nl{constructor(){this.F=0,this.L=Ol(),this.B=pc.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=_l(),t=_l(),n=_l();return this.L.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ua()}})),new kl(this.B,this.U,e,t,n)}H(){this.q=!1,this.L=Ol()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class Al{constructor(e){this.et=e,this.nt=new Map,this.st=ml(),this.it=Pl(),this.rt=new dl(tc)}ot(e){for(const t of e.$)e.O&&e.O.isFoundDocument()?this.ct(t,e.O):this.at(t,e.key,e.O);for(const t of e.removedTargetIds)this.at(t,e.key,e.O)}ut(e){this.forEachTarget(e,(t=>{const n=this.ht(t);switch(e.state){case 0:this.lt(t)&&n.W(e.resumeToken);break;case 1:n.Z(),n.K||n.H(),n.W(e.resumeToken);break;case 2:n.Z(),n.K||this.removeTarget(t);break;case 3:this.lt(t)&&(n.tt(),n.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),n.W(e.resumeToken));break;default:Ua()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach(((e,n)=>{this.lt(n)&&t(n)}))}dt(e){const t=e.targetId,n=e.M.count,r=this.wt(t);if(r){const e=r.target;if(Kc(e))if(0===n){const n=new kc(e.path);this.at(t,n,Bc.newNoDocument(n,oc.min()))}else ja(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach(((n,r)=>{const i=this.wt(r);if(i){if(n.current&&Kc(i.target)){const t=new kc(i.target.path);null!==this.st.get(t)||this.yt(r,t)||this.at(r,t,Bc.newNoDocument(t,e))}n.j&&(t.set(r,n.G()),n.H())}}));let n=_l();this.it.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.wt(e);return!t||2===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))}));const r=new Il(e,t,this.rt,this.st,n);return this.st=ml(),this.it=Pl(),this.rt=new dl(tc),r}ct(e,t){if(!this.lt(e))return;const n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}at(e,t,n){if(!this.lt(e))return;const r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new Nl,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new dl(tc),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||Ra("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new Nl),this.et.getRemoteKeysForTarget(e).forEach((t=>{this.at(e,t,null)}))}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function Pl(){return new ul(kc.comparator)}function Ol(){return new ul(kc.comparator)}const Dl={asc:"ASCENDING",desc:"DESCENDING"},Rl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Ll{constructor(e,t){this.databaseId=e,this.C=t}}function Ml(e,t){return e.C?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Fl(e,t){return e.C?t.toBase64():t.toUint8Array()}function Ul(e,t){return Ml(e,t.toTimestamp())}function jl(e){return ja(!!e),oc.fromTimestamp(function(e){const t=gc(e);return new ic(t.seconds,t.nanos)}(e))}function Vl(e,t){return function(e){return new lc(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ql(e){const t=lc.fromString(e);return ja(hh(t)),t}function Bl(e,t){return Vl(e.databaseId,t.path)}function zl(e,t){const n=ql(t);if(n.get(1)!==e.databaseId.projectId)throw new Ba(qa.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ba(qa.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new kc(Kl(n))}function $l(e,t){return Vl(e.databaseId,t)}function Wl(e){const t=ql(e);return 4===t.length?lc.emptyPath():Kl(t)}function Hl(e){return new lc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Kl(e){return ja(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Gl(e,t,n){return{name:Bl(e,t),fields:n.value.mapValue.fields}}function Ql(e,t,n){const r=zl(e,t.name),i=jl(t.updateTime),o=new Vc({mapValue:{fields:t.fields}}),s=Bc.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Yl(e,t){let n;if(t instanceof Ju)n={update:Gl(e,t.key,t.value)};else if(t instanceof nl)n={delete:Bl(e,t.key)};else if(t instanceof Zu)n={update:Gl(e,t.key,t.data),updateMask:lh(t.fieldMask)};else{if(!(t instanceof rl))return Ua();n={verify:Bl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Du)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ru)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Mu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Uu)return{fieldPath:t.field.canonicalString(),increment:n.N};throw Ua()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ul(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ua()}(e,t.precondition)),n}function Jl(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?zu.updateTime(jl(e.updateTime)):void 0!==e.exists?zu.exists(e.exists):zu.none()}(t.currentDocument):zu.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)ja("REQUEST_TIME"===t.setToServerValue),n=new Du;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Ru(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Mu(e)}else"increment"in t?n=new Uu(e,t.increment):Ua();const r=dc.fromServerFormat(t.fieldPath);return new qu(r,n)}(e,t))):[];if(t.update){t.update.name;const i=zl(e,t.update.name),o=new Vc({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new fc(t.map((e=>dc.fromServerFormat(e))))}(t.updateMask);return new Zu(i,o,e,n,r)}return new Ju(i,o,n,r)}if(t.delete){const r=zl(e,t.delete);return new nl(r,n)}if(t.verify){const r=zl(e,t.verify);return new rl(r,n)}return Ua()}function Zl(e,t){return{documents:[$l(e,t.path)]}}function Xl(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=$l(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=$l(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(Fc(e.value))return{unaryFilter:{field:sh(e.field),op:"IS_NAN"}};if(Mc(e.value))return{unaryFilter:{field:sh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Fc(e.value))return{unaryFilter:{field:sh(e.field),op:"IS_NOT_NAN"}};if(Mc(e.value))return{unaryFilter:{field:sh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sh(e.field),op:oh(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:sh(e.field),direction:ih(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=function(e,t){return e.C||Tc(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=nh(t.startAt)),t.endAt&&(n.structuredQuery.endAt=nh(t.endAt)),n}function eh(e){let t=Wl(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ja(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=th(n.where));let s=[];n.orderBy&&(s=n.orderBy.map((e=>function(e){return new ou(ah(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Tc(t)?null:t}(n.limit));let c=null;n.startAt&&(c=rh(n.startAt));let u=null;return n.endAt&&(u=rh(n.endAt)),lu(t,i,s,o,a,"F",c,u)}function th(e){return e?void 0!==e.unaryFilter?[uh(e)]:void 0!==e.fieldFilter?[ch(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>th(e))).reduce(((e,t)=>e.concat(t))):Ua():[]}function nh(e){return{before:e.before,values:e.position}}function rh(e){const t=!!e.before,n=e.values||[];return new ru(n,t)}function ih(e){return Dl[e]}function oh(e){return Rl[e]}function sh(e){return{fieldPath:e.canonicalString()}}function ah(e){return dc.fromServerFormat(e.fieldPath)}function ch(e){return Gc.create(ah(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ua()}}(e.fieldFilter.op),e.fieldFilter.value)}function uh(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ah(e.unaryFilter.field);return Gc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=ah(e.unaryFilter.field);return Gc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ah(e.unaryFilter.field);return Gc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ah(e.unaryFilter.field);return Gc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ua()}}function lh(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function hh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function dh(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=ph(t)),t=fh(e.get(n),t);return ph(t)}function fh(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function ph(e){return e+""}function mh(e){const t=e.length;if(ja(t>=2),2===t)return ja(""===e.charAt(0)&&""===e.charAt(1)),lc.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("",o);switch((t<0||t>n)&&Ua(),e.charAt(t+1)){case"":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"":i+=e.substring(o,t),i+="\0";break;case"":i+=e.substring(o,t+1);break;default:Ua()}o=t+2}return new lc(r)}class gh{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class yh{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}yh.store="owner",yh.key="owner";class vh{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}vh.store="mutationQueues",vh.keyPath="userId";class wh{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}wh.store="mutations",wh.keyPath="batchId",wh.userMutationsIndex="userMutationsIndex",wh.userMutationsKeyPath=["userId","batchId"];class bh{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,dh(t)]}static key(e,t,n){return[e,dh(t),n]}}bh.store="documentMutations",bh.PLACEHOLDER=new bh;class _h{constructor(e,t){this.path=e,this.readTime=t}}class Th{constructor(e,t){this.path=e,this.version=t}}class Eh{constructor(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o}}Eh.store="remoteDocuments",Eh.readTimeIndex="readTimeIndex",Eh.readTimeIndexPath="readTime",Eh.collectionReadTimeIndex="collectionReadTimeIndex",Eh.collectionReadTimeIndexPath=["parentPath","readTime"];class Ih{constructor(e){this.byteSize=e}}Ih.store="remoteDocumentGlobal",Ih.key="remoteDocumentGlobalKey";class kh{constructor(e,t,n,r,i,o,s){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s}}kh.store="targets",kh.keyPath="targetId",kh.queryTargetsIndexName="queryTargetsIndex",kh.queryTargetsKeyPath=["canonicalId","targetId"];class Sh{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}Sh.store="targetDocuments",Sh.keyPath=["targetId","path"],Sh.documentTargetsIndex="documentTargetsIndex",Sh.documentTargetsKeyPath=["path","targetId"];class Ch{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}Ch.key="targetGlobalKey",Ch.store="targetGlobal";class xh{constructor(e,t){this.collectionId=e,this.parent=t}}xh.store="collectionParents",xh.keyPath=["collectionId","parent"];class Nh{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}Nh.store="clientMetadata",Nh.keyPath="clientId";class Ah{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}Ah.store="bundles",Ah.keyPath="bundleId";class Ph{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}Ph.store="namedQueries",Ph.keyPath="name";const Oh=[vh.store,wh.store,bh.store,Eh.store,kh.store,yh.store,Ch.store,Sh.store,Nh.store,Ih.store,xh.store,Ah.store,Ph.store],Dh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}class Lh{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ua(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Lh(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Lh?t:Lh.resolve(t)}catch(e){return Lh.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Lh.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Lh.reject(t)}static resolve(e){return new Lh(((t,n)=>{t(e)}))}static reject(e){return new Lh(((t,n)=>{n(e)}))}static waitFor(e){return new Lh(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Lh.resolve(!1);for(const n of e)t=t.next((e=>e?Lh.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}}class Mh{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new za,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new jh(e,t.error)):this.It.resolve()},this.transaction.onerror=t=>{const n=$h(t.target.error);this.It.reject(new jh(e,n))}}static open(e,t,n,r){try{return new Mh(t,e.transaction(r,n))}catch(e){throw new jh(t,e)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(Ra("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new qh(t)}}class Fh{constructor(e,t,n){this.name=e,this.version=t,this.Rt=n,12.2===Fh.bt(dn())&&La("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ra("SimpleDb","Removing database:",e),Bh(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if(!vn())return!1;if(Fh.vt())return!0;const e=dn(),t=Fh.bt(e),n=0<t&&t<10,r=Fh.Vt(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static bt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async Ct(e){return this.db||(Ra("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new jh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Ba(qa.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Ba(qa.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new jh(e,r))},r.onupgradeneeded=e=>{Ra("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.Rt.Nt(t,r.transaction,e.oldVersion,this.version).next((()=>{Ra("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.kt&&(this.db.onversionchange=e=>this.kt(e)),this.db}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.Ct(e);const t=Mh.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).catch((e=>(t.abort(e),Lh.reject(e)))).toPromise();return o.catch((()=>{})),await t.At,o}catch(e){const t="FirebaseError"!==e.name&&o<3;if(Ra("SimpleDb","Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Uh{constructor(e){this.$t=e,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Mt=e}delete(){return Bh(this.$t.delete())}}class jh extends Ba{constructor(e,t){super(qa.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Vh(e){return"IndexedDbTransactionError"===e.name}class qh{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Ra("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ra("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Bh(n)}add(e){return Ra("SimpleDb","ADD",this.store.name,e,e),Bh(this.store.add(e))}get(e){return Bh(this.store.get(e)).next((t=>(void 0===t&&(t=null),Ra("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Ra("SimpleDb","DELETE",this.store.name,e),Bh(this.store.delete(e))}count(){return Ra("SimpleDb","COUNT",this.store.name),Bh(this.store.count())}Bt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,((e,t)=>{r.push(t)})).next((()=>r))}qt(e,t){Ra("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Kt=!1;const r=this.cursor(n);return this.Ut(r,((e,t,n)=>n.delete()))}jt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Ut(r,t)}Qt(e){const t=this.cursor({});return new Lh(((n,r)=>{t.onerror=e=>{const t=$h(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}Ut(e,t){const n=[];return new Lh(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new Uh(i),s=t(i.primaryKey,i.value,o);if(s instanceof Lh){const e=s.catch((e=>(o.done(),Lh.reject(e))));n.push(e)}o.isDone?r():null===o.Ft?i.continue():i.continue(o.Ft)}})).next((()=>Lh.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Bh(e){return new Lh(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=$h(e.target.error);n(t)}}))}let zh=!1;function $h(e){const t=Fh.bt(dn());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Ba("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return zh||(zh=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Wh extends Rh{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function Hh(e,t){const n=Va(e);return Fh.Dt(n.Wt,t)}class Kh{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&Hu(r,e,n[t])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Ku(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Ku(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach((t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(oc.min())}))}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),_l())}isEqual(e){return this.batchId===e.batchId&&nc(this.mutations,e.mutations,((e,t)=>Qu(e,t)))&&nc(this.baseMutations,e.baseMutations,((e,t)=>Qu(e,t)))}}class Gh{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ja(e.mutations.length===n.length);let r=wl();const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new Gh(e,t,n,r)}}class Qh{constructor(e,t,n,r,i=oc.min(),o=oc.min(),s=pc.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}withSequenceNumber(e){return new Qh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Qh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Qh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Yh{constructor(e){this.Gt=e}}function Jh(e,t){if(t.document)return Ql(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=kc.fromSegments(t.noDocument.path),n=nd(t.noDocument.readTime),r=Bc.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=kc.fromSegments(t.unknownDocument.path),n=nd(t.unknownDocument.version);return Bc.newUnknownDocument(e,n)}return Ua()}function Zh(e,t,n){const r=Xh(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n=function(e,t){return{name:Bl(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ml(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new Eh(null,null,n,o,r,i)}if(t.isNoDocument()){const e=t.key.path.toArray(),n=td(t.version),o=t.hasCommittedMutations;return new Eh(null,new _h(e,n),null,o,r,i)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=td(t.version);return new Eh(new Th(e,n),null,null,!0,r,i)}return Ua()}function Xh(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ed(e){const t=new ic(e[0],e[1]);return oc.fromTimestamp(t)}function td(e){const t=e.toTimestamp();return new gh(t.seconds,t.nanoseconds)}function nd(e){const t=new ic(e.seconds,e.nanoseconds);return oc.fromTimestamp(t)}function rd(e,t){const n=(t.baseMutations||[]).map((t=>Jl(e.Gt,t)));for(let e=0;e<t.mutations.length-1;++e){const n=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){const r=t.mutations[e+1];n.updateTransforms=r.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}const r=t.mutations.map((t=>Jl(e.Gt,t))),i=ic.fromMillis(t.localWriteTimeMs);return new Kh(t.batchId,i,n,r)}function id(e){const t=nd(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?nd(e.lastLimboFreeSnapshotVersion):oc.min();let r;var i;return void 0!==e.query.documents?(ja(1===(i=e.query).documents.length),r=vu(hu(Wl(i.documents[0])))):r=function(e){return vu(eh(e))}(e.query),new Qh(r,e.targetId,0,e.lastListenSequenceNumber,t,n,pc.fromBase64String(e.resumeToken))}function od(e,t){const n=td(t.snapshotVersion),r=td(t.lastLimboFreeSnapshotVersion);let i;i=Kc(t.target)?Zl(e.Gt,t.target):Xl(e.Gt,t.target);const o=t.resumeToken.toBase64();return new kh(t.targetId,Wc(t.target),n,o,t.sequenceNumber,r,i)}function sd(e){const t=eh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?wu(t,t.limit,"L"):t}class ad{getBundleMetadata(e,t){return cd(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:nd(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return cd(e).put({bundleId:(n=t).id,createTime:td(jl(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return ud(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:sd(t.bundledQuery),readTime:nd(t.readTime)};var t}))}saveNamedQuery(e,t){return ud(e).put(function(e){return{name:e.name,readTime:td(jl(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function cd(e){return Hh(e,Ah.store)}function ud(e){return Hh(e,Ph.store)}class ld{constructor(){this.zt=new hd}addToCollectionParentIndex(e,t){return this.zt.add(t),Lh.resolve()}getCollectionParents(e,t){return Lh.resolve(this.zt.getEntries(t))}}class hd{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new dl(lc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new dl(lc.comparator)).toArray()}}class dd{constructor(){this.Ht=new hd}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.Ht.add(t)}));const i={collectionId:n,parent:dh(r)};return fd(e).put(i)}return Lh.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[rc(t),""],!1,!0);return fd(e).Bt(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(mh(r.parent))}return n}))}}function fd(e){return Hh(e,xh.store)}const pd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class md{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new md(e,md.DEFAULT_COLLECTION_PERCENTILE,md.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function gd(e,t,n){const r=e.store(wh.store),i=e.store(bh.store),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const c=r.jt({range:s},((e,t,n)=>(a++,n.delete())));o.push(c.next((()=>{ja(1===a)})));const u=[];for(const e of n.mutations){const r=bh.key(t,e.key.path,n.batchId);o.push(i.delete(r)),u.push(e.key)}return Lh.waitFor(o).next((()=>u))}function yd(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ua();t=e.noDocument}return JSON.stringify(t).length}md.DEFAULT_COLLECTION_PERCENTILE=10,md.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,md.DEFAULT=new md(41943040,md.DEFAULT_COLLECTION_PERCENTILE,md.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),md.DISABLED=new md(-1,0,0);class vd{constructor(e,t,n,r){this.userId=e,this.k=t,this.Jt=n,this.referenceDelegate=r,this.Yt={}}static Xt(e,t,n,r){ja(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new vd(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bd(e).jt({index:wh.userMutationsIndex,range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=_d(e),o=bd(e);return o.add({}).next((s=>{ja("number"==typeof s);const a=new Kh(s,t,n,r),c=function(e,t,n){const r=n.baseMutations.map((t=>Yl(e.Gt,t))),i=n.mutations.map((t=>Yl(e.Gt,t)));return new wh(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.k,this.userId,a),u=[];let l=new dl(((e,t)=>tc(e.canonicalString(),t.canonicalString())));for(const e of r){const t=bh.key(this.userId,e.key.path,s);l=l.add(e.key.path.popLast()),u.push(o.put(c)),u.push(i.put(t,bh.PLACEHOLDER))}return l.forEach((t=>{u.push(this.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Yt[s]=a.keys()})),Lh.waitFor(u).next((()=>a))}))}lookupMutationBatch(e,t){return bd(e).get(t).next((e=>e?(ja(e.userId===this.userId),rd(this.k,e)):null))}Zt(e,t){return this.Yt[t]?Lh.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Yt[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return bd(e).jt({index:wh.userMutationsIndex,range:r},((e,t,r)=>{t.userId===this.userId&&(ja(t.batchId>=n),i=rd(this.k,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return bd(e).jt({index:wh.userMutationsIndex,range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bd(e).Bt(wh.userMutationsIndex,t).next((e=>e.map((e=>rd(this.k,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=bh.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return _d(e).jt({range:r},((n,r,o)=>{const[s,a,c]=n,u=mh(a);if(s===this.userId&&t.path.isEqual(u))return bd(e).get(c).next((e=>{if(!e)throw Ua();ja(e.userId===this.userId),i.push(rd(this.k,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new dl(tc);const r=[];return t.forEach((t=>{const i=bh.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=_d(e).jt({range:o},((e,r,i)=>{const[o,s,a]=e,c=mh(s);o===this.userId&&t.path.isEqual(c)?n=n.add(a):i.done()}));r.push(s)})),Lh.waitFor(r).next((()=>this.te(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=bh.prefixForPath(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new dl(tc);return _d(e).jt({range:o},((e,t,i)=>{const[o,a,c]=e,u=mh(a);o===this.userId&&n.isPrefixOf(u)?u.length===r&&(s=s.add(c)):i.done()})).next((()=>this.te(e,s)))}te(e,t){const n=[],r=[];return t.forEach((t=>{r.push(bd(e).get(t).next((e=>{if(null===e)throw Ua();ja(e.userId===this.userId),n.push(rd(this.k,e))})))})),Lh.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return gd(e.Wt,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.ee(t.batchId)})),Lh.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Lh.resolve();const n=IDBKeyRange.lowerBound(bh.prefixForUser(this.userId)),r=[];return _d(e).jt({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=mh(e[1]);r.push(t)}else n.done()})).next((()=>{ja(0===r.length)}))}))}containsKey(e,t){return wd(e,this.userId,t)}ne(e){return Td(e).get(this.userId).next((e=>e||new vh(this.userId,-1,"")))}}function wd(e,t,n){const r=bh.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return _d(e).jt({range:o,Kt:!0},((e,n,r)=>{const[o,a,c]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function bd(e){return Hh(e,wh.store)}function _d(e){return Hh(e,bh.store)}function Td(e){return Hh(e,vh.store)}class Ed{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new Ed(0)}static re(){return new Ed(-1)}}class Id{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next((t=>{const n=new Ed(t.highestTargetId);return t.highestTargetId=n.next(),this.ce(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.oe(e).next((e=>oc.fromTimestamp(new ic(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.oe(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.oe(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.ce(e,r))))}addTargetData(e,t){return this.ae(e,t).next((()=>this.oe(e).next((n=>(n.targetCount+=1,this.ue(t,n),this.ce(e,n))))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>kd(e).delete(t.targetId))).next((()=>this.oe(e))).next((t=>(ja(t.targetCount>0),t.targetCount-=1,this.ce(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return kd(e).jt(((o,s)=>{const a=id(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Lh.waitFor(i))).next((()=>r))}forEachTarget(e,t){return kd(e).jt(((e,n)=>{const r=id(n);t(r)}))}oe(e){return Sd(e).get(Ch.key).next((e=>(ja(null!==e),e)))}ce(e,t){return Sd(e).put(Ch.key,t)}ae(e,t){return kd(e).put(od(this.k,t))}ue(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.oe(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Wc(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return kd(e).jt({range:r,index:kh.queryTargetsIndexName},((e,n,r)=>{const o=id(n);Hc(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Cd(e);return t.forEach((t=>{const o=dh(t.path);r.push(i.put(new Sh(n,o))),r.push(this.referenceDelegate.addReference(e,n,t))})),Lh.waitFor(r)}removeMatchingKeys(e,t,n){const r=Cd(e);return Lh.forEach(t,(t=>{const i=dh(t.path);return Lh.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Cd(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Cd(e);let i=_l();return r.jt({range:n,Kt:!0},((e,t,n)=>{const r=mh(e[1]),o=new kc(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=dh(t.path),r=IDBKeyRange.bound([n],[rc(n)],!1,!0);let i=0;return Cd(e).jt({index:Sh.documentTargetsIndex,Kt:!0,range:r},(([e,t],n,r)=>{0!==e&&(i++,r.done())})).next((()=>i>0))}Et(e,t){return kd(e).get(t).next((e=>e?id(e):null))}}function kd(e){return Hh(e,kh.store)}function Sd(e){return Hh(e,Ch.store)}function Cd(e){return Hh(e,Sh.store)}async function xd(e){if(e.code!==qa.FAILED_PRECONDITION||e.message!==Dh)throw e;Ra("LocalStore","Unexpectedly lost primary lease")}function Nd([e,t],[n,r]){const i=tc(e,n);return 0===i?tc(t,r):i}class Ad{constructor(e){this.he=e,this.buffer=new dl(Nd),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Nd(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Pd{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){const t=this.we?3e5:6e4;Ra("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this._e=null,this.we=!0;try{await e.collectGarbage(this.garbageCollector)}catch(e){Vh(e)?Ra("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await xd(e)}await this.me(e)}))}}class Od{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Lh.resolve(Za.I);const n=new Ad(t);return this.ge.forEachTarget(e,(e=>n.de(e.sequenceNumber))).next((()=>this.ge.pe(e,(e=>n.de(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.ge.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ra("LruGarbageCollector","Garbage collection skipped; disabled"),Lh.resolve(pd)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ra("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pd):this.Te(e,t)))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let n,r,i,o,s,a,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Ra("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),Da()<=Fn.DEBUG&&Ra("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-u}ms\n\tDetermined least recently used ${r} in `+(s-o)+"ms\n"+`\tRemoved ${i} targets in `+(a-s)+"ms\n"+`\tRemoved ${e} documents in `+(c-a)+"ms\n"+`Total Duration: ${c-u}ms`),Lh.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}class Dd{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new Od(e,t)}(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Ee(e){let t=0;return this.pe(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,((e,n)=>t(n)))}addReference(e,t,n){return Rd(e,n)}removeReference(e,t,n){return Rd(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Rd(e,t)}Ae(e,t){return function(e,t){let n=!1;return Td(e).Qt((r=>wd(e,r,t).next((e=>(e&&(n=!0),Lh.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Ie(e,((o,s)=>{if(s<=t){const t=this.Ae(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o),Cd(e).delete([0,dh(o.path)]))))}));r.push(t)}})).next((()=>Lh.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Rd(e,t)}Ie(e,t){const n=Cd(e);let r,i=Za.I;return n.jt({index:Sh.documentTargetsIndex},(([e,n],{path:o,sequenceNumber:s})=>{0===e?(i!==Za.I&&t(new kc(mh(r)),i),i=s,r=o):i=Za.I})).next((()=>{i!==Za.I&&t(new kc(mh(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Rd(e,t){return Cd(e).put(function(e,t){return new Sh(0,dh(e.path),t)}(t,e.currentSequenceNumber))}class Ld{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){ac(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return cc(this.inner)}}class Md{constructor(){this.changes=new Ld((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:oc.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Bc.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Lh.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Fd{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,n){return Vd(e).put(qd(t),n)}removeEntry(e,t){const n=Vd(e),r=qd(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Re(e,n))))}getEntry(e,t){return Vd(e).get(qd(t)).next((e=>this.be(t,e)))}Pe(e,t){return Vd(e).get(qd(t)).next((e=>({document:this.be(t,e),size:yd(e)})))}getEntries(e,t){let n=ml();return this.ve(e,t,((e,t)=>{const r=this.be(e,t);n=n.insert(e,r)})).next((()=>n))}Ve(e,t){let n=ml(),r=new ul(kc.comparator);return this.ve(e,t,((e,t)=>{const i=this.be(e,t);n=n.insert(e,i),r=r.insert(e,yd(t))})).next((()=>({documents:n,Se:r})))}ve(e,t,n){if(t.isEmpty())return Lh.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator();let o=i.getNext();return Vd(e).jt({range:r},((e,t,r)=>{const s=kc.fromSegments(e);for(;o&&kc.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Lt(o.path.toArray()):r.done()})).next((()=>{for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))}getDocumentsMatchingQuery(e,t,n){let r=ml();const i=t.path.length+1,o={};if(n.isEqual(oc.min())){const e=t.path.toArray();o.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),r=Xh(n);o.range=IDBKeyRange.lowerBound([e,r],!0),o.index=Eh.collectionReadTimeIndex}return Vd(e).jt(o,((e,n,o)=>{if(e.length!==i)return;const s=Jh(this.k,n);t.path.isPrefixOf(s.key.path)?Eu(t,s)&&(r=r.insert(s.key,s)):o.done()})).next((()=>r))}newChangeBuffer(e){return new Ud(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return jd(e).get(Ih.key).next((e=>(ja(!!e),e)))}Re(e,t){return jd(e).put(Ih.key,t)}be(e,t){if(t){const e=Jh(this.k,t);if(!e.isNoDocument()||!e.version.isEqual(oc.min()))return e}return Bc.newInvalidDocument(e)}}class Ud extends Md{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new Ld((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new dl(((e,t)=>tc(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.Ce.get(i);if(o.document.isValidDocument()){const a=Zh(this.De.k,o.document,this.getReadTime(i));r=r.add(i.path.popLast());const c=yd(a);n+=c-s,t.push(this.De.addEntry(e,i,a))}else if(n-=s,this.trackRemovals){const n=Zh(this.De.k,Bc.newNoDocument(i,oc.min()),this.getReadTime(i));t.push(this.De.addEntry(e,i,n))}else t.push(this.De.removeEntry(e,i))})),r.forEach((n=>{t.push(this.De.Jt.addToCollectionParentIndex(e,n))})),t.push(this.De.updateMetadata(e,n)),Lh.waitFor(t)}getFromCache(e,t){return this.De.Pe(e,t).next((e=>(this.Ce.set(t,e.size),e.document)))}getAllFromCache(e,t){return this.De.Ve(e,t).next((({documents:e,Se:t})=>(t.forEach(((e,t)=>{this.Ce.set(e,t)})),e)))}}function jd(e){return Hh(e,Ih.store)}function Vd(e){return Hh(e,Eh.store)}function qd(e){return e.path.toArray()}class Bd{constructor(e){this.k=e}Nt(e,t,n,r){ja(n<r&&n>=0&&r<=11);const i=new Mh("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(yh.store)}(e),function(e){e.createObjectStore(vh.store,{keyPath:vh.keyPath}),e.createObjectStore(wh.store,{keyPath:wh.keyPath,autoIncrement:!0}).createIndex(wh.userMutationsIndex,wh.userMutationsKeyPath,{unique:!0}),e.createObjectStore(bh.store)}(e),zd(e),function(e){e.createObjectStore(Eh.store)}(e));let o=Lh.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Sh.store),e.deleteObjectStore(kh.store),e.deleteObjectStore(Ch.store)}(e),zd(e)),o=o.next((()=>function(e){const t=e.store(Ch.store),n=new Ch(0,0,oc.min().toTimestamp(),0);return t.put(Ch.key,n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store(wh.store).Bt().next((n=>{e.deleteObjectStore(wh.store),e.createObjectStore(wh.store,{keyPath:wh.keyPath,autoIncrement:!0}).createIndex(wh.userMutationsIndex,wh.userMutationsKeyPath,{unique:!0});const r=t.store(wh.store),i=n.map((e=>r.put(e)));return Lh.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore(Nh.store,{keyPath:Nh.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Ne(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore(Ih.store)}(e),this.ke(i))))),n<7&&r>=7&&(o=o.next((()=>this.xe(i)))),n<8&&r>=8&&(o=o.next((()=>this.$e(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){const t=e.objectStore(Eh.store);t.createIndex(Eh.readTimeIndex,Eh.readTimeIndexPath,{unique:!1}),t.createIndex(Eh.collectionReadTimeIndex,Eh.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((()=>this.Oe(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore(Ah.store,{keyPath:Ah.keyPath})}(e),function(e){e.createObjectStore(Ph.store,{keyPath:Ph.keyPath})}(e)}))),o}ke(e){let t=0;return e.store(Eh.store).jt(((e,n)=>{t+=yd(n)})).next((()=>{const n=new Ih(t);return e.store(Ih.store).put(Ih.key,n)}))}Ne(e){const t=e.store(vh.store),n=e.store(wh.store);return t.Bt().next((t=>Lh.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Bt(wh.userMutationsIndex,r).next((n=>Lh.forEach(n,(n=>{ja(n.userId===t.userId);const r=rd(this.k,n);return gd(e,t.userId,r).next((()=>{}))}))))}))))}xe(e){const t=e.store(Sh.store),n=e.store(Eh.store);return e.store(Ch.store).get(Ch.key).next((e=>{const r=[];return n.jt(((n,i)=>{const o=new lc(n),s=function(e){return[0,dh(e)]}(o);r.push(t.get(s).next((n=>n?Lh.resolve():(n=>t.put(new Sh(0,dh(n),e.highestListenSequenceNumber)))(o))))})).next((()=>Lh.waitFor(r)))}))}$e(e,t){e.createObjectStore(xh.store,{keyPath:xh.keyPath});const n=t.store(xh.store),r=new hd,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:dh(r)})}};return t.store(Eh.store).jt({Kt:!0},((e,t)=>{const n=new lc(e);return i(n.popLast())})).next((()=>t.store(bh.store).jt({Kt:!0},(([e,t,n],r)=>{const o=mh(t);return i(o.popLast())}))))}Oe(e){const t=e.store(kh.store);return t.jt(((e,n)=>{const r=id(n),i=od(this.k,r);return t.put(i)}))}}function zd(e){e.createObjectStore(Sh.store,{keyPath:Sh.keyPath}).createIndex(Sh.documentTargetsIndex,Sh.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(kh.store,{keyPath:kh.keyPath}).createIndex(kh.queryTargetsIndexName,kh.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Ch.store)}const $d="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Wd{constructor(e,t,n,r,i,o,s,a,c,u){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Me=i,this.window=o,this.document=s,this.Fe=c,this.Le=u,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=e=>Promise.resolve(),!Wd.Pt())throw new Ba(qa.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Dd(this,r),this.Ge=t+"main",this.k=new Yh(a),this.ze=new Fh(this.Ge,11,new Bd(this.k)),this.He=new Id(this.referenceDelegate,this.k),this.Jt=new dd,this.Je=function(e,t){return new Fd(e,t)}(this.k,this.Jt),this.Ye=new ad,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===u&&La("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ba(qa.FAILED_PRECONDITION,$d);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.He.getHighestSequenceNumber(e)))})).then((e=>{this.Be=new Za(e,this.Fe)})).then((()=>{this.Ue=!0})).catch((e=>(this.ze&&this.ze.close(),Promise.reject(e))))}sn(e){return this.We=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget((async()=>{this.started&&await this.Ze()})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Kd(e).put(new Nh(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next((()=>{if(this.isPrimary)return this.rn(e).next((e=>{e||(this.isPrimary=!1,this.Me.enqueueRetryable((()=>this.We(!1))))}))})).next((()=>this.on(e))).next((t=>this.isPrimary&&!t?this.cn(e).next((()=>!1)):!!t&&this.an(e).next((()=>!0)))))).catch((e=>{if(Vh(e))return Ra("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ra("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Me.enqueueRetryable((()=>this.We(e))),this.isPrimary=e}))}rn(e){return Hd(e).get(yh.key).next((e=>Lh.resolve(this.un(e))))}hn(e){return Kd(e).delete(this.clientId)}async ln(){if(this.isPrimary&&!this.fn(this.Qe,18e5)){this.Qe=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Hh(e,Nh.store);return t.Bt().next((e=>{const n=this.dn(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Lh.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Xe)for(const t of e)this.Xe.removeItem(this.wn(t.clientId))}}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ze().then((()=>this.ln())).then((()=>this.nn()))))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?Lh.resolve(!0):Hd(e).get(yh.key).next((t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new Ba(qa.FAILED_PRECONDITION,$d);return!1}}return!(!this.networkEnabled||!this.inForeground)||Kd(e).Bt().next((e=>void 0===this.dn(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Ra("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),await this.ze.runTransaction("shutdown","readwrite",[yh.store,Nh.store],(e=>{const t=new Wh(e,Za.I);return this.cn(t).next((()=>this.hn(t)))})),this.ze.close(),this.pn()}dn(e,t){return e.filter((e=>this.fn(e.updateTimeMs,t)&&!this._n(e.clientId)))}Tn(){return this.runTransaction("getActiveClients","readonly",(e=>Kd(e).Bt().next((e=>this.dn(e,18e5).map((e=>e.clientId))))))}get started(){return this.Ue}getMutationQueue(e){return vd.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,n){Ra("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite";let i;return this.ze.runTransaction(e,r,Oh,(r=>(i=new Wh(r,this.Be?this.Be.next():Za.I),"readwrite-primary"===t?this.rn(i).next((e=>!!e||this.on(i))).next((t=>{if(!t)throw La(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Me.enqueueRetryable((()=>this.We(!1))),new Ba(qa.FAILED_PRECONDITION,Dh);return n(i)})).next((e=>this.an(i).next((()=>e)))):this.En(i).next((()=>n(i)))))).then((e=>(i.raiseOnCommittedEvent(),e)))}En(e){return Hd(e).get(yh.key).next((e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)&&!this.un(e)&&!(this.Le||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ba(qa.FAILED_PRECONDITION,$d)}))}an(e){const t=new yh(this.clientId,this.allowTabSynchronization,Date.now());return Hd(e).put(yh.key,t)}static Pt(){return Fh.Pt()}cn(e){const t=Hd(e);return t.get(yh.key).next((e=>this.un(e)?(Ra("IndexedDbPersistence","Releasing primary lease."),t.delete(yh.key)):Lh.resolve()))}fn(e,t){const n=Date.now();return!(e<n-t||e>n&&(La(`Detected an update time that is in the future: ${e} > ${n}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze())))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),!pn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Ra("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return La("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){La("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Hd(e){return Hh(e,yh.store)}function Kd(e){return Hh(e,Nh.store)}function Gd(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Qd{constructor(e,t){this.progress=e,this.In=t}}class Yd{constructor(e,t,n){this.Je=e,this.An=t,this.Jt=n}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((n=>this.bn(e,t,n)))}bn(e,t,n){return this.Je.getEntry(e,t).next((e=>{for(const t of n)t.applyToLocalView(e);return e}))}Pn(e,t){e.forEach(((e,n)=>{for(const e of t)e.applyToLocalView(n)}))}vn(e,t){return this.Je.getEntries(e,t).next((t=>this.Vn(e,t).next((()=>t))))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>this.Pn(t,e)))}getDocumentsMatchingQuery(e,t,n){return function(e){return kc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):gu(t)?this.Dn(e,t,n):this.Cn(e,t,n)}Sn(e,t){return this.Rn(e,new kc(t)).next((e=>{let t=yl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}Dn(e,t,n){const r=t.collectionGroup;let i=yl();return this.Jt.getCollectionParents(e,r).next((o=>Lh.forEach(o,(o=>{const s=function(e,t){return new uu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.Cn(e,s,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}Cn(e,t,n){let r,i;return this.Je.getDocumentsMatchingQuery(e,t,n).next((n=>(r=n,this.An.getAllMutationBatchesAffectingQuery(e,t)))).next((t=>(i=t,this.Nn(e,i,r).next((e=>{r=e;for(const e of i)for(const t of e.mutations){const n=t.key;let i=r.get(n);null==i&&(i=Bc.newInvalidDocument(n),r=r.insert(n,i)),Ku(t,i,e.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))))).next((()=>(r.forEach(((e,n)=>{Eu(t,n)||(r=r.remove(e))})),r)))}Nn(e,t,n){let r=_l();for(const e of t)for(const t of e.mutations)t instanceof Zu&&null===n.get(t.key)&&(r=r.add(t.key));let i=n;return this.Je.getEntries(e,r).next((e=>(e.forEach(((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))})),i)))}}class Jd{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.kn=n,this.xn=r}static $n(e,t){let n=_l(),r=_l();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new Jd(e,t.fromCache,n,r)}}class Zd{On(e){this.Mn=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(oc.min())?this.Fn(e,t):this.Mn.vn(e,r).next((i=>{const o=this.Ln(t,i);return(du(t)||fu(t))&&this.Bn(t.limitType,o,r,n)?this.Fn(e,t):(Da()<=Fn.DEBUG&&Ra("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Tu(t)),this.Mn.getDocumentsMatchingQuery(e,t,n).next((e=>(o.forEach((t=>{e=e.insert(t.key,t)})),e))))}))}Ln(e,t){let n=new dl(Iu(e));return t.forEach(((t,r)=>{Eu(e,r)&&(n=n.add(r))})),n}Bn(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(e,t){return Da()<=Fn.DEBUG&&Ra("QueryEngine","Using full collection scan to execute query:",Tu(t)),this.Mn.getDocumentsMatchingQuery(e,t,oc.min())}}class Xd{constructor(e,t,n,r){this.persistence=e,this.Un=t,this.k=r,this.qn=new ul(tc),this.Kn=new Ld((e=>Wc(e)),Hc),this.jn=oc.min(),this.An=e.getMutationQueue(n),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new Yd(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.qn)))}}function ef(e,t,n,r){return new Xd(e,t,n,r)}async function tf(e,t){const n=Va(e);let r=n.An,i=n.Wn;const o=await n.persistence.runTransaction("Handle user change","readonly",(e=>{let o;return n.An.getAllMutationBatches(e).next((s=>(o=s,r=n.persistence.getMutationQueue(t),i=new Yd(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)))).next((t=>{const n=[],r=[];let s=_l();for(const e of o){n.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return i.vn(e,s).next((e=>({Gn:e,removedBatchIds:n,addedBatchIds:r})))}))}));return n.An=r,n.Wn=i,n.Un.On(n.Wn),o}function nf(e){const t=Va(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.He.getLastRemoteSnapshotVersion(e)))}function rf(e,t,n,r,i){let o=_l();return n.forEach((e=>o=o.add(e))),t.getEntries(e,o).next((e=>{let o=ml();return n.forEach(((n,s)=>{const a=e.get(n),c=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(oc.min())?(t.removeEntry(n,c),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s,c),o=o.insert(n,s)):Ra("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function of(e,t){const n=Va(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t))))}function sf(e,t){const n=Va(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.He.getTargetData(e,t).next((i=>i?(r=i,Lh.resolve(r)):n.He.allocateTargetId(e).next((i=>(r=new Qh(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}async function af(e,t,n){const r=Va(e),i=r.qn.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Vh(e))throw e;Ra("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.qn=r.qn.remove(t),r.Kn.delete(i.target)}function cf(e,t,n){const r=Va(e);let i=oc.min(),o=_l();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=Va(e),i=r.Kn.get(n);return void 0!==i?Lh.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,vu(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Un.getDocumentsMatchingQuery(e,t,n?i:oc.min(),n?o:_l()))).next((e=>({documents:e,zn:o})))))}function uf(e,t){const n=Va(e),r=Va(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.Et(e,t).next((e=>e?e.target:null))))}function lf(e){const t=Va(e);return t.persistence.runTransaction("Get new document changes","readonly",(e=>function(e,t,n){const r=Va(e);let i=ml(),o=Xh(n);const s=Vd(t),a=IDBKeyRange.lowerBound(o,!0);return s.jt({index:Eh.readTimeIndex,range:a},((e,t)=>{const n=Jh(r.k,t);i=i.insert(n.key,n),o=t.readTime})).next((()=>({In:i,readTime:ed(o)})))}(t.Qn,e,t.jn))).then((({In:e,readTime:n})=>(t.jn=n,e)))}async function hf(e,t,n=_l()){const r=await sf(e,vu(sd(t.bundledQuery))),i=Va(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=jl(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ye.saveNamedQuery(e,t);const s=r.withResumeToken(pc.EMPTY_BYTE_STRING,o);return i.qn=i.qn.insert(s.targetId,s),i.He.updateTargetData(e,s).next((()=>i.He.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.He.addMatchingKeys(e,n,r.targetId))).next((()=>i.Ye.saveNamedQuery(e,t)))}))}class df{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return Lh.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:jl(n.createTime)}),Lh.resolve()}getNamedQuery(e,t){return Lh.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:sd(e.bundledQuery),readTime:jl(e.readTime)}}(t)),Lh.resolve()}}class ff{constructor(){this.ts=new dl(pf.es),this.ns=new dl(pf.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const n=new pf(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}rs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.os(new pf(e,t))}cs(e,t){e.forEach((e=>this.removeReference(e,t)))}us(e){const t=new kc(new lc([])),n=new pf(t,e),r=new pf(t,e+1),i=[];return this.ns.forEachInRange([n,r],(e=>{this.os(e),i.push(e.key)})),i}hs(){this.ts.forEach((e=>this.os(e)))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new kc(new lc([])),n=new pf(t,e),r=new pf(t,e+1);let i=_l();return this.ns.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new pf(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class pf{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return kc.comparator(e.key,t.key)||tc(e.fs,t.fs)}static ss(e,t){return tc(e.fs,t.fs)||kc.comparator(e.key,t.key)}}class mf{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new dl(pf.es)}checkEmpty(e){return Lh.resolve(0===this.An.length)}addMutationBatch(e,t,n,r){const i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];const o=new Kh(i,t,n,r);this.An.push(o);for(const t of r)this.ws=this.ws.add(new pf(t.key,i)),this.Jt.addToCollectionParentIndex(e,t.key.path.popLast());return Lh.resolve(o)}lookupMutationBatch(e,t){return Lh.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.gs(n),i=r<0?0:r;return Lh.resolve(this.An.length>i?this.An[i]:null)}getHighestUnacknowledgedBatchId(){return Lh.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return Lh.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new pf(t,0),r=new pf(t,Number.POSITIVE_INFINITY),i=[];return this.ws.forEachInRange([n,r],(e=>{const t=this._s(e.fs);i.push(t)})),Lh.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new dl(tc);return t.forEach((e=>{const t=new pf(e,0),r=new pf(e,Number.POSITIVE_INFINITY);this.ws.forEachInRange([t,r],(e=>{n=n.add(e.fs)}))})),Lh.resolve(this.ys(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;kc.isDocumentKey(i)||(i=i.child(""));const o=new pf(new kc(i),0);let s=new dl(tc);return this.ws.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.fs)),!0)}),o),Lh.resolve(this.ys(s))}ys(e){const t=[];return e.forEach((e=>{const n=this._s(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){ja(0===this.ps(t.batchId,"removed")),this.An.shift();let n=this.ws;return Lh.forEach(t.mutations,(r=>{const i=new pf(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.ws=n}))}ee(e){}containsKey(e,t){const n=new pf(t,0),r=this.ws.firstAfterOrEqual(n);return Lh.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.An.length,Lh.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class gf{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new ul(kc.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s,readTime:n}),this.size+=s-o,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Lh.resolve(n?n.document.mutableCopy():Bc.newInvalidDocument(t))}getEntries(e,t){let n=ml();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Bc.newInvalidDocument(e))})),Lh.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=ml();const i=new kc(t.path.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:e,value:{document:i,readTime:s}}=o.getNext();if(!t.path.isPrefixOf(e.path))break;s.compareTo(n)<=0||Eu(t,i)&&(r=r.insert(i.key,i.mutableCopy()))}return Lh.resolve(r)}Es(e,t){return Lh.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new yf(this)}getSize(e){return Lh.resolve(this.size)}}class yf extends Md{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.document.isValidDocument()?t.push(this.De.addEntry(e,r.document,this.getReadTime(n))):this.De.removeEntry(n)})),Lh.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class vf{constructor(e){this.persistence=e,this.Is=new Ld((e=>Wc(e)),Hc),this.lastRemoteSnapshotVersion=oc.min(),this.highestTargetId=0,this.As=0,this.Rs=new ff,this.targetCount=0,this.bs=Ed.ie()}forEachTarget(e,t){return this.Is.forEach(((e,n)=>t(n))),Lh.resolve()}getLastRemoteSnapshotVersion(e){return Lh.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Lh.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),Lh.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),Lh.resolve()}ae(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new Ed(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Lh.resolve()}updateTargetData(e,t){return this.ae(t),Lh.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Lh.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Is.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Is.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Lh.waitFor(i).next((()=>r))}getTargetCount(e){return Lh.resolve(this.targetCount)}getTargetData(e,t){const n=this.Is.get(t)||null;return Lh.resolve(n)}addMatchingKeys(e,t,n){return this.Rs.rs(t,n),Lh.resolve()}removeMatchingKeys(e,t,n){this.Rs.cs(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Lh.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),Lh.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Rs.ls(t);return Lh.resolve(n)}containsKey(e,t){return Lh.resolve(this.Rs.containsKey(t))}}class wf{constructor(e,t){this.Ps={},this.Be=new Za(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new vf(this),this.Jt=new ld,this.Je=function(e,t){return new gf(e,t)}(this.Jt,(e=>this.referenceDelegate.vs(e))),this.k=new Yh(t),this.Ye=new df(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new mf(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,n){Ra("MemoryPersistence","Starting transaction:",e);const r=new bf(this.Be.next());return this.referenceDelegate.Vs(),n(r).next((e=>this.referenceDelegate.Ss(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ds(e,t){return Lh.or(Object.values(this.Ps).map((n=>()=>n.containsKey(e,t))))}}class bf extends Rh{constructor(e){super(),this.currentSequenceNumber=e}}class _f{constructor(e){this.persistence=e,this.Cs=new ff,this.Ns=null}static ks(e){return new _f(e)}get xs(){if(this.Ns)return this.Ns;throw Ua()}addReference(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),Lh.resolve()}removeReference(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),Lh.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Lh.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach((e=>this.xs.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.xs.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Lh.forEach(this.xs,(n=>{const r=kc.fromPath(n);return this.$s(e,r).next((e=>{e||t.removeEntry(r)}))})).next((()=>(this.Ns=null,t.apply(e))))}updateLimboDocument(e,t){return this.$s(e,t).next((e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())}))}vs(e){return 0}$s(e,t){return Lh.or([()=>Lh.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function Tf(e,t){return`firestore_clients_${e}_${t}`}function Ef(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function If(e,t){return`firestore_targets_${e}_${t}`}class kf{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Os(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Ba(r.error.code,r.error.message))),o?new kf(e,t,r.state,i):(La("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Sf{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Os(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Ba(n.error.code,n.error.message))),i?new Sf(e,n.state,r):(La("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Cf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Os(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=El();for(let e=0;r&&e<n.activeTargetIds.length;++e)r=Ic(n.activeTargetIds[e]),i=i.add(n.activeTargetIds[e]);return r?new Cf(e,i):(La("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class xf{constructor(e,t){this.clientId=e,this.onlineState=t}static Os(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new xf(t.clientId,t.onlineState):(La("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Nf{constructor(){this.activeTargetIds=El()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Af{constructor(e,t,n,r,i){this.window=e,this.Me=t,this.persistenceKey=n,this.Bs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new ul(tc),this.started=!1,this.js=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=Tf(this.persistenceKey,this.Bs),this.Ws=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new Nf),this.Gs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Js=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Ys=function(e){return`firestore_bundle_loaded_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Tn();for(const t of e){if(t===this.Bs)continue;const e=this.getItem(Tf(this.persistenceKey,t));if(e){const n=Cf.Os(t,e);n&&(this.Ks=this.Ks.insert(n.clientId,n))}}this.Xs();const t=this.storage.getItem(this.Js);if(t){const e=this.Zs(t);e&&this.ti(e)}for(const e of this.js)this.qs(e);this.js=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,n){this.ni(e,t,n),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(If(this.persistenceKey,e));if(n){const r=Sf.Os(e,n);r&&(t=r.state)}}return this.ii.Fs(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(If(this.persistenceKey,e))}updateQueryState(e,t,n){this.ri(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.si(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ra("SharedClientState","READ",e,t),t}setItem(e,t){Ra("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ra("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){const t=e;if(t.storageArea===this.storage){if(Ra("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Qs)return void La("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Gs.test(t.key)){if(null==t.newValue){const e=this.ai(t.key);return this.ui(e,null)}{const e=this.hi(t.key,t.newValue);if(e)return this.ui(e.clientId,e)}}else if(this.zs.test(t.key)){if(null!==t.newValue){const e=this.li(t.key,t.newValue);if(e)return this.fi(e)}}else if(this.Hs.test(t.key)){if(null!==t.newValue){const e=this.di(t.key,t.newValue);if(e)return this.wi(e)}}else if(t.key===this.Js){if(null!==t.newValue){const e=this.Zs(t.newValue);if(e)return this.ti(e)}}else if(t.key===this.Ws){const e=function(e){let t=Za.I;if(null!=e)try{const n=JSON.parse(e);ja("number"==typeof n),t=n}catch(e){La("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Za.I&&this.sequenceNumberHandler(e)}else if(t.key===this.Ys)return this.syncEngine._i()}else this.js.push(t)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(e,t,n){const r=new kf(this.currentUser,e,t,n),i=Ef(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ms())}si(e){const t=Ef(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){const t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}ri(e,t,n){const r=If(this.persistenceKey,e),i=new Sf(e,t,n);this.setItem(r,i.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const n=this.ai(e);return Cf.Os(n,t)}li(e,t){const n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return kf.Os(new Aa(i),r,t)}di(e,t){const n=this.Hs.exec(e),r=Number(n[1]);return Sf.Os(r,t)}Zs(e){return xf.Os(e)}async fi(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.mi(e.batchId,e.state,e.error);Ra("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const n=t?this.Ks.insert(e,t):this.Ks.remove(e),r=this.ei(this.Ks),i=this.ei(n),o=[],s=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||s.push(e)})),this.syncEngine.yi(o,s).then((()=>{this.Ks=n}))}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=El();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class Pf{constructor(){this.pi=new Nf,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,t,n){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new Nf,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Of{Ei(e){}shutdown(){}}class Df{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Ra("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){Ra("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Rf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Lf{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class Mf extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.Fi=t+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,n,r,i){const o=this.Ui(e,t);Ra("RestConnection","Sending: ",o,n);const s={};return this.qi(s,r,i),this.Ki(e,o,s,n).then((e=>(Ra("RestConnection","Received: ",e),e)),(t=>{throw Ma("RestConnection",`${e} failed with error: `,t,"url: ",o,"request:",n),t}))}ji(e,t,n,r,i){return this.Bi(e,t,n,r,i)}qi(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Ui(e,t){const n=Rf[e];return`${this.Fi}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,n,r){return new Promise(((i,o)=>{const s=new xa;s.listenOnce(Ea.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case Ta.NO_ERROR:const t=s.getResponseJson();Ra("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Ta.TIMEOUT:Ra("Connection",'RPC "'+e+'" timed out'),o(new Ba(qa.DEADLINE_EXCEEDED,"Request time out"));break;case Ta.HTTP_ERROR:const n=s.getStatus();if(Ra("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){const e=s.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(qa).indexOf(t)>=0?t:qa.UNKNOWN}(e.status);o(new Ba(t,e.message))}else o(new Ba(qa.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Ba(qa.UNAVAILABLE,"Connection failed."));break;default:Ua()}}finally{Ra("Connection",'RPC "'+e+'" completed.')}}));const a=JSON.stringify(r);s.send(t,"POST",a,n,15)}))}Qi(e,t,n){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ba(),o=_a(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Sa({})),this.qi(s.initMessageHeaders,t,n),fn()||gn()||dn().indexOf("Electron/")>=0||yn()||dn().indexOf("MSAppHost/")>=0||mn()||(s.httpHeadersOverwriteParam="$httpHeaders");const a=r.join("");Ra("Connection","Creating WebChannel: "+a,s);const c=i.createWebChannel(a,s);let u=!1,l=!1;const h=new Lf({Vi:e=>{l?Ra("Connection","Not sending because WebChannel is closed:",e):(u||(Ra("Connection","Opening WebChannel transport."),c.open(),u=!0),Ra("Connection","WebChannel sending:",e),c.send(e))},Si:()=>c.close()}),d=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return d(c,Ca.EventType.OPEN,(()=>{l||Ra("Connection","WebChannel transport opened.")})),d(c,Ca.EventType.CLOSE,(()=>{l||(l=!0,Ra("Connection","WebChannel transport closed"),h.Oi())})),d(c,Ca.EventType.ERROR,(e=>{l||(l=!0,Ma("Connection","WebChannel transport errored:",e),h.Oi(new Ba(qa.UNAVAILABLE,"The operation could not be completed")))})),d(c,Ca.EventType.MESSAGE,(e=>{var t;if(!l){const n=e.data[0];ja(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Ra("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=ol[e];if(void 0!==t)return cl(t)}(e),n=i.message;void 0===t&&(t=qa.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),l=!0,h.Oi(new Ba(t,n)),c.close()}else Ra("Connection","WebChannel received:",n),h.Mi(n)}})),d(o,Ia.STAT_EVENT,(e=>{e.stat===ka.PROXY?Ra("Connection","Detected buffering proxy"):e.stat===ka.NOPROXY&&Ra("Connection","Detected no buffering proxy")})),setTimeout((()=>{h.$i()}),0),h}}function Ff(){return"undefined"!=typeof window?window:null}function Uf(){return"undefined"!=typeof document?document:null}function jf(e){return new Ll(e,!0)}class Vf{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Me=e,this.timerId=t,this.Wi=n,this.Gi=r,this.zi=i,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),n=Math.max(0,Date.now()-this.Yi),r=Math.max(0,t-n);r>0&&Ra("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,r,(()=>(this.Yi=Date.now(),e()))),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class qf{constructor(e,t,n,r,i,o,s,a){this.Me=e,this.nr=n,this.sr=r,this.ir=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new Vf(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}async stop(){this.hr()&&await this.close(0)}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,(()=>this.mr())))}gr(e){this.yr(),this.stream.send(e)}async mr(){if(this.lr())return this.close(0)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}async close(e,t){this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==e?this.ur.reset():t&&t.code===qa.RESOURCE_EXHAUSTED?(La(t.toString()),La("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):t&&t.code===qa.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ni(t)}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.rr===t&&this.Ir(e,n)}),(t=>{e((()=>{const e=new Ba(qa.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Ar(e)}))}))}Ir(e,t){const n=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((()=>{n((()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,(()=>(this.lr()&&(this.state=3),Promise.resolve()))),this.listener.Di())))})),this.stream.Ni((e=>{n((()=>this.Ar(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}dr(){this.state=5,this.ur.Zi((async()=>{this.state=0,this.start()}))}Ar(e){return Ra("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Me.enqueueAndForget((()=>this.rr===e?t():(Ra("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Bf extends qf{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.k=i}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ua()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.C?(ja(void 0===t||"string"==typeof t),pc.fromBase64String(t||"")):(ja(void 0===t||t instanceof Uint8Array),pc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?qa.UNKNOWN:cl(e.code);return new Ba(t,e.message||"")}(s);n=new xl(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=zl(e,r.document.name),o=jl(r.document.updateTime),s=new Vc({mapValue:{fields:r.document.fields}}),a=Bc.newFoundDocument(i,o,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Sl(c,u,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=zl(e,r.document),o=r.readTime?jl(r.readTime):oc.min(),s=Bc.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Sl([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=zl(e,r.document),o=r.removedTargetIds||[];n=new Sl([],o,i,null)}else{if(!("filter"in t))return Ua();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new il(r),o=e.targetId;n=new Cl(o,i)}}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return oc.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?oc.min():t.readTime?jl(t.readTime):oc.min()}(e);return this.listener.br(t,n)}Pr(e){const t={};t.database=Hl(this.k),t.addTarget=function(e,t){let n;const r=t.target;return n=Kc(r)?{documents:Zl(e,r)}:{query:Xl(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Fl(e,t.resumeToken):t.snapshotVersion.compareTo(oc.min())>0&&(n.readTime=Ml(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ua()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}vr(e){const t={};t.database=Hl(this.k),t.removeTarget=e,this.gr(t)}}class zf extends qf{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.k=i,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(ja(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(e,t){return e&&e.length>0?(ja(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?jl(e.updateTime):jl(t);return n.isEqual(oc.min())&&(n=jl(t)),new Bu(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=jl(e.commitTime);return this.listener.Cr(n,t)}return ja(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Hl(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Yl(this.k,e)))};this.gr(t)}}class $f extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=n,this.k=r,this.$r=!1}Or(){if(this.$r)throw new Ba(qa.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,n){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.ir.Bi(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===qa.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ba(qa.UNKNOWN,e.toString())}))}ji(e,t,n){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.ir.ji(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===qa.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ba(qa.UNKNOWN,e.toString())}))}terminate(){this.$r=!0}}class Wf{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve()))))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(La(t),this.Lr=!1):Ra("OnlineStateTracker",t)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class Hf{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=i,this.Hr.Ei((e=>{n.enqueueAndForget((async()=>{tp(this)&&(Ra("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Va(e);t.Gr.add(4),await Gf(t),t.Jr.set("Unknown"),t.Gr.delete(4),await Kf(t)}(this))}))})),this.Jr=new Wf(n,r)}}async function Kf(e){if(tp(e))for(const t of e.zr)await t(!0)}async function Gf(e){for(const t of e.zr)await t(!1)}function Qf(e,t){const n=Va(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),ep(n)?Xf(n):wp(n).lr()&&Jf(n,t))}function Yf(e,t){const n=Va(e),r=wp(n);n.Wr.delete(t),r.lr()&&Zf(n,t),0===n.Wr.size&&(r.lr()?r._r():tp(n)&&n.Jr.set("Unknown"))}function Jf(e,t){e.Yr.X(t.targetId),wp(e).Pr(t)}function Zf(e,t){e.Yr.X(t),wp(e).vr(t)}function Xf(e){e.Yr=new Al({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Wr.get(t)||null}),wp(e).start(),e.Jr.Br()}function ep(e){return tp(e)&&!wp(e).hr()&&e.Wr.size>0}function tp(e){return 0===Va(e).Gr.size}function np(e){e.Yr=void 0}async function rp(e){e.Wr.forEach(((t,n)=>{Jf(e,t)}))}async function ip(e,t){np(e),ep(e)?(e.Jr.Kr(t),Xf(e)):e.Jr.set("Unknown")}async function op(e,t,n){if(e.Jr.set("Online"),t instanceof xl&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Wr.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Wr.delete(r),e.Yr.removeTarget(r))}(e,t)}catch(n){Ra("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await sp(e,n)}else if(t instanceof Sl?e.Yr.ot(t):t instanceof Cl?e.Yr.dt(t):e.Yr.ut(t),!n.isEqual(oc.min()))try{const t=await nf(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Yr.gt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.Wr.get(t);if(!n)return;e.Wr.set(t,n.withResumeToken(pc.EMPTY_BYTE_STRING,n.snapshotVersion)),Zf(e,t);const r=new Qh(n.target,t,1,n.sequenceNumber);Jf(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ra("RemoteStore","Failed to raise snapshot:",t),await sp(e,t)}}async function sp(e,t,n){if(!Vh(t))throw t;e.Gr.add(1),await Gf(e),e.Jr.set("Offline"),n||(n=()=>nf(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Ra("RemoteStore","Retrying IndexedDB access"),await n(),e.Gr.delete(1),await Kf(e)}))}function ap(e,t){return t().catch((n=>sp(e,n,t)))}async function cp(e){const t=Va(e),n=bp(t);let r=t.Qr.length>0?t.Qr[t.Qr.length-1].batchId:-1;for(;up(t);)try{const e=await of(t.localStore,r);if(null===e){0===t.Qr.length&&n._r();break}r=e.batchId,lp(t,e)}catch(e){await sp(t,e)}hp(t)&&dp(t)}function up(e){return tp(e)&&e.Qr.length<10}function lp(e,t){e.Qr.push(t);const n=bp(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function hp(e){return tp(e)&&!bp(e).hr()&&e.Qr.length>0}function dp(e){bp(e).start()}async function fp(e){bp(e).kr()}async function pp(e){const t=bp(e);for(const n of e.Qr)t.Dr(n.mutations)}async function mp(e,t,n){const r=e.Qr.shift(),i=Gh.from(r,t,n);await ap(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await cp(e)}async function gp(e,t){t&&bp(e).Sr&&await async function(e,t){if(al(n=t.code)&&n!==qa.ABORTED){const n=e.Qr.shift();bp(e).wr(),await ap(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await cp(e)}var n}(e,t),hp(e)&&dp(e)}async function yp(e,t){const n=Va(e);n.asyncQueue.verifyOperationInProgress(),Ra("RemoteStore","RemoteStore received new credentials");const r=tp(n);n.Gr.add(3),await Gf(n),r&&n.Jr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Gr.delete(3),await Kf(n)}async function vp(e,t){const n=Va(e);t?(n.Gr.delete(2),await Kf(n)):t||(n.Gr.add(2),await Gf(n),n.Jr.set("Unknown"))}function wp(e){return e.Xr||(e.Xr=function(e,t,n){const r=Va(e);return r.Or(),new Bf(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:rp.bind(null,e),Ni:ip.bind(null,e),br:op.bind(null,e)}),e.zr.push((async t=>{t?(e.Xr.wr(),ep(e)?Xf(e):e.Jr.set("Unknown")):(await e.Xr.stop(),np(e))}))),e.Xr}function bp(e){return e.Zr||(e.Zr=function(e,t,n){const r=Va(e);return r.Or(),new zf(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:fp.bind(null,e),Ni:gp.bind(null,e),Nr:pp.bind(null,e),Cr:mp.bind(null,e)}),e.zr.push((async t=>{t?(e.Zr.wr(),await cp(e)):(await e.Zr.stop(),e.Qr.length>0&&(Ra("RemoteStore",`Stopping write stream with ${e.Qr.length} pending writes`),e.Qr=[]))}))),e.Zr}class _p{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new za,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new _p(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ba(qa.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tp(e,t){if(La("AsyncQueue",`${t}: ${e}`),Vh(e))return new Ba(qa.UNAVAILABLE,`${t}: ${e}`);throw e}class Ep{constructor(e){this.comparator=e?(t,n)=>e(t,n)||kc.comparator(t.key,n.key):(e,t)=>kc.comparator(e.key,t.key),this.keyedMap=yl(),this.sortedSet=new ul(this.comparator)}static emptySet(e){return new Ep(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ep))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Ep;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Ip{constructor(){this.eo=new ul(kc.comparator)}track(e){const t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Ua():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal(((t,n)=>{e.push(n)})),e}}class kp{constructor(e,t,n,r,i,o,s,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new kp(e,t,Ep.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class Sp{constructor(){this.so=void 0,this.listeners=[]}}class Cp{constructor(){this.queries=new Ld((e=>_u(e)),bu),this.onlineState="Unknown",this.io=new Set}}async function xp(e,t){const n=Va(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Sp),i)try{o.so=await n.onListen(r)}catch(e){const n=Tp(e,`Initialization of query '${Tu(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.ro(n.onlineState),o.so&&t.oo(o.so)&&Op(n)}async function Np(e,t){const n=Va(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Ap(e,t){const n=Va(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.oo(e)&&(r=!0);i.so=e}}r&&Op(n)}function Pp(e,t,n){const r=Va(e),i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}function Op(e){e.io.forEach((e=>{e.next()}))}class Dp{constructor(e,t,n){this.query=e,this.co=t,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=n||{}}oo(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new kp(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.ao?this.ho(e)&&(this.co.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return!(this.options.wo&&n||e.docs.isEmpty()&&"Offline"!==t)}ho(e){if(e.docChanges.length>0)return!0;const t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}fo(e){e=kp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class Rp{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class Lp{constructor(e){this.k=e}Hn(e){return zl(this.k,e)}Jn(e){return e.metadata.exists?Ql(this.k,e.document,!1):Bc.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return jl(e)}}class Mp{constructor(e,t,n){this.mo=e,this.localStore=t,this.k=n,this.queries=[],this.documents=[],this.progress=Fp(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,n=new Lp(this.k);for(const r of e)if(r.metadata.queries){const e=n.Hn(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||_l()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Va(e);let o=_l(),s=ml(),a=wl();for(const e of n){const n=t.Hn(e.metadata.name);e.document&&(o=o.add(n)),s=s.insert(n,t.Jn(e)),a=a.insert(n,t.Yn(e.metadata.readTime))}const c=i.Qn.newChangeBuffer({trackRemovals:!0}),u=await sf(i,function(e){return vu(hu(lc.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>rf(e,c,s,oc.min(),a).next((t=>(c.apply(e),t))).next((t=>i.He.removeMatchingKeysForTargetId(e,u.targetId).next((()=>i.He.addMatchingKeys(e,o,u.targetId))).next((()=>i.Wn.Vn(e,t))).next((()=>t))))))}(this.localStore,new Lp(this.k),this.documents,this.mo.id),t=this.po(this.documents);for(const e of this.queries)await hf(this.localStore,e,t.get(e.name));return this.progress.taskState="Success",new Qd(Object.assign({},this.progress),e)}}function Fp(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Up{constructor(e){this.key=e}}class jp{constructor(e){this.key=e}}class Vp{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=_l(),this.mutatedKeys=_l(),this.Ao=Iu(e),this.Ro=new Ep(this.Ao)}get bo(){return this.To}Po(e,t){const n=t?t.vo:new Ip,r=t?t.Ro:this.Ro;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a=du(this.query)&&r.size===this.query.limit?r.last():null,c=fu(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),l=Eu(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;u&&l?u.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.Vo(u,l)||(n.track({type:2,doc:l}),f=!0,(a&&this.Ao(l,a)>0||c&&this.Ao(l,c)<0)&&(s=!0)):!u&&l?(n.track({type:0,doc:l}),f=!0):u&&!l&&(n.track({type:1,doc:u}),f=!0,(a||c)&&(s=!0)),f&&(l?(o=o.add(l),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),du(this.query)||fu(this.query))for(;o.size>this.query.limit;){const e=du(this.query)?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ro:o,vo:n,Bn:s,mutatedKeys:i}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const i=e.vo.no();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ua()}};return n(e)-n(t)}(e.type,t.type)||this.Ao(e.doc,t.doc))),this.So(n);const o=t?this.Do():[],s=0===this.Io.size&&this.current?1:0,a=s!==this.Eo;return this.Eo=s,0!==i.length||a?{snapshot:new kp(this.query,e.Ro,r,i,e.mutatedKeys,0===s,a,!1),Co:o}:{Co:o}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new Ip,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach((e=>this.To=this.To.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.To=this.To.delete(e))),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=_l(),this.Ro.forEach((e=>{this.No(e.key)&&(this.Io=this.Io.add(e.key))}));const t=[];return e.forEach((e=>{this.Io.has(e)||t.push(new jp(e))})),this.Io.forEach((n=>{e.has(n)||t.push(new Up(n))})),t}ko(e){this.To=e.zn,this.Io=_l();const t=this.Po(e.documents);return this.applyChanges(t,!0)}xo(){return kp.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class qp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Bp{constructor(e){this.key=e,this.$o=!1}}class zp{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Mo=new Ld((e=>_u(e)),bu),this.Fo=new Map,this.Lo=new Set,this.Bo=new ul(kc.comparator),this.Uo=new Map,this.qo=new ff,this.Ko={},this.jo=new Map,this.Qo=Ed.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}async function $p(e,t){const n=gm(e);let r,i;const o=n.Mo.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.xo();else{const e=await sf(n.localStore,vu(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Wp(n,t,r,"current"===o),n.isPrimaryClient&&Qf(n.remoteStore,e)}return i}async function Wp(e,t,n,r){e.Go=(t,n,r)=>async function(e,t,n,r){let i=t.view.Po(n);i.Bn&&(i=await cf(e.localStore,t.query,!1).then((({documents:e})=>t.view.Po(e,i))));const o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o);return nm(e,t.targetId,s.Co),s.snapshot}(e,t,n,r);const i=await cf(e.localStore,t,!0),o=new Vp(t,i.zn),s=o.Po(i.documents),a=kl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),c=o.applyChanges(s,e.isPrimaryClient,a);nm(e,n,c.Co);const u=new qp(t,n,o);return e.Mo.set(t,u),e.Fo.has(n)?e.Fo.get(n).push(t):e.Fo.set(n,[t]),c.snapshot}async function Hp(e,t){const n=Va(e),r=n.Mo.get(t),i=n.Fo.get(r.targetId);if(i.length>1)return n.Fo.set(r.targetId,i.filter((e=>!bu(e,t)))),void n.Mo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await af(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Yf(n.remoteStore,r.targetId),em(n,r.targetId)})).catch(xd)):(em(n,r.targetId),await af(n.localStore,r.targetId,!0))}async function Kp(e,t){const n=Va(e);try{const e=await function(e,t){const n=Va(e),r=t.snapshotVersion;let i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;const s=[];t.targetChanges.forEach(((o,a)=>{const c=i.get(a);if(!c)return;s.push(n.He.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.He.addMatchingKeys(e,o.addedDocuments,a))));let u=c.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(a)?u=u.withResumeToken(pc.EMPTY_BYTE_STRING,oc.min()).withLastLimboFreeSnapshotVersion(oc.min()):o.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(o.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,u,o)&&s.push(n.He.updateTargetData(e,u))}));let a=ml();if(t.documentUpdates.forEach(((r,i)=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(rf(e,o,t.documentUpdates,r,void 0).next((e=>{a=e}))),!r.isEqual(oc.min())){const t=n.He.getLastRemoteSnapshotVersion(e).next((t=>n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Lh.waitFor(s).next((()=>o.apply(e))).next((()=>n.Wn.Vn(e,a))).next((()=>a))})).then((e=>(n.qn=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Uo.get(t);r&&(ja(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.$o=!0:e.modifiedDocuments.size>0?ja(r.$o):e.removedDocuments.size>0&&(ja(r.$o),r.$o=!1))})),await om(n,e,t)}catch(e){await xd(e)}}function Gp(e,t,n){const r=Va(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Mo.forEach(((n,r)=>{const i=r.view.ro(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Va(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.ro(t)&&(r=!0)})),r&&Op(n)}(r.eventManager,t),e.length&&r.Oo.br(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Qp(e,t,n){const r=Va(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Uo.get(t),o=i&&i.key;if(o){let e=new ul(kc.comparator);e=e.insert(o,Bc.newNoDocument(o,oc.min()));const n=_l().add(o),i=new Il(oc.min(),new Map,new dl(tc),e,n);await Kp(r,i),r.Bo=r.Bo.remove(o),r.Uo.delete(t),im(r)}else await af(r.localStore,t,!1).then((()=>em(r,t,n))).catch(xd)}async function Yp(e,t){const n=Va(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Va(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Lh.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);ja(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),s.next((()=>e.An.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.An.performConsistencyCheck(e))).next((()=>n.Wn.vn(e,r)))}))}(n.localStore,t);Xp(n,r,null),Zp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await om(n,e)}catch(e){await xd(e)}}async function Jp(e,t,n){const r=Va(e);try{const e=await function(e,t){const n=Va(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.An.lookupMutationBatch(e,t).next((t=>(ja(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)))).next((()=>n.An.performConsistencyCheck(e))).next((()=>n.Wn.vn(e,r)))}))}(r.localStore,t);Xp(r,t,n),Zp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await om(r,e)}catch(n){await xd(n)}}function Zp(e,t){(e.jo.get(t)||[]).forEach((e=>{e.resolve()})),e.jo.delete(t)}function Xp(e,t,n){const r=Va(e);let i=r.Ko[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function em(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Fo.get(t))e.Mo.delete(r),n&&e.Oo.zo(r,n);e.Fo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((t=>{e.qo.containsKey(t)||tm(e,t)}))}function tm(e,t){e.Lo.delete(t.path.canonicalString());const n=e.Bo.get(t);null!==n&&(Yf(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),im(e))}function nm(e,t,n){for(const r of n)r instanceof Up?(e.qo.addReference(r.key,t),rm(e,r)):r instanceof jp?(Ra("SyncEngine","Document no longer in limbo: "+r.key),e.qo.removeReference(r.key,t),e.qo.containsKey(r.key)||tm(e,r.key)):Ua()}function rm(e,t){const n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(Ra("SyncEngine","New document in limbo: "+n),e.Lo.add(r),im(e))}function im(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){const t=e.Lo.values().next().value;e.Lo.delete(t);const n=new kc(lc.fromString(t)),r=e.Qo.next();e.Uo.set(r,new Bp(n)),e.Bo=e.Bo.insert(n,r),Qf(e.remoteStore,new Qh(vu(hu(n.path)),r,2,Za.I))}}async function om(e,t,n){const r=Va(e),i=[],o=[],s=[];r.Mo.isEmpty()||(r.Mo.forEach(((e,a)=>{s.push(r.Go(a,t,n).then((e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=Jd.$n(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.Oo.br(i),await async function(e,t){const n=Va(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Lh.forEach(t,(t=>Lh.forEach(t.kn,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Lh.forEach(t.xn,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Vh(e))throw e;Ra("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.qn.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.qn=n.qn.insert(t,i)}}}(r.localStore,o))}async function sm(e,t){const n=Va(e);if(!n.currentUser.isEqual(t)){Ra("SyncEngine","User change. New user:",t.toKey());const e=await tf(n.localStore,t);n.currentUser=t,function(e,t){e.jo.forEach((e=>{e.forEach((e=>{e.reject(new Ba(qa.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await om(n,e.Gn)}}function am(e,t){const n=Va(e),r=n.Uo.get(t);if(r&&r.$o)return _l().add(r.key);{let e=_l();const r=n.Fo.get(t);if(!r)return e;for(const t of r){const r=n.Mo.get(t);e=e.unionWith(r.view.bo)}return e}}async function cm(e,t){const n=Va(e),r=await cf(n.localStore,t.query,!0),i=t.view.ko(r);return n.isPrimaryClient&&nm(n,t.targetId,i.Co),i}async function um(e){const t=Va(e);return lf(t.localStore).then((e=>om(t,e)))}async function lm(e,t,n,r){const i=Va(e),o=await function(e,t){const n=Va(e),r=Va(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Zt(e,t).next((t=>t?n.Wn.vn(e,t):Lh.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await cp(i.remoteStore):"acknowledged"===n||"rejected"===n?(Xp(i,t,r||null),Zp(i,t),function(e,t){Va(Va(e).An).ee(t)}(i.localStore,t)):Ua(),await om(i,o)):Ra("SyncEngine","Cannot apply mutation batch with id: "+t)}async function hm(e,t,n){const r=Va(e),i=[],o=[];for(const e of t){let t;const n=r.Fo.get(e);if(n&&0!==n.length){t=await sf(r.localStore,vu(n[0]));for(const e of n){const t=r.Mo.get(e),n=await cm(r,t);n.snapshot&&o.push(n.snapshot)}}else{const n=await uf(r.localStore,e);t=await sf(r.localStore,n),await Wp(r,dm(n),e,!1)}i.push(t)}return r.Oo.br(o),i}function dm(e){return lu(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function fm(e){const t=Va(e);return Va(Va(t.localStore).persistence).Tn()}async function pm(e,t,n,r){const i=Va(e);if(i.Wo)Ra("SyncEngine","Ignoring unexpected query state notification.");else if(i.Fo.has(t))switch(n){case"current":case"not-current":{const e=await lf(i.localStore),r=Il.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);await om(i,e,r);break}case"rejected":await af(i.localStore,t,!0),em(i,t,r);break;default:Ua()}}async function mm(e,t,n){const r=gm(e);if(r.Wo){for(const e of t){if(r.Fo.has(e)){Ra("SyncEngine","Adding an already active target "+e);continue}const t=await uf(r.localStore,e),n=await sf(r.localStore,t);await Wp(r,dm(t),n.targetId,!1),Qf(r.remoteStore,n)}for(const e of n)r.Fo.has(e)&&await af(r.localStore,e,!1).then((()=>{Yf(r.remoteStore,e),em(r,e)})).catch(xd)}}function gm(e){const t=Va(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Kp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=am.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Qp.bind(null,t),t.Oo.br=Ap.bind(null,t.eventManager),t.Oo.zo=Pp.bind(null,t.eventManager),t}function ym(e){const t=Va(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Yp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Jp.bind(null,t),t}class vm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.k=jf(e.databaseInfo.databaseId),this.sharedClientState=this.Jo(e),this.persistence=this.Yo(e),await this.persistence.start(),this.gcScheduler=this.Xo(e),this.localStore=this.Zo(e)}Xo(e){return null}Zo(e){return ef(this.persistence,new Zd,e.initialUser,this.k)}Yo(e){return new wf(_f.ks,this.k)}Jo(e){return new Pf}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class wm extends vm{constructor(e,t,n){super(),this.tc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await async function(e){const t=Va(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",(e=>function(e){const t=Vd(e);let n=oc.min();return t.jt({index:Eh.readTimeIndex,reverse:!0},((e,t,r)=>{t.readTime&&(n=ed(t.readTime)),r.done()})).next((()=>n))}(e))).then((e=>{t.jn=e}))}(this.localStore),await this.tc.initialize(this,e),await ym(this.tc.syncEngine),await cp(this.tc.remoteStore),await this.persistence.sn((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(this.localStore),Promise.resolve())))}Zo(e){return ef(this.persistence,new Zd,e.initialUser,this.k)}Xo(e){const t=this.persistence.referenceDelegate.garbageCollector;return new Pd(t,e.asyncQueue)}Yo(e){const t=Gd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?md.withCacheSize(this.cacheSizeBytes):md.DEFAULT;return new Wd(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ff(),Uf(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new Pf}}class bm extends wm{constructor(e,t){super(e,t,!1),this.tc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.tc.syncEngine;this.sharedClientState instanceof Af&&(this.sharedClientState.syncEngine={mi:lm.bind(null,t),gi:pm.bind(null,t),yi:mm.bind(null,t),Tn:fm.bind(null,t),_i:um.bind(null,t)},await this.sharedClientState.start()),await this.persistence.sn((async e=>{await async function(e,t){const n=Va(e);if(gm(n),ym(n),!0===t&&!0!==n.Wo){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await hm(n,e.toArray());n.Wo=!0,await vp(n.remoteStore,!0);for(const e of t)Qf(n.remoteStore,e)}else if(!1===t&&!1!==n.Wo){const e=[];let t=Promise.resolve();n.Fo.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(em(n,i),af(n.localStore,i,!0)))),Yf(n.remoteStore,i)})),await t,await hm(n,e),function(e){const t=Va(e);t.Uo.forEach(((e,n)=>{Yf(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new ul(kc.comparator)}(n),n.Wo=!1,await vp(n.remoteStore,!1)}}(this.tc.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop())}))}Jo(e){const t=Ff();if(!Af.Pt(t))throw new Ba(qa.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Gd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Af(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class _m{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Gp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=sm.bind(null,this.syncEngine),await vp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Cp}createDatastore(e){const t=jf(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Mf(r));var r;return function(e,t,n,r){return new $f(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Gp(this.syncEngine,e,0),o=Df.Pt()?new Df:new Of,new Hf(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new zp(e,t,n,r,i,o);return s&&(a.Wo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Va(e);Ra("RemoteStore","RemoteStore shutting down."),t.Gr.add(5),await Gf(t),t.Hr.shutdown(),t.Jr.set("Unknown")}(this.remoteStore)}}function Tm(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}class Em{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Im{constructor(e,t){this.sc=e,this.k=t,this.metadata=new za,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then((e=>{e&&e._o()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))}),(e=>this.metadata.reject(e)))}close(){return this.sc.cancel()}async getMetadata(){return this.metadata.promise}async Ho(){return await this.getMetadata(),this.rc()}async rc(){const e=await this.oc();if(null===e)return null;const t=this.ic.decode(e),n=Number(t);isNaN(n)&&this.cc(`length string (${t}) is not valid number`);const r=await this.ac(n);return new Rp(JSON.parse(r),e.length+n)}uc(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async oc(){for(;this.uc()<0&&!await this.hc(););if(0===this.buffer.length)return null;const e=this.uc();e<0&&this.cc("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async ac(e){for(;this.buffer.length<e;)await this.hc()&&this.cc("Reached the end of bundle when more is expected.");const t=this.ic.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}cc(e){throw this.sc.cancel(),new Error(`Invalid bundle format: ${e}`)}async hc(){const e=await this.sc.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class km{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ba(qa.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=Va(e),r=Hl(n.k)+"/documents",i={documents:t.map((e=>Bl(n.k,e)))},o=await n.ji("BatchGetDocuments",r,i),s=new Map;o.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){ja(!!t.found),t.found.name,t.found.updateTime;const n=zl(e,t.found.name),r=jl(t.found.updateTime),i=new Vc({mapValue:{fields:t.found.fields}});return Bc.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){ja(!!t.missing),ja(!!t.readTime);const n=zl(e,t.missing),r=jl(t.readTime);return Bc.newNoDocument(n,r)}(e,t):Ua()}(n.k,e);s.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=s.get(e.toString());ja(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new nl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=kc.fromPath(t);this.mutations.push(new rl(n,this.precondition(n)))})),await async function(e,t){const n=Va(e),r=Hl(n.k)+"/documents",i={writes:t.map((e=>Yl(n.k,e)))};await n.Bi("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ua();t=oc.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Ba(qa.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?zu.updateTime(t):zu.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(oc.min()))throw new Ba(qa.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zu.updateTime(t)}return zu.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Sm{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.lc=5,this.ur=new Vf(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){this.ur.Zi((async()=>{const e=new km(this.datastore),t=this.dc(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.wc(e)}))))})).catch((e=>{this.wc(e)}))}))}dc(e){try{const t=this.updateFunction(e);return!Tc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}wc(e){this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget((()=>(this.fc(),Promise.resolve())))):this.deferred.reject(e)}_c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!al(t)}return!1}}class Cm{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Aa.UNAUTHENTICATED,this.clientId=ec.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Ra("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Ra("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ba(qa.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new za;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Tp(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function xm(e,t){e.asyncQueue.verifyOperationInProgress(),Ra("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await tf(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}async function Nm(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Am(e);Ra("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>yp(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>yp(t.remoteStore,n))),e.onlineComponents=t}async function Am(e){return e.offlineComponents||(Ra("FirestoreClient","Using default OfflineComponentProvider"),await xm(e,new vm)),e.offlineComponents}async function Pm(e){return e.onlineComponents||(Ra("FirestoreClient","Using default OnlineComponentProvider"),await Nm(e,new _m)),e.onlineComponents}function Om(e){return Am(e).then((e=>e.persistence))}function Dm(e){return Am(e).then((e=>e.localStore))}function Rm(e){return Pm(e).then((e=>e.remoteStore))}function Lm(e){return Pm(e).then((e=>e.syncEngine))}async function Mm(e){const t=await Pm(e),n=t.eventManager;return n.onListen=$p.bind(null,t.syncEngine),n.onUnlisten=Hp.bind(null,t.syncEngine),n}function Fm(e,t,n={}){const r=new za;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Em({next:o=>{t.enqueueAndForget((()=>Np(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new Ba(qa.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Ba(qa.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new Dp(hu(n.path),o,{includeMetadataChanges:!0,wo:!0});return xp(e,s)}(await Mm(e),e.asyncQueue,t,n,r))),r.promise}function Um(e,t,n={}){const r=new za;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Em({next:n=>{t.enqueueAndForget((()=>Np(e,s))),n.fromCache&&"server"===r.source?i.reject(new Ba(qa.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Dp(n,o,{includeMetadataChanges:!0,wo:!0});return xp(e,s)}(await Mm(e),e.asyncQueue,t,n,r))),r.promise}class jm{constructor(e,t,n,r,i,o,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a}}class Vm{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Vm&&e.projectId===this.projectId&&e.database===this.database}}const qm=new Map;function Bm(e,t,n){if(!n)throw new Ba(qa.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function zm(e,t,n,r){if(!0===t&&!0===r)throw new Ba(qa.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function $m(e){if(!kc.isDocumentKey(e))throw new Ba(qa.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Wm(e){if(kc.isDocumentKey(e))throw new Ba(qa.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Hm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Ua()}function Km(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ba(qa.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hm(e);throw new Ba(qa.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Gm(e,t){if(t<=0)throw new Ba(qa.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class Qm{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ba(qa.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ba(qa.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,zm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ym{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qm({}),this._settingsFrozen=!1,e instanceof Vm?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ba(qa.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vm(e.options.projectId)}(e))}get app(){if(!this._app)throw new Ba(qa.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ba(qa.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qm(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Wa;switch(e.type){case"gapi":const t=e.client;return ja(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Qa(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ba(qa.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=qm.get(e);t&&(Ra("ComponentProvider","Removing Datastore"),qm.delete(e),t.terminate())}(this),Promise.resolve()}}class Jm{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jm(this.firestore,e,this._key)}}class Zm{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Zm(this.firestore,e,this._query)}}class Xm extends Zm{constructor(e,t,n){super(e,t,hu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jm(this.firestore,null,new kc(e))}withConverter(e){return new Xm(this.firestore,e,this._path)}}function eg(e,t,...n){if(e=Pn(e),Bm("collection","path",t),e instanceof Ym){const r=lc.fromString(t,...n);return Wm(r),new Xm(e,null,r)}{if(!(e instanceof Jm||e instanceof Xm))throw new Ba(qa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(lc.fromString(t,...n));return Wm(r),new Xm(e.firestore,null,r)}}function tg(e,t,...n){if(e=Pn(e),1===arguments.length&&(t=ec.A()),Bm("doc","path",t),e instanceof Ym){const r=lc.fromString(t,...n);return $m(r),new Jm(e,null,new kc(r))}{if(!(e instanceof Jm||e instanceof Xm))throw new Ba(qa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(lc.fromString(t,...n));return $m(r),new Jm(e.firestore,e instanceof Xm?e.converter:null,new kc(r))}}function ng(e,t){return e=Pn(e),t=Pn(t),(e instanceof Jm||e instanceof Xm)&&(t instanceof Jm||t instanceof Xm)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function rg(e,t){return e=Pn(e),t=Pn(t),e instanceof Zm&&t instanceof Zm&&e.firestore===t.firestore&&bu(e._query,t._query)&&e.converter===t.converter}class ig{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new Vf(this,"async_queue_retry"),this.bc=()=>{const e=Uf();e&&Ra("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ur.er()};const e=Uf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const t=Uf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise((()=>{}));const t=new za;return this.vc((()=>this.yc&&this.Ac?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.gc.push(e),this.Vc())))}async Vc(){if(0!==this.gc.length){try{await this.gc[0](),this.gc.shift(),this.ur.reset()}catch(e){if(!Vh(e))throw e;Ra("AsyncQueue","Operation failed with retryable error: "+e)}this.gc.length>0&&this.ur.Zi((()=>this.Vc()))}}vc(e){const t=this.mc.then((()=>(this.Ic=!0,e().catch((e=>{this.Ec=e,this.Ic=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw La("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Ic=!1,e))))));return this.mc=t,t}enqueueAfterDelay(e,t,n){this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);const r=_p.createAndSchedule(this,e,t,n,(e=>this.Sc(e)));return this.Tc.push(r),r}Pc(){this.Ec&&Ua()}verifyOperationInProgress(){}async Dc(){let e;do{e=this.mc,await e}while(e!==this.mc)}Cc(e){for(const t of this.Tc)if(t.timerId===e)return!0;return!1}Nc(e){return this.Dc().then((()=>{this.Tc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Dc()}))}kc(e){this.Rc.push(e)}Sc(e){const t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}function og(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class sg{constructor(){this._progressObserver={},this._taskCompletionResolver=new za,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ag extends Ym{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new ig,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||ug(this),this._firestoreClient.terminate()}}function cg(e){return e._firestoreClient||ug(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ug(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new jm(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Cm(e._authCredentials,e._appCheckCredentials,e._queue,r)}function lg(e,t,n){const r=new za;return e.asyncQueue.enqueue((async()=>{try{await xm(e,n),await Nm(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===qa.FAILED_PRECONDITION||e.code===qa.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.reject(e)}})).then((()=>r.promise))}function hg(e){if(e._initialized||e._terminated)throw new Ba(qa.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class dg{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ba(qa.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dc(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fg{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fg(pc.fromBase64String(e))}catch(e){throw new Ba(qa.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new fg(pc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pg{constructor(e){this._methodName=e}}class mg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ba(qa.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ba(qa.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tc(this._lat,e._lat)||tc(this._long,e._long)}}const gg=/^__.*__$/;class yg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Zu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ju(e,this.data,t,this.fieldTransforms)}}class vg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Zu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function wg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ua()}}class bg{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.k=n,this.ignoreUndefinedProperties=r,void 0===i&&this.xc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new bg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.Lc(e),r}Bc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.xc(),r}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return Vg(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(wg(this.$c)&&gg.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class _g{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=n||jf(e)}Qc(e,t,n,r=!1){return new bg({$c:e,methodName:t,jc:n,path:dc.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Tg(e){const t=e._freezeSettings(),n=jf(e._databaseId);return new _g(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Eg(e,t,n,r,i,o={}){const s=e.Qc(o.merge||o.mergeFields?2:0,t,n,i);Mg("Data must be an object, but it was:",s,r);const a=Rg(r,s);let c,u;if(o.merge)c=new fc(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Fg(t,r,n);if(!s.contains(i))throw new Ba(qa.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);qg(e,i)||e.push(i)}c=new fc(e),u=s.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,u=s.fieldTransforms;return new yg(new Vc(a),c,u)}class Ig extends pg{_toFieldTransform(e){if(2!==e.$c)throw 1===e.$c?e.qc(`${this._methodName}() can only appear at the top level of your update data`):e.qc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ig}}function kg(e,t,n){return new bg({$c:3,jc:t.settings.jc,methodName:e._methodName,Fc:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}class Sg extends pg{_toFieldTransform(e){return new qu(e.path,new Du)}isEqual(e){return e instanceof Sg}}class Cg extends pg{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=kg(this,e,!0),n=this.Wc.map((e=>Dg(e,t))),r=new Ru(n);return new qu(e.path,r)}isEqual(e){return this===e}}class xg extends pg{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=kg(this,e,!0),n=this.Wc.map((e=>Dg(e,t))),r=new Mu(n);return new qu(e.path,r)}isEqual(e){return this===e}}class Ng extends pg{constructor(e,t){super(e),this.Gc=t}_toFieldTransform(e){const t=new Uu(e.k,xu(e.k,this.Gc));return new qu(e.path,t)}isEqual(e){return this===e}}function Ag(e,t,n,r){const i=e.Qc(1,t,n);Mg("Data must be an object, but it was:",i,r);const o=[],s=Vc.empty();ac(r,((e,r)=>{const a=jg(t,e,n);r=Pn(r);const c=i.Bc(a);if(r instanceof Ig)o.push(a);else{const e=Dg(r,c);null!=e&&(o.push(a),s.set(a,e))}}));const a=new fc(o);return new vg(s,a,i.fieldTransforms)}function Pg(e,t,n,r,i,o){const s=e.Qc(1,t,n),a=[Fg(t,r,n)],c=[i];if(o.length%2!=0)throw new Ba(qa.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<o.length;e+=2)a.push(Fg(t,o[e])),c.push(o[e+1]);const u=[],l=Vc.empty();for(let e=a.length-1;e>=0;--e)if(!qg(u,a[e])){const t=a[e];let n=c[e];n=Pn(n);const r=s.Bc(t);if(n instanceof Ig)u.push(t);else{const e=Dg(n,r);null!=e&&(u.push(t),l.set(t,e))}}const h=new fc(u);return new vg(l,h,s.fieldTransforms)}function Og(e,t,n,r=!1){return Dg(n,e.Qc(r?4:3,t))}function Dg(e,t){if(Lg(e=Pn(e)))return Mg("Unsupported field value:",t,e),Rg(e,t);if(e instanceof pg)return function(e,t){if(!wg(t.$c))throw t.qc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.qc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.$c)throw t.qc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Dg(i,t.Uc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Pn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return xu(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ic.fromDate(e);return{timestampValue:Ml(t.k,n)}}if(e instanceof ic){const n=new ic(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ml(t.k,n)}}if(e instanceof mg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof fg)return{bytesValue:Fl(t.k,e._byteString)};if(e instanceof Jm){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.qc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Vl(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.qc(`Unsupported field value: ${Hm(e)}`)}(e,t)}function Rg(e,t){const n={};return cc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ac(e,((e,r)=>{const i=Dg(r,t.Mc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Lg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ic||e instanceof mg||e instanceof fg||e instanceof Jm||e instanceof pg)}function Mg(e,t,n){if(!Lg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Hm(n);throw"an object"===r?t.qc(e+" a custom object"):t.qc(e+" "+r)}}function Fg(e,t,n){if((t=Pn(t))instanceof dg)return t._internalPath;if("string"==typeof t)return jg(e,t);throw Vg("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ug=new RegExp("[~\\*/\\[\\]]");function jg(e,t,n){if(t.search(Ug)>=0)throw Vg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new dg(...t.split("."))._internalPath}catch(r){throw Vg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Vg(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Ba(qa.INVALID_ARGUMENT,a+e+c)}function qg(e,t){return e.some((e=>e.isEqual(t)))}class Bg{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Jm(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new zg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($g("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class zg extends Bg{data(){return super.data()}}function $g(e,t){return"string"==typeof t?jg(e,t):t instanceof dg?t._internalPath:t._delegate._internalPath}class Wg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hg extends Bg{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Kg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field($g("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Kg extends Hg{data(e={}){return super.data(e)}}class Gg{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Wg(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Kg(this._firestore,this._userDataWriter,n.key,n,new Wg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ba(qa.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>({type:"added",doc:new Kg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Wg(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++})))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Kg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Wg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Qg(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Qg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ua()}}function Yg(e,t){return e instanceof Hg&&t instanceof Hg?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Gg&&t instanceof Gg&&e._firestore===t._firestore&&rg(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Jg(e){if(fu(e)&&0===e.explicitOrderBy.length)throw new Ba(qa.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zg{}function Xg(e,...t){for(const n of t)e=n._apply(e);return e}class ey extends Zg{constructor(e,t,n){super(),this.zc=e,this.Hc=t,this.Jc=n,this.type="where"}_apply(e){const t=Tg(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Ba(qa.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){ay(s,o);const t=[];for(const n of s)t.push(sy(r,e,n));a={arrayValue:{values:t}}}else a=sy(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ay(s,o),a=Og(n,"where",s,"in"===o||"not-in"===o);const c=Gc.create(i,o,a);return function(e,t){if(t.V()){const n=mu(e);if(null!==n&&!n.isEqual(t.field))throw new Ba(qa.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=pu(e);null!==r&&cy(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Ba(qa.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ba(qa.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,c),c}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new Zm(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new uu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class ty extends Zg{constructor(e,t){super(),this.zc=e,this.Yc=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Ba(qa.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ba(qa.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new ou(t,n);return function(e,t){if(null===pu(e)){const n=mu(e);null!==n&&cy(0,n,t.field)}}(e,r),r}(e._query,this.zc,this.Yc);return new Zm(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new uu(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class ny extends Zg{constructor(e,t,n){super(),this.type=e,this.Xc=t,this.Zc=n}_apply(e){return new Zm(e.firestore,e.converter,wu(e._query,this.Xc,this.Zc))}}class ry extends Zg{constructor(e,t,n){super(),this.type=e,this.ta=t,this.ea=n}_apply(e){const t=oy(e,this.type,this.ta,this.ea);return new Zm(e.firestore,e.converter,function(e,t){return new uu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class iy extends Zg{constructor(e,t,n){super(),this.type=e,this.ta=t,this.ea=n}_apply(e){const t=oy(e,this.type,this.ta,this.ea);return new Zm(e.firestore,e.converter,function(e,t){return new uu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function oy(e,t,n,r){if(n[0]=Pn(n[0]),n[0]instanceof Bg)return function(e,t,n,r,i){if(!r)throw new Ba(qa.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const o=[];for(const n of yu(e))if(n.field.isKeyField())o.push(Dc(t,r.key));else{const e=r.data.field(n.field);if(wc(e))throw new Ba(qa.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=n.field.canonicalString();throw new Ba(qa.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}o.push(e)}return new ru(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Tg(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new Ba(qa.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let o=0;o<i.length;o++){const c=i[o];if(s[o].field.isKeyField()){if("string"!=typeof c)throw new Ba(qa.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof c}`);if(!gu(e)&&-1!==c.indexOf("/"))throw new Ba(qa.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${c}' contains a slash.`);const n=e.path.child(lc.fromString(c));if(!kc.isDocumentKey(n))throw new Ba(qa.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new kc(n);a.push(Dc(t,i))}else{const e=Og(n,r,c);a.push(e)}}return new ru(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function sy(e,t,n){if("string"==typeof(n=Pn(n))){if(""===n)throw new Ba(qa.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gu(t)&&-1!==n.indexOf("/"))throw new Ba(qa.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(lc.fromString(n));if(!kc.isDocumentKey(r))throw new Ba(qa.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Dc(e,new kc(r))}if(n instanceof Jm)return Dc(e,n._key);throw new Ba(qa.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hm(n)}.`)}function ay(e,t){if(!Array.isArray(e)||0===e.length)throw new Ba(qa.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new Ba(qa.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function cy(e,t,n){if(!n.isEqual(t))throw new Ba(qa.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class uy{convertValue(e,t="none"){switch(Sc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ua()}}convertObject(e,t){const n={};return ac(e.fields,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new mg(yc(e.latitude),yc(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=bc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(_c(e));default:return null}}convertTimestamp(e){const t=gc(e);return new ic(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=lc.fromString(e);ja(hh(n));const r=new Vm(n.get(1),n.get(3)),i=new kc(n.popFirst(5));return r.isEqual(t)||La(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function ly(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class hy extends uy{constructor(e){super(),this.firestore=e}convertBytes(e){return new fg(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jm(this.firestore,null,t)}}class dy{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Tg(e)}set(e,t,n){this._verifyNotCommitted();const r=fy(e,this._firestore),i=ly(r.converter,t,n),o=Eg(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,zu.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=fy(e,this._firestore);let o;return o="string"==typeof(t=Pn(t))||t instanceof dg?Pg(this._dataReader,"WriteBatch.update",i._key,t,n,r):Ag(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(o.toMutation(i._key,zu.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=fy(e,this._firestore);return this._mutations=this._mutations.concat(new nl(t._key,zu.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ba(qa.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function fy(e,t){if((e=Pn(e)).firestore!==t)throw new Ba(qa.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function py(e){e=Km(e,Jm);const t=Km(e.firestore,ag);return Fm(cg(t),e._key).then((n=>by(t,e,n)))}class my extends uy{constructor(e){super(),this.firestore=e}convertBytes(e){return new fg(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jm(this.firestore,null,t)}}function gy(e,t,n){e=Km(e,Jm);const r=Km(e.firestore,ag),i=ly(e.converter,t,n);return wy(r,[Eg(Tg(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,zu.none())])}function yy(e,t,n,...r){e=Km(e,Jm);const i=Km(e.firestore,ag),o=Tg(i);let s;return s="string"==typeof(t=Pn(t))||t instanceof dg?Pg(o,"updateDoc",e._key,t,n,r):Ag(o,"updateDoc",e._key,t),wy(i,[s.toMutation(e._key,zu.exists(!0))])}function vy(e,...t){var n,r,i;e=Pn(e);let o={includeMetadataChanges:!1},s=0;"object"!=typeof t[s]||og(t[s])||(o=t[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(og(t[s])){const e=t[s];t[s]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[s+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[s+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let c,u,l;if(e instanceof Jm)u=Km(e.firestore,ag),l=hu(e._key.path),c={next:n=>{t[s]&&t[s](by(u,e,n))},error:t[s+1],complete:t[s+2]};else{const n=Km(e,Zm);u=Km(n.firestore,ag),l=n._query;const r=new my(u);c={next:e=>{t[s]&&t[s](new Gg(u,r,n,e))},error:t[s+1],complete:t[s+2]},Jg(e._query)}return function(e,t,n,r){const i=new Em(r),o=new Dp(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>xp(await Mm(e),o))),()=>{i.nc(),e.asyncQueue.enqueueAndForget((async()=>Np(await Mm(e),o)))}}(cg(u),l,a,c)}function wy(e,t){return function(e,t){const n=new za;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=ym(e);try{const e=await function(e,t){const n=Va(e),r=ic.now(),i=t.reduce(((e,t)=>e.add(t.key)),_l());let o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>n.Wn.vn(e,i).next((i=>{o=i;const s=[];for(const e of t){const t=Gu(e,o.get(e.key));null!=t&&s.push(new Zu(e.key,t,qc(t.value.mapValue),zu.exists(!0)))}return n.An.addMutationBatch(e,r,s,t)})))).then((e=>(e.applyToLocalDocumentSet(o),{batchId:e.batchId,changes:o})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ko[e.currentUser.toKey()];r||(r=new ul(tc)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(r,e.batchId,n),await om(r,e.changes),await cp(r.remoteStore)}catch(e){const t=Tp(e,"Failed to persist write");n.reject(t)}}(await Lm(e),t,n))),n.promise}(cg(e),t)}function by(e,t,n){const r=n.docs.get(t._key),i=new my(e);return new Hg(e,i,t._key,r,new Wg(n.hasPendingWrites,n.fromCache),t.converter)}class _y extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Tg(e)}get(e){const t=fy(e,this._firestore),n=new hy(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Ua();const r=e[0];if(r.isFoundDocument())return new Bg(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Bg(this._firestore,n,t._key,null,t.converter);throw Ua()}))}set(e,t,n){const r=fy(e,this._firestore),i=ly(r.converter,t,n),o=Eg(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n,...r){const i=fy(e,this._firestore);let o;return o="string"==typeof(t=Pn(t))||t instanceof dg?Pg(this._dataReader,"Transaction.update",i._key,t,n,r):Ag(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,o),this}delete(e){const t=fy(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=fy(e,this._firestore),n=new my(this._firestore);return super.get(e).then((e=>new Hg(this._firestore,n,t._key,e._document,new Wg(!1,!1),t.converter)))}}function Ty(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ba("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function Ey(){if("undefined"==typeof Uint8Array)throw new Ba("unimplemented","Uint8Arrays are not available in this environment.")}function Iy(){if("undefined"==typeof atob)throw new Ba("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){!function(e){Pa=e}(or),Xn(new On("firestore",((e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=new ag(r,new Ka(e.getProvider("auth-internal")),new Ja(e.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:t},n),i._setSettings(n),i}),"PUBLIC")),lr(Na,"3.4.4",e),lr(Na,"3.4.4","esm2017")}();class ky{constructor(e){this._delegate=e}static fromBase64String(e){return Iy(),new ky(fg.fromBase64String(e))}static fromUint8Array(e){return Ey(),new ky(fg.fromUint8Array(e))}toBase64(){return Iy(),this._delegate.toBase64()}toUint8Array(){return Ey(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Sy(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class Cy{enableIndexedDbPersistence(e,t){return function(e,t){hg(e=Km(e,ag));const n=cg(e),r=e._freezeSettings(),i=new _m;return lg(n,i,new wm(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){hg(e=Km(e,ag));const t=cg(e),n=e._freezeSettings(),r=new _m;return lg(t,r,new bm(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Ba(qa.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new za;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Fh.Pt())return Promise.resolve();const t=e+"main";await Fh.delete(t)}(Gd(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class xy{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Vm||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Ma("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,r={}){var i;const o=(e=Km(e,Ym))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&Ma("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Aa.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[un(JSON.stringify({alg:"none",type:"JWT"})),un(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Ba(qa.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Aa(o)}e._authCredentials=new Ha(new $a(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Om(e),n=await Rm(e);return t.setNetworkEnabled(!0),function(e){const t=Va(e);return t.Gr.delete(0),Kf(t)}(n)}))}(cg(e=Km(e,ag)))}(this._delegate)}disableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Om(e),n=await Rm(e);return t.setNetworkEnabled(!1),async function(e){const t=Va(e);t.Gr.add(0),await Gf(t),t.Jr.set("Offline")}(n)}))}(cg(e=Km(e,ag)))}(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,zm("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){return function(e){const t=new za;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Va(e);tp(n.remoteStore)||Ra("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Va(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.An.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.jo.get(e)||[];r.push(t),n.jo.set(e,r)}catch(e){const n=Tp(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Lm(e),t))),t.promise}(cg(e=Km(e,ag)))}(this._delegate)}onSnapshotsInSync(e){return function(e,t){return function(e,t){const n=new Em(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Va(e).io.add(t),t.next()}(await Mm(e),n))),()=>{n.nc(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Va(e).io.delete(t)}(await Mm(e),n)))}}(cg(e=Km(e,ag)),og(t)?t:{next:t})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ba("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new By(this,eg(this._delegate,e))}catch(e){throw Ry(e,"collection()","Firestore.collection()")}}doc(e){try{return new Dy(this,tg(this._delegate,e))}catch(e){throw Ry(e,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new jy(this,function(e,t){if(e=Km(e,Ym),Bm("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ba(qa.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Zm(e,null,function(e){return new uu(lc.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw Ry(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t){return function(e,t){const n=new za;return e.asyncQueue.enqueueAndForget((async()=>{const r=await function(e){return Pm(e).then((e=>e.datastore))}(e);new Sm(e.asyncQueue,r,t,n).run()})),n.promise}(cg(e=Km(e,ag)),(n=>t(new _y(e,n))))}(this._delegate,(t=>e(new Ay(this,t))))}batch(){return cg(this._delegate),new Py(new dy(this._delegate,(e=>wy(this._delegate,e))))}loadBundle(e){return function(e,t){const n=cg(e=Km(e,ag)),r=new sg;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new Im(e,t)}(function(e,t){if(e instanceof Uint8Array)return Tm(e,t);if(e instanceof ArrayBuffer)return Tm(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,jf(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Va(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Va(e),r=jl(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Ye.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r));n._updateProgress(Fp(r));const i=new Mp(r,e.localStore,t.k);let o=await t.Ho();for(;o;){const e=await i.yo(o);e&&n._updateProgress(e),o=await t.Ho()}const s=await i.complete();await om(e,s.In,void 0),await function(e,t){const n=Va(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Ye.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(s.progress)}catch(e){Ma("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e)}})(r,t,n).then((()=>{r.sharedClientState.notifyBundleLoaded()}))}(await Lm(e),i,r)}))}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return function(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Va(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Ye.getNamedQuery(e,t)))}(await Dm(e),t)))}(cg(e=Km(e,ag)),t).then((t=>t?new Zm(e,null,t.query):null))}(this._delegate,e).then((e=>e?new jy(this,e):null))}}class Ny extends uy{constructor(e){super(),this.firestore=e}convertBytes(e){return new ky(new fg(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Dy.forKey(t,this.firestore,null)}}class Ay{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ny(e)}get(e){const t=zy(e);return this._delegate.get(t).then((e=>new Fy(this._firestore,new Hg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=zy(e);return n?(Ty("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=zy(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=zy(e);return this._delegate.delete(t),this}}class Py{constructor(e){this._delegate=e}set(e,t,n){const r=zy(e);return n?(Ty("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=zy(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=zy(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Oy{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new Kg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Uy(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Oy.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Oy(e,new Ny(e),t),r.set(t,i)),i}}Oy.INSTANCES=new WeakMap;class Dy{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ny(e)}static forPath(e,t,n){if(e.length%2!=0)throw new Ba("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Dy(t,new Jm(t._delegate,n,new kc(e)))}static forKey(e,t,n){return new Dy(t,new Jm(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new By(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new By(this.firestore,eg(this._delegate,e))}catch(e){throw Ry(e,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Pn(e))instanceof Jm&&ng(this._delegate,e)}set(e,t){t=Ty("DocumentReference.set",t);try{return t?gy(this._delegate,e,t):gy(this._delegate,e)}catch(e){throw Ry(e,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?yy(this._delegate,e):yy(this._delegate,e,t,...n)}catch(e){throw Ry(e,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return wy(Km(e.firestore,ag),[new nl(e._key,zu.none())])}(this._delegate)}onSnapshot(...e){const t=Ly(e),n=My(e,(e=>new Fy(this.firestore,new Hg(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return vy(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=Km(e,Jm);const t=Km(e.firestore,ag),n=cg(t),r=new my(t);return function(e,t){const n=new za;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Va(e);return n.persistence.runTransaction("read document","readonly",(e=>n.Wn.Rn(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Ba(qa.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Tp(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await Dm(e),t,n))),n.promise}(n,e._key).then((n=>new Hg(t,r,e._key,n,new Wg(null!==n&&n.hasLocalMutations,!0),e.converter)))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Km(e,Jm);const t=Km(e.firestore,ag);return Fm(cg(t),e._key,{source:"server"}).then((n=>by(t,e,n)))}(this._delegate):py(this._delegate),t.then((e=>new Fy(this.firestore,new Hg(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new Dy(this.firestore,e?this._delegate.withConverter(Oy.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ry(e,t,n){return e.message=e.message.replace(t,n),e}function Ly(e){for(const t of e)if("object"==typeof t&&!Sy(t))return t;return{}}function My(e,t){var n,r;let i;return i=Sy(e[0])?e[0]:Sy(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Fy{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Dy(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Yg(this._delegate,e._delegate)}}class Uy extends Fy{data(e){const t=this._delegate.data(e);return function(e,t){e||Ua()}(void 0!==t),t}}class jy{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ny(e)}where(e,t,n){try{return new jy(this.firestore,Xg(this._delegate,function(e,t,n){const r=t,i=$g("where",e);return new ey(i,r,n)}(e,t,n)))}catch(e){throw Ry(e,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new jy(this.firestore,Xg(this._delegate,function(e,t="asc"){const n=t,r=$g("orderBy",e);return new ty(r,n)}(e,t)))}catch(e){throw Ry(e,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new jy(this.firestore,Xg(this._delegate,function(e){return Gm("limit",e),new ny("limit",e,"F")}(e)))}catch(e){throw Ry(e,"limit()","Query.limit()")}}limitToLast(e){try{return new jy(this.firestore,Xg(this._delegate,function(e){return Gm("limitToLast",e),new ny("limitToLast",e,"L")}(e)))}catch(e){throw Ry(e,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new jy(this.firestore,Xg(this._delegate,function(...e){return new ry("startAt",e,!0)}(...e)))}catch(e){throw Ry(e,"startAt()","Query.startAt()")}}startAfter(...e){try{return new jy(this.firestore,Xg(this._delegate,function(...e){return new ry("startAfter",e,!1)}(...e)))}catch(e){throw Ry(e,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new jy(this.firestore,Xg(this._delegate,function(...e){return new iy("endBefore",e,!0)}(...e)))}catch(e){throw Ry(e,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new jy(this.firestore,Xg(this._delegate,function(...e){return new iy("endAt",e,!1)}(...e)))}catch(e){throw Ry(e,"endAt()","Query.endAt()")}}isEqual(e){return rg(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=Km(e,Zm);const t=Km(e.firestore,ag),n=cg(t),r=new my(t);return function(e,t){const n=new za;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await cf(e,t,!0),i=new Vp(t,r.zn),o=i.Po(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=Tp(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await Dm(e),t,n))),n.promise}(n,e._query).then((n=>new Gg(t,r,e,n)))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Km(e,Zm);const t=Km(e.firestore,ag),n=cg(t),r=new my(t);return Um(n,e._query,{source:"server"}).then((n=>new Gg(t,r,e,n)))}(this._delegate):function(e){e=Km(e,Zm);const t=Km(e.firestore,ag),n=cg(t),r=new my(t);return Jg(e._query),Um(n,e._query).then((n=>new Gg(t,r,e,n)))}(this._delegate),t.then((e=>new qy(this.firestore,new Gg(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(...e){const t=Ly(e),n=My(e,(e=>new qy(this.firestore,new Gg(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return vy(this._delegate,t,n)}withConverter(e){return new jy(this.firestore,e?this._delegate.withConverter(Oy.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Vy{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Uy(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class qy{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new jy(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new Uy(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new Vy(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new Uy(this._firestore,n))}))}isEqual(e){return Yg(this._delegate,e._delegate)}}class By extends jy{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Dy(this.firestore,e):null}doc(e){try{return new Dy(this.firestore,void 0===e?tg(this._delegate):tg(this._delegate,e))}catch(e){throw Ry(e,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=Km(e.firestore,ag),r=tg(e),i=ly(e.converter,t);return wy(n,[Eg(Tg(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,zu.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new Dy(this.firestore,e)))}isEqual(e){return ng(this._delegate,e._delegate)}withConverter(e){return new By(this.firestore,e?this._delegate.withConverter(Oy.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function zy(e){return Km(e,Jm)}class $y{constructor(...e){this._delegate=new dg(...e)}static documentId(){return new $y(dc.keyField().canonicalString())}isEqual(e){return(e=Pn(e))instanceof dg&&this._delegate._internalPath.isEqual(e._internalPath)}}class Wy{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Sg("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Wy(e)}static delete(){const e=new Ig("deleteField");return e._methodName="FieldValue.delete",new Wy(e)}static arrayUnion(...e){const t=function(...e){return new Cg("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new Wy(t)}static arrayRemove(...e){const t=function(...e){return new xg("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new Wy(t)}static increment(e){const t=function(e){return new Ng("increment",e)}(e);return t._methodName="FieldValue.increment",new Wy(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Hy={Firestore:xy,GeoPoint:mg,Timestamp:ic,Blob:ky,Transaction:Ay,WriteBatch:Py,DocumentReference:Dy,DocumentSnapshot:Fy,Query:jy,QueryDocumentSnapshot:Uy,QuerySnapshot:qy,CollectionReference:By,FieldPath:$y,FieldValue:Wy,setLogLevel:function(e){!function(e){Oa.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};var Ky;function Gy(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(function(e,t){e.INTERNAL.registerComponent(new On("firestore-compat",(e=>((e,t)=>new xy(e,t,new Cy))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate())),"PUBLIC").setServiceProps(Object.assign({},Hy)))})(Ky=yr),Ky.registerVersion("@firebase/firestore-compat","0.1.13"),Object.create,Object.create;const Qy=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Yy=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Jy=new bn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Zy=new Bn("@firebase/auth");function Xy(e,...t){Zy.logLevel<=Fn.ERROR&&Zy.error(`Auth (${or}): ${e}`,...t)}function ev(e,...t){throw iv(e,...t)}function tv(e,...t){return iv(e,...t)}function nv(e,t,n){const r=Object.assign(Object.assign({},Yy()),{[t]:n});return new bn("auth","Firebase",r).create(t,{appName:e.name})}function rv(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ev(e,"argument-error"),nv(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function iv(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Jy.create(e,...t)}function ov(e,t,...n){if(!e)throw iv(t,...n)}function sv(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Xy(t),new Error(t)}function av(e,t){e||sv(t)}const cv=new Map;function uv(e){av(e instanceof Function,"Expected a class definition");let t=cv.get(e);return t?(av(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,cv.set(e,t),t)}function lv(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function hv(){return"http:"===dv()||"https:"===dv()}function dv(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class fv{constructor(e,t){this.shortDelay=e,this.longDelay=t,av(t>e,"Short delay should be less than long delay!"),this.isMobile=fn()||gn()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(hv()||mn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function pv(e,t){av(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class mv{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void sv("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void sv("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void sv("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gv={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},yv=new fv(3e4,6e4);function vv(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function wv(e,t,n,r,i={}){return bv(e,i,(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=kn(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),mv.fetch()(Tv(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function bv(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},gv),t);try{const t=new Ev(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Iv(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Iv(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Iv(e,"email-already-in-use",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw nv(e,a,s);ev(e,a)}}catch(t){if(t instanceof wn)throw t;ev(e,"network-request-failed")}}async function _v(e,t,n,r,i={}){const o=await wv(e,t,n,r,i);return"mfaPendingCredential"in o&&ev(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Tv(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?pv(e.config,i):`${e.config.apiScheme}://${i}`}class Ev{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(tv(this.auth,"network-request-failed"))),yv.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Iv(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=tv(e,t,r);return i.customData._tokenResponse=n,i}function kv(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function Sv(e){return 1e3*Number(e)}function Cv(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Xy("JWT malformed, contained fewer than 3 sections"),null;try{const e=function(e){try{return cn.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return e?JSON.parse(e):(Xy("Failed to decode base64 JWT payload"),null)}catch(e){return Xy("Caught error parsing JWT payload as JSON",e),null}}async function xv(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof wn&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class Nv{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&this.schedule(!0))}this.schedule()}}class Av{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=kv(this.lastLoginAt),this.creationTime=kv(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Pv(e){var t;const n=e.auth,r=await e.getIdToken(),i=await xv(e,async function(e,t){return wv(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));ov(null==i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=Gy(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],a=(c=e.providerData,u=s,[...c.filter((e=>!u.some((t=>t.providerId===e.providerId)))),...u]);var c,u;const l=e.isAnonymous,h=!(e.email&&o.passwordHash||(null==a?void 0:a.length)),d=!!l&&h,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Av(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class Ov{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ov(e.idToken,"internal-error"),ov(void 0!==e.idToken,"internal-error"),ov(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Cv(e);return ov(t,"internal-error"),ov(void 0!==t.exp,"internal-error"),ov(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return ov(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await bv(e,{},(async()=>{const n=kn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Tv(e,r,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",mv.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Ov;return n&&(ov("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(ov("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(ov("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ov,this.toJSON())}_performRefresh(){return sv("not implemented")}}function Dv(e,t){ov("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Rv{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Gy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Nv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.metadata=new Av(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await xv(this,this.stsTokenManager.getToken(this.auth,e));return ov(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=Pn(e),r=await n.getIdToken(t),i=Cv(r);ov(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:kv(Sv(i.auth_time)),issuedAtTime:kv(Sv(i.iat)),expirationTime:kv(Sv(i.exp)),signInProvider:s||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Pn(e);await Pv(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(ov(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Rv(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){ov(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Pv(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await xv(this,async function(e,t){return wv(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,c,u;const l=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:T}=t;ov(v&&T,e,"internal-error");const E=Ov.fromJSON(this.name,T);ov("string"==typeof v,e,"internal-error"),Dv(l,e.name),Dv(h,e.name),ov("boolean"==typeof w,e,"internal-error"),ov("boolean"==typeof b,e,"internal-error"),Dv(d,e.name),Dv(f,e.name),Dv(p,e.name),Dv(m,e.name),Dv(g,e.name),Dv(y,e.name);const I=new Rv({uid:v,auth:e,email:h,emailVerified:w,displayName:l,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(I.providerData=_.map((e=>Object.assign({},e)))),m&&(I._redirectEventId=m),I}static async _fromIdTokenResponse(e,t,n=!1){const r=new Ov;r.updateFromServerResponse(t);const i=new Rv({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Pv(i),i}}class Lv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Lv.type="NONE";const Mv=Lv;function Fv(e,t,n){return`firebase:${e}:${t}:${n}`}class Uv{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Fv(this.userKey,r.apiKey,i),this.fullPersistenceKey=Fv("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Rv._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Uv(uv(Mv),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||uv(Mv);const o=Fv(n,e.config.apiKey,e.name);let s=null;for(const n of t)try{const t=await n._get(o);if(t){const r=Rv._fromJSON(e,t);n!==i&&(s=r),i=n;break}}catch(e){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(e){}}))),new Uv(i,e,n)):new Uv(i,e,n)}}function jv(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(zv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Vv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Wv(t))return"Blackberry";if(Hv(t))return"Webos";if(qv(t))return"Safari";if((t.includes("chrome/")||Bv(t))&&!t.includes("edge/"))return"Chrome";if($v(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function Vv(e=dn()){return/firefox\//i.test(e)}function qv(e=dn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Bv(e=dn()){return/crios\//i.test(e)}function zv(e=dn()){return/iemobile/i.test(e)}function $v(e=dn()){return/android/i.test(e)}function Wv(e=dn()){return/blackberry/i.test(e)}function Hv(e=dn()){return/webos/i.test(e)}function Kv(e=dn()){return/iphone|ipad|ipod/i.test(e)}function Gv(e=dn()){return Kv(e)||$v(e)||Hv(e)||Wv(e)||/windows phone/i.test(e)||zv(e)}function Qv(e,t=[]){let n;switch(e){case"Browser":n=jv(dn());break;case"Worker":n=`${jv(dn())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${or}/${r}`}class Yv{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zv(this),this.idTokenSubscription=new Zv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Jy,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=uv(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Uv.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e):void 0}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null==n?void 0:n._redirectEventId,o=await this.tryRedirectSignIn(e);r&&r!==i||!(null==o?void 0:o.user)||(n=o.user)}return n?n._redirectEventId?(ov(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Pv(e)}catch(e){if("auth/network-request-failed"!==e.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Pn(e):null;return t&&ov(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&ov(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(uv(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&uv(e)||this._popupRedirectResolver;ov(t,this,"argument-error"),this.redirectPersistenceManager=await Uv.create(this,[uv(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ov(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ov(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};return this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId),e}}function Jv(e){return Pn(e)}class Zv{constructor(e){this.auth=e,this.observer=null,this.addObserver=xn((e=>this.observer=e))}get next(){return ov(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Xv(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ew(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class tw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return sv("not implemented")}_getIdTokenResponse(e){return sv("not implemented")}_linkToIdToken(e,t){return sv("not implemented")}_getReauthenticationResolver(e){return sv("not implemented")}}async function nw(e,t){return wv(e,"POST","/v1/accounts:resetPassword",vv(e,t))}async function rw(e,t){return wv(e,"POST","/v1/accounts:update",t)}async function iw(e,t){return wv(e,"POST","/v1/accounts:sendOobCode",vv(e,t))}class ow extends tw{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ow(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new ow(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return _v(e,"POST","/v1/accounts:signInWithPassword",vv(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return _v(e,"POST","/v1/accounts:signInWithEmailLink",vv(e,t))}(e,{email:this._email,oobCode:this._password});default:ev(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return rw(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return _v(e,"POST","/v1/accounts:signInWithEmailLink",vv(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ev(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function sw(e,t){return _v(e,"POST","/v1/accounts:signInWithIdp",vv(e,t))}class aw extends tw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new aw(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ev("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Gy(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new aw(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return sw(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,sw(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,sw(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=kn(t)}return e}}const cw={USER_NOT_FOUND:"user-not-found"};class uw extends tw{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new uw({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new uw({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return _v(e,"POST","/v1/accounts:signInWithPhoneNumber",vv(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await _v(e,"POST","/v1/accounts:signInWithPhoneNumber",vv(e,t));if(n.temporaryProof)throw Iv(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return _v(e,"POST","/v1/accounts:signInWithPhoneNumber",vv(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),cw)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new uw({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class lw{constructor(e){var t,n,r,i,o,s;const a=Sn(Cn(e)),c=null!==(t=a.apiKey)&&void 0!==t?t:null,u=null!==(n=a.oobCode)&&void 0!==n?n:null,l=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);ov(c&&u&&l,"argument-error"),this.apiKey=c,this.operation=l,this.code=u,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Sn(Cn(e)).link,n=t?Sn(Cn(t)).deep_link_id:null,r=Sn(Cn(e)).deep_link_id;return(r?Sn(Cn(r)).link:null)||r||n||t||e}(e);try{return new lw(t)}catch(e){return null}}}class hw{constructor(){this.providerId=hw.PROVIDER_ID}static credential(e,t){return ow._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=lw.parseLink(t);return ov(n,"argument-error"),ow._fromEmailAndCode(e,n.code,n.tenantId)}}hw.PROVIDER_ID="password",hw.EMAIL_PASSWORD_SIGN_IN_METHOD="password",hw.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class dw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class fw extends dw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class pw extends fw{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return ov("providerId"in t&&"signInMethod"in t,"argument-error"),aw._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ov(e.idToken||e.accessToken,"argument-error"),aw._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return pw.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return pw.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:o,providerId:s}=e;if(!(n||r||t||i))return null;if(!s)return null;try{return new pw(s)._credential({idToken:t,accessToken:n,nonce:o,pendingToken:i})}catch(e){return null}}}class mw extends fw{constructor(){super("facebook.com")}static credential(e){return aw._fromParams({providerId:mw.PROVIDER_ID,signInMethod:mw.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mw.credentialFromTaggedObject(e)}static credentialFromError(e){return mw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return mw.credential(e.oauthAccessToken)}catch(e){return null}}}mw.FACEBOOK_SIGN_IN_METHOD="facebook.com",mw.PROVIDER_ID="facebook.com";class gw extends fw{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return aw._fromParams({providerId:gw.PROVIDER_ID,signInMethod:gw.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return gw.credentialFromTaggedObject(e)}static credentialFromError(e){return gw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return gw.credential(t,n)}catch(e){return null}}}gw.GOOGLE_SIGN_IN_METHOD="google.com",gw.PROVIDER_ID="google.com";class yw extends fw{constructor(){super("github.com")}static credential(e){return aw._fromParams({providerId:yw.PROVIDER_ID,signInMethod:yw.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yw.credentialFromTaggedObject(e)}static credentialFromError(e){return yw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return yw.credential(e.oauthAccessToken)}catch(e){return null}}}yw.GITHUB_SIGN_IN_METHOD="github.com",yw.PROVIDER_ID="github.com";class vw extends tw{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return sw(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,sw(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,sw(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new vw(n,i):null}static _create(e,t){return new vw(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ww extends dw{constructor(e){ov(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return ww.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return ww.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=vw.fromJSON(e);return ov(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return vw._create(n,t)}catch(e){return null}}}class bw extends fw{constructor(){super("twitter.com")}static credential(e,t){return aw._fromParams({providerId:bw.PROVIDER_ID,signInMethod:bw.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return bw.credentialFromTaggedObject(e)}static credentialFromError(e){return bw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return bw.credential(t,n)}catch(e){return null}}}async function _w(e,t){return _v(e,"POST","/v1/accounts:signUp",vv(e,t))}bw.TWITTER_SIGN_IN_METHOD="twitter.com",bw.PROVIDER_ID="twitter.com";class Tw{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await Rv._fromIdTokenResponse(e,n,r),o=Ew(n);return new Tw({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ew(n);return new Tw({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ew(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Iw extends wn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Iw.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Iw(e,t,n,r)}}function kw(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Iw._fromErrorAndOperation(e,n,t,r);throw n}))}function Sw(e){return new Set(e.map((({providerId:e})=>e)).filter((e=>!!e)))}async function Cw(e,t,n=!1){const r=await xv(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Tw._forOperation(e,"link",r)}async function xw(e,t,n){await Pv(t);const r=!1===e?"provider-already-linked":"no-such-provider";ov(Sw(t.providerData).has(n)===e,t.auth,r)}async function Nw(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await xv(e,kw(r,i,t,e),n);ov(o.idToken,r,"internal-error");const s=Cv(o.idToken);ov(s,r,"internal-error");const{sub:a}=s;return ov(e.uid===a,r,"user-mismatch"),Tw._forOperation(e,i,o)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&ev(r,"user-mismatch"),e}}async function Aw(e,t,n=!1){const r="signIn",i=await kw(e,r,t),o=await Tw._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Pw(e,t){return Aw(Jv(e),t)}async function Ow(e,t){const n=Pn(e);return await xw(!1,n,t.providerId),Cw(n,t)}async function Dw(e,t){return Nw(Pn(e),t)}class Rw{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Lw._fromServerResponse(e,t):ev(e,"internal-error")}}class Lw extends Rw{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Lw(t)}}function Mw(e,t,n){var r;ov((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ov(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ov(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ov(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Fw(e,t){const n=Pn(e),r=await nw(n,{oobCode:t}),i=r.requestType;switch(ov(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ov(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ov(r.mfaInfo,n,"internal-error");default:ov(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Rw._fromServerResponse(Jv(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function Uw(e,t,n){const r=Jv(e),i=await _w(r,{returnSecureToken:!0,email:t,password:n}),o=await Tw._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(o.user),o}function jw(e,t,n){return Pw(Pn(e),hw.credential(t,n))}async function Vw(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await xv(e,rw(r,i));await e._updateTokensIfNecessary(o,!0)}class qw{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class Bw extends qw{constructor(e,t,n,r){super(e,t,n),this.username=r}}class zw extends qw{constructor(e,t){super(e,"facebook.com",t)}}class $w extends Bw{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class Ww extends qw{constructor(e,t){super(e,"google.com",t)}}class Hw extends Bw{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Kw(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=Cv(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new qw(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new zw(o,i);case"github.com":return new $w(o,i);case"google.com":return new Ww(o,i);case"twitter.com":return new Hw(o,i,e.screenName||null);case"custom":case"anonymous":return new qw(o,null);default:return new qw(o,r,i)}}(n)}class Gw{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new Gw("enroll",e)}static _fromMfaPendingCredential(e){return new Gw("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Gw._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Gw._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Qw{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Jv(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Rw._fromServerResponse(n,e)));ov(r.mfaPendingCredential,n,"internal-error");const o=Gw._fromMfaPendingCredential(r.mfaPendingCredential);return new Qw(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Tw._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return ov(t.user,n,"internal-error"),Tw._forOperation(t.user,t.operationType,s);default:ev(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class Yw{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Rw._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Yw(e)}async getSession(){return Gw._fromIdtoken(await this.user.getIdToken())}async enroll(e,t){const n=e,r=await this.getSession(),i=await xv(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"==typeof e?e:e.uid,n=await this.user.getIdToken(),r=await xv(this.user,function(e,t){return wv(e,"POST","/v2/accounts/mfaEnrollment:withdraw",vv(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((({uid:e})=>e!==t)),await this.user._updateTokensIfNecessary(r);try{await this.user.reload()}catch(e){if("auth/user-token-expired"!==e.code)throw e}}}const Jw=new WeakMap,Zw="__sak";class Xw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Zw,"1"),this.storage.removeItem(Zw),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class eb extends Xw{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=dn();return qv(e)||Kv(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Gv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);yn()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}eb.type="LOCAL";const tb=eb;class nb extends Xw{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}nb.type="SESSION";const rb=nb;class ib{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new ib(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ob(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}ib.receivers=[];class sb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const c=ob("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function ab(){return window}function cb(){return void 0!==ab().WorkerGlobalScope&&"function"==typeof ab().importScripts}const ub="firebaseLocalStorageDb",lb="firebaseLocalStorage",hb="fbase_key";class db{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function fb(e,t){return e.transaction([lb],t?"readwrite":"readonly").objectStore(lb)}function pb(){const e=indexedDB.open(ub,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(lb,{keyPath:hb})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(lb)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ub);return new db(e).toPromise()}(),t(await pb()))}))}))}async function mb(e,t,n){const r=fb(e,!0).put({[hb]:t,value:n});return new db(r).toPromise()}function gb(e,t){const n=fb(e,!0).delete(t);return new db(n).toPromise()}class yb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await pb()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ib._getInstance(cb()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new sb(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pb();return await mb(e,Zw,"1"),await gb(e,Zw),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>mb(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=fb(e,!1).get(t),r=await new db(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>gb(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=fb(e,!1).getAll();return new db(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}yb.type="LOCAL";const vb=yb;function wb(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=tv("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function bb(e){return`__${e}${Math.floor(1e6*Math.random())}`}const _b=1e12;class Tb{constructor(e){this.auth=e,this.counter=_b,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Eb(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||_b;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||_b;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||_b;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Eb{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;ov(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let e=0;e<50;e++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(e){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(e){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ib=bb("rcb"),kb=new fv(3e4,6e4);class Sb{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!ab().grecaptcha}load(e,t=""){return ov(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(ab().grecaptcha):new Promise(((n,r)=>{const i=ab().setTimeout((()=>{r(tv(e,"network-request-failed"))}),kb.get());ab()[Ib]=()=>{ab().clearTimeout(i),delete ab()[Ib];const o=ab().grecaptcha;if(!o)return void r(tv(e,"internal-error"));const s=o.render;o.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(o)},wb(`https://www.google.com/recaptcha/api.js??${kn({onload:Ib,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(i),r(tv(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!ab().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Cb{async load(e){return new Tb(e)}clearedOneInstance(){}}const xb="recaptcha",Nb={theme:"light",type:"image"};class Ab{constructor(e,t=Object.assign({},Nb),n){this.parameters=t,this.type=xb,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Jv(n),this.isInvisible="invisible"===this.parameters.size,ov("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;ov(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Cb:new Sb,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha();return t.getResponse(e)||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){ov(!this.parameters.sitekey,this.auth,"argument-error"),ov(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ov("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"==typeof e)e(t);else if("string"==typeof e){const n=ab()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){ov(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ov(hv()&&!cb(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await wv(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);ov(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ov(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Pb{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=uw._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Ob(e,t,n){var r;const i=await n.verify();try{let o;if(ov("string"==typeof i,e,"argument-error"),ov(n.type===xb,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){ov("enroll"===t.type,e,"internal-error");const n=await function(e,t){return wv(e,"POST","/v2/accounts/mfaEnrollment:start",vv(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{ov("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;ov(n,e,"missing-multi-factor-info");const s=await function(e,t){return wv(e,"POST","/v2/accounts/mfaSignIn:start",vv(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return wv(e,"POST","/v1/accounts:sendVerificationCode",vv(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Db{constructor(e){this.providerId=Db.PROVIDER_ID,this.auth=Jv(e)}verifyPhoneNumber(e,t){return Ob(this.auth,e,Pn(t))}static credential(e,t){return uw._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Db.credentialFromTaggedObject(t)}static credentialFromError(e){return Db.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?uw._fromTokenResponse(t,n):null}}function Rb(e,t){return t?uv(t):(ov(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Db.PROVIDER_ID="phone",Db.PHONE_SIGN_IN_METHOD="phone";class Lb extends tw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sw(e,this._buildIdpRequest())}_linkToIdToken(e,t){return sw(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return sw(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Mb(e){return Aw(e.auth,new Lb(e),e.bypassAuthState)}function Fb(e){const{auth:t,user:n}=e;return ov(n,t,"internal-error"),Nw(n,new Lb(e),e.bypassAuthState)}async function Ub(e){const{auth:t,user:n}=e;return ov(n,t,"internal-error"),Cw(n,new Lb(e),e.bypassAuthState)}class jb{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Mb;case"linkViaPopup":case"linkViaRedirect":return Ub;case"reauthViaPopup":case"reauthViaRedirect":return Fb;default:ev(this.auth,"internal-error")}}resolve(e){av(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){av(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vb=new fv(2e3,1e4);async function qb(e,t,n){const r=Jv(e);rv(e,t,dw);const i=Rb(r,n);return new Bb(r,"signInViaPopup",t,i).executeNotNull()}class Bb extends jb{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Bb.currentPopupAction&&Bb.currentPopupAction.cancel(),Bb.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ov(e,this.auth,"internal-error"),e}async onExecution(){av(1===this.filter.length,"Popup operations only handle one event");const e=ob();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(tv(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(tv(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bb.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(tv(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,Vb.get())};e()}}Bb.currentPopupAction=null;const zb=new Map;class $b extends jb{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=zb.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Kb(t),r=Hb(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}zb.set(this.auth._key(),e)}return this.bypassAuthState||zb.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Wb(e,t){return Hb(e)._set(Kb(t),"true")}function Hb(e){return uv(e._redirectPersistence)}function Kb(e){return Fv("pendingRedirect",e.config.apiKey,e.name)}async function Gb(e,t,n=!1){const r=Jv(e),i=Rb(r,t),o=new $b(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function Qb(e){const t=ob(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Yb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zb(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Zb(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(tv(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jb(e))}saveEventToCache(e){this.cachedEventUids.add(Jb(e)),this.lastProcessedEventTime=Date.now()}}function Jb(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Zb({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}async function Xb(e,t={}){return wv(e,"GET","/v1/projects",t)}const e_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t_=/^https?/;function n_(e){const t=lv(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!t_.test(n))return!1;if(e_.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const r_=new fv(3e4,6e4);function i_(){const e=ab().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let o_=null;function s_(e){return o_=o_||function(e){return new Promise(((t,n)=>{var r,i,o;function s(){i_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{i_(),n(tv(e,"network-request-failed"))},timeout:r_.get()})}if(null===(i=null===(r=ab().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=ab().gapi)||void 0===o?void 0:o.load)){const t=bb("iframefcb");return ab()[t]=()=>{gapi.load?s():n(tv(e,"network-request-failed"))},wb(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw o_=null,e}))}(e),o_}const a_=new fv(5e3,15e3),c_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function l_(e){const t=e.config;ov(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?pv(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:or},i=u_.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${kn(r).slice(1)}`}const h_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class d_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function f_(e,t,n,r,i,o){ov(e.config.authDomain,e,"auth-domain-config-required"),ov(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:or,eventId:i};if(t instanceof dw){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof fw){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const e of Object.keys(a))void 0===a[e]&&delete a[e];return`${function({config:e}){return e.emulator?pv(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${kn(a).slice(1)}`}const p_="webStorageSupport",m_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rb,this._completeRedirectFn=Gb}async _openPopup(e,t,n,r){var i;return av(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},h_),{width:r.toString(),height:i.toString(),top:o,left:s}),u=dn().toLowerCase();n&&(a=Bv(u)?"_blank":n),Vv(u)&&(t=t||"http://localhost",c.scrollbars="yes");const l=Object.entries(c).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=dn()){var t;return Kv(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new d_(null);const h=window.open(t||"",a,l);ov(h,e,"popup-blocked");try{h.focus()}catch(e){}return new d_(h)}(e,f_(e,t,n,lv(),r),ob())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=f_(e,t,n,lv(),r),ab().location.href=i,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(av(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await s_(e),n=ab().gapi;return ov(n,e,"internal-error"),t.open({where:document.body,url:l_(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c_,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=tv(e,"network-request-failed"),o=ab().setTimeout((()=>{r(i)}),a_.get());function s(){ab().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}(e),n=new Yb(e);return t.register("authEvent",(t=>(ov(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(p_,{type:p_},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),ev(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Xb(e);for(const e of t)try{if(n_(e))return}catch(e){}ev(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Gv()||qv()||Kv()}};class g_ extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return sv("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new g_(e)}_finalizeEnroll(e,t,n){return function(e,t){return wv(e,"POST","/v2/accounts/mfaEnrollment:finalize",vv(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return wv(e,"POST","/v2/accounts/mfaSignIn:finalize",vv(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class y_{constructor(){}static assertion(e){return g_._fromCredential(e)}}y_.FACTOR_ID="phone";var v_,w_="@firebase/auth",b_="0.19.7";class __{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ov(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function T_(e=ar()){const t=er(e,"auth");return t.isInitialized()?t.getImmediate():function(e,t){const n=er(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(En(n.getOptions(),null!=t?t:{}))return e;ev(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:m_,persistence:[vb,tb,rb]})}function E_(){return window}v_="Browser",Xn(new On("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{ov(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),ov(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:v_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qv(v_)},o=new Yv(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(uv);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(o,t),o})(n)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Xn(new On("auth-internal",(e=>(e=>new __(e))(Jv(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),lr(w_,b_,void 0),lr(w_,b_,"esm2017");class I_ extends Yb{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function k_(e){const t=await C_()._get(x_(e));return t&&await C_()._remove(x_(e)),t}function S_(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function C_(){return uv(tb)}function x_(e){return Fv("authEvent",e.config.apiKey,e.name)}function N_(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Sn(n.join("?"))}function A_(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:tv("no-auth-event")}}function P_(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function O_(e=dn()){return!("file:"!==P_()&&"ionic:"!==P_()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function D_(){try{const e=self.localStorage,t=ob();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=dn()){return yn()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=dn()){return/Edge\/\d+/.test(e)}(e)}()||vn()}catch(e){return R_()&&vn()}return!1}function R_(){return void 0!==n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function L_(){return("http:"===P_()||"https:"===P_()||mn()||O_())&&!(gn()||pn())&&D_()&&!R_()}function M_(){return O_()&&"undefined"!=typeof document}const F_={LOCAL:"local",NONE:"none",SESSION:"session"},U_=ov,j_="persistence";async function V_(e){await e._initializationPromise;const t=q_(),n=Fv(j_,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function q_(){var e;try{return(null===(e="undefined"!=typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(e){return null}}const B_=ov;class z_{constructor(){this.browserResolver=uv(m_),this.cordovaResolver=uv(class{constructor(){this._redirectPersistence=rb,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Gb}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new I_(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){ev(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,s,a,c,u,l;const h=E_();ov("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ov(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ov("function"==typeof(null===(o=null===(i=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ov("function"==typeof(null===(c=null===(a=null===(s=null==h?void 0:h.cordova)||void 0===s?void 0:s.plugins)||void 0===a?void 0:a.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ov("function"==typeof(null===(l=null===(u=null==h?void 0:h.cordova)||void 0===u?void 0:u.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),zb.clear(),await this._originValidation(e);const o=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:S_(),postBody:null,tenantId:e.tenantId,error:tv(e,"no-auth-event")}}(e,n,r);await function(e,t){return C_()._set(x_(e),t)}(e,o);const s=await async function(e,t,n){var r;const{BuildInfo:i}=E_();av(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(av(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),s={};return Kv()?s.ibi=i.packageName:$v()?s.apn=i.packageName:ev(e,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,f_(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,s)}(e,o,t);return async function(e,t,n){const{cordova:r}=E_();let i=()=>{};try{await new Promise(((o,s)=>{let a=null;function c(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function u(){a||(a=window.setTimeout((()=>{s(tv(e,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&u()}t.addPassiveListener(c),document.addEventListener("resume",u,!1),$v()&&document.addEventListener("visibilitychange",l,!1),i=()=>{t.removePassiveListener(c),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",l,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await function(e){const{cordova:t}=E_();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=dn()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}(s))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=E_(),n={};Kv()?n.iosBundleId=t.packageName:$v()?n.androidPackageName=t.packageName:ev(e,"operation-not-supported-in-this-environment"),await Xb(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=E_(),o=setTimeout((async()=>{await k_(e),t.onEvent(A_())}),500),s=async n=>{clearTimeout(o);const r=await k_(e);let i=null;r&&(null==n?void 0:n.url)&&(i=function(e,t){var n,r;const i=function(e){const t=N_(e),n=t.link?decodeURIComponent(t.link):void 0,r=N_(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return N_(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=N_(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(e){return null}}(decodeURIComponent(t.firebaseError)):null,s=null===(r=null===(n=null==o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=s?tv(s):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),t.onEvent(i||A_())};void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,s);const a=r,c=`${i.packageName.toLowerCase()}://`;E_().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(c)&&s({url:e}),"function"==typeof a)try{a(e)}catch(e){console.error(e)}}}}),this.underlyingResolver=null,this._redirectPersistence=rb,this._completeRedirectFn=Gb}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return M_()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return B_(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!M_()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function $_(e){return e.unwrap()}function W_(e){const{_tokenResponse:t}=e instanceof wn?e.customData:e;if(!t)return null;if(!(e instanceof wn)&&"temporaryProof"in t&&"phoneNumber"in t)return Db.credentialFromResult(e);const n=t.providerId;if(!n||"password"===n)return null;let r;switch(n){case"google.com":r=gw;break;case"facebook.com":r=mw;break;case"github.com":r=yw;break;case"twitter.com":r=bw;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:a}=t;return i||o||e||s?s?n.startsWith("saml.")?vw._create(n,s):aw._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:e,accessToken:i}):new pw(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof wn?r.credentialFromError(e):r.credentialFromResult(e)}function H_(e,t){return t.catch((t=>{throw t instanceof wn&&function(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new G_(e,function(e,t){var n;const r=Pn(e),i=t;return ov(t.customData.operationType,r,"argument-error"),ov(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Qw._fromError(r,i)}(e,t));else if(r){const e=W_(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,W_(r)),additionalUserInfo:Kw(e),user:Q_.getOrCreate(n)};var r}))}async function K_(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>H_(e,n.confirm(t))}}class G_{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return H_($_(this.auth),this.resolver.resolveSignIn(e))}}class Q_{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=Pn(e);return Jw.has(t)||Jw.set(t,Yw._fromUser(t)),Jw.get(t)}(e)}static getOrCreate(e){return Q_.USER_MAP.has(e)||Q_.USER_MAP.set(e,new Q_(e)),Q_.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return H_(this.auth,Ow(this._delegate,e))}async linkWithPhoneNumber(e,t){return K_(this.auth,async function(e,t,n){const r=Pn(e);await xw(!1,r,"phone");const i=await Ob(r.auth,t,Pn(n));return new Pb(i,(e=>Ow(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return H_(this.auth,async function(e,t,n){const r=Pn(e);rv(r.auth,t,dw);const i=Rb(r.auth,n);return new Bb(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,z_))}async linkWithRedirect(e){return await V_(Jv(this.auth)),function(e,t,n){return async function(e,t,n){const r=Pn(e);rv(r.auth,t,dw);const i=Rb(r.auth,n);await xw(!1,r,t.providerId),await Wb(i,r.auth);const o=await Qb(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}(this._delegate,e,z_)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return H_(this.auth,Dw(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return K_(this.auth,async function(e,t,n){const r=Pn(e),i=await Ob(r.auth,t,Pn(n));return new Pb(i,(e=>Dw(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return H_(this.auth,async function(e,t,n){const r=Pn(e);rv(r.auth,t,dw);const i=Rb(r.auth,n);return new Bb(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,z_))}async reauthenticateWithRedirect(e){return await V_(Jv(this.auth)),function(e,t,n){return async function(e,t,n){const r=Pn(e);rv(r.auth,t,dw);const i=Rb(r.auth,n);await Wb(i,r.auth);const o=await Qb(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}(this._delegate,e,z_)}sendEmailVerification(e){return async function(e,t){const n=Pn(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Mw(n.auth,r,t);const{email:i}=await async function(e,t){return iw(e,t)}(n.auth,r);i!==e.email&&await e.reload()}(this._delegate,e)}async unlink(e){return await async function(e,t){const n=Pn(e);await xw(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return wv(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Sw(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}(this._delegate,e),this}updateEmail(e){return function(e,t){return Vw(Pn(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Vw(Pn(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Cw(Pn(e),t)}(this._delegate,e)}updateProfile(e){return async function(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=Pn(e),i={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=await xv(r,async function(e,t){return wv(e,"POST","/v1/accounts:update",t)}(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const s=r.providerData.find((({providerId:e})=>"password"===e));s&&(s.displayName=r.displayName,s.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return async function(e,t,n){const r=Pn(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Mw(r.auth,i,n);const{email:o}=await async function(e,t){return iw(e,t)}(r.auth,i);o!==e.email&&await e.reload()}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Q_.USER_MAP=new WeakMap;const Y_=ov;class J_{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Y_(n,"invalid-api-key",{appName:e.name}),Y_(n,"invalid-api-key",{appName:e.name});const r="undefined"!=typeof window?z_:void 0;this._delegate=t.initialize({options:{persistence:X_(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Qy),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Q_.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,n){const r=Jv(e);ov(r._canInitEmulator,r,"emulator-config-failed"),ov(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),o=Xv(t),{host:s,port:a}=function(e){const t=Xv(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:ew(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ew(t)}}}(t),c=null===a?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(this._delegate,e,t)}applyActionCode(e){return async function(e,t){await async function(e,t){return wv(e,"POST","/v1/accounts:update",vv(e,t))}(Pn(e),{oobCode:t})}(this._delegate,e)}checkActionCode(e){return Fw(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await nw(Pn(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return H_(this._delegate,Uw(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return async function(e,t){const n={identifier:t,continueUri:hv()?lv():"http://localhost"},{signinMethods:r}=await async function(e,t){return wv(e,"POST","/v1/accounts:createAuthUri",vv(e,t))}(Pn(e),n);return r||[]}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=lw.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){Y_(L_(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await Jv(e)._initializationPromise,Gb(e,t,!1)}(this._delegate,z_);return e?H_(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){Jv(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=Z_(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=Z_(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=Pn(e),i={requestType:"EMAIL_SIGNIN",email:t};ov(n.handleCodeInApp,r,"argument-error"),n&&Mw(r,i,n),await async function(e,t){return iw(e,t)}(r,i)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=Pn(e),i={requestType:"PASSWORD_RESET",email:t};n&&Mw(r,i,n),await async function(e,t){return iw(e,t)}(r,i)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){U_(Object.values(F_).includes(t),e,"invalid-persistence-type"),gn()?U_(t!==F_.SESSION,e,"unsupported-persistence-type"):pn()?U_(t===F_.NONE,e,"unsupported-persistence-type"):R_()?U_(t===F_.NONE||t===F_.LOCAL&&vn(),e,"unsupported-persistence-type"):U_(t===F_.NONE||D_(),e,"unsupported-persistence-type")}(this._delegate,e),e){case F_.SESSION:t=rb;break;case F_.LOCAL:t=await uv(vb)._isAvailable()?vb:tb;break;case F_.NONE:t=Mv;break;default:return ev("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return H_(this._delegate,async function(e){var t;const n=Jv(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Tw({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await _w(n,{returnSecureToken:!0}),i=await Tw._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return H_(this._delegate,Pw(this._delegate,e))}signInWithCustomToken(e){return H_(this._delegate,async function(e,t){const n=Jv(e),r=await async function(e,t){return _v(e,"POST","/v1/accounts:signInWithCustomToken",vv(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Tw._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}(this._delegate,e))}signInWithEmailAndPassword(e,t){return H_(this._delegate,jw(this._delegate,e,t))}signInWithEmailLink(e,t){return H_(this._delegate,async function(e,t,n){const r=Pn(e),i=hw.credentialWithLink(t,n||lv());return ov(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Pw(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return K_(this._delegate,async function(e,t,n){const r=Jv(e),i=await Ob(r,t,Pn(n));return new Pb(i,(e=>Pw(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return Y_(L_(),this._delegate,"operation-not-supported-in-this-environment"),H_(this._delegate,qb(this._delegate,e,z_))}async signInWithRedirect(e){return Y_(L_(),this._delegate,"operation-not-supported-in-this-environment"),await V_(this._delegate),function(e,t,n){return async function(e,t,n){const r=Jv(e);rv(e,t,dw);const i=Rb(r,n);return await Wb(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}(this._delegate,e,z_)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Fw(Pn(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function Z_(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Q_.getOrCreate(e)),error:t,complete:n}}function X_(e,t){const n=function(e,t){const n=q_();if(!n)return[];const r=Fv(j_,e,t);switch(n.getItem(r)){case F_.NONE:return[Mv];case F_.LOCAL:return[vb,rb];case F_.SESSION:return[rb];default:return[]}}(e,t);if("undefined"==typeof self||n.includes(vb)||n.push(vb),"undefined"!=typeof window)for(const e of[tb,rb])n.includes(e)||n.push(e);return n.includes(Mv)||n.push(Mv),n}J_.Persistence=F_;class eT{constructor(){this.providerId="phone",this._delegate=new Db($_(yr.auth()))}static credential(e,t){return Db.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}eT.PHONE_SIGN_IN_METHOD=Db.PHONE_SIGN_IN_METHOD,eT.PROVIDER_ID=Db.PROVIDER_ID;const tT=ov;class nT{constructor(e,t,n=yr.app()){var r;tT(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Ab(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}function rT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rT(Object(n),!0).forEach((function(t){qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.INTERNAL.registerComponent(new On("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new J_(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:hw,FacebookAuthProvider:mw,GithubAuthProvider:yw,GoogleAuthProvider:gw,OAuthProvider:pw,SAMLAuthProvider:ww,PhoneAuthProvider:eT,PhoneMultiFactorGenerator:y_,RecaptchaVerifier:nT,TwitterAuthProvider:bw,Auth:J_,AuthCredential:tw,Error:wn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.7")}(yr),lr("firebase","9.6.5","app"),sr({apiKey:"AIzaSyBl8W9RrVdHfGHeOUabv3YhyTtpLgsaEh8",authDomain:"photoshop-7452d.firebaseapp.com",projectId:"photoshop-7452d",storageBucket:"photoshop-7452d.appspot.com",messagingSenderId:"426997386559",appId:"1:426997386559:web:9b791f81887d1876a9d78a",measurementId:"G-SSLTY6JCHK"});var oT=new gw;oT.setCustomParameters({prompt:"select_account"});var sT=function(e=ar()){return er(e,"firestore").getImmediate()}(),aT=T_(),cT=function(){qb(aT,oT).catch((function(e){var t=e.code,n=e.message,r=e.email,i=gw.credentialFromError(e);console.log({errorCode:t,errorMessage:n,email:r,credential:i})}))},uT=function(){var e=Pe(ze().mark((function e(t,n){var r,i,o,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r=tg(sT,"users/".concat(t.uid)),e.next=5,py(r);case 5:if(e.sent.exists()){e.next=17;break}return i=t.displayName,o=t.email,s=new Date,e.prev=9,e.next=12,gy(r,iT({displayName:i,email:o,createdAt:s},n));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log("error creating user",e.t0.message);case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t,n){return e.apply(this,arguments)}}(),lT=function(e){return e.cart},hT=(0,lt.createSelector)([lT],(function(e){return e.cartItems})),dT=(0,lt.createSelector)([lT],(function(e){return e.hidden})),fT=(0,lt.createSelector)([hT],(function(e){return e.reduce((function(e,t){return e+t.quantity*t.price}),0)})),pT=(0,lt.createSelector)([hT],(function(e){return e.reduce((function(e,t){return e+t.quantity}),0)})),mT=n(5582),gT={};gT.styleTagTransform=tt(),gT.setAttributes=Je(),gT.insert=Qe().bind(null,"head"),gT.domAPI=Ke(),gT.insertStyleElement=Xe(),We()(mT.Z,gT),mT.Z&&mT.Z.locals&&mT.Z.locals;const yT=xe((0,lt.createStructuredSelector)({itemCount:pT}),(function(e){return{toggleCartHidden:function(){return e(Nt())}}}))((function(e){var t=e.toggleCartHidden,n=e.itemCount;return r().createElement("div",{className:"cart-icon",onClick:t},r().createElement(sn,{className:"shopping-icon"}),r().createElement("span",{className:"item-count"},n))}));var vT=n(4971),wT={};wT.styleTagTransform=tt(),wT.setAttributes=Je(),wT.insert=Qe().bind(null,"head"),wT.domAPI=Ke(),wT.insertStyleElement=Xe(),We()(vT.Z,wT),vT.Z&&vT.Z.locals&&vT.Z.locals;var bT=n(7732),_T={};_T.styleTagTransform=tt(),_T.setAttributes=Je(),_T.insert=Qe().bind(null,"head"),_T.domAPI=Ke(),_T.insertStyleElement=Xe(),We()(bT.Z,_T),bT.Z&&bT.Z.locals&&bT.Z.locals;const TT=function(e){var t=e.item,n=t.imageUrl,i=t.price,o=t.name,s=t.quantity;return r().createElement("div",{className:"cart-item"},r().createElement("img",{src:n,alt:"item"}),r().createElement("div",{className:"item-details"},r().createElement("span",{className:"name"},o),r().createElement("span",{className:"price"},s," x $",i)))},ET=xe((0,lt.createStructuredSelector)({cartItems:hT}))((function(e){var t=e.cartItems,n=e.dispatch,i=I();return r().createElement("div",{className:"cart-dropdown"},r().createElement("div",{className:"cart-items"},t.length?t.map((function(e){return r().createElement(TT,{key:e.id,item:e})})):r().createElement("span",{className:"empty-message"},"Your cart is empty")),r().createElement(It,{onClick:function(){i("/checkout"),n(Nt())}},"GO TO CHECKOUT"))}));var IT=(0,lt.createSelector)([function(e){return e.user}],(function(e){return e.currentUser}));const kT=xe((0,lt.createStructuredSelector)({currentUser:IT,hidden:dT}))((function(e){var t=e.currentUser,n=e.hidden;return r().createElement("div",{className:"header"},r().createElement(z,{className:"logo-container",to:"/"},r().createElement(on,{className:"logo"})),r().createElement("div",{className:"options"},r().createElement(z,{className:"option",to:"/shop"},"SHOP"),r().createElement(z,{className:"option",to:"/contact"},"CONTACT"),t?r().createElement("div",{className:"option",onClick:function(){return aT.signOut()}},"SIGN OUT"):r().createElement(z,{className:"option",to:"/signin"},"SIGN IN"),r().createElement(yT,null)),n?null:r().createElement(ET,null))}));var ST=n(6176),CT={};CT.styleTagTransform=tt(),CT.setAttributes=Je(),CT.insert=Qe().bind(null,"head"),CT.domAPI=Ke(),CT.insertStyleElement=Xe(),We()(ST.Z,CT),ST.Z&&ST.Z.locals&&ST.Z.locals;var xT=n(8110),NT={};NT.styleTagTransform=tt(),NT.setAttributes=Je(),NT.insert=Qe().bind(null,"head"),NT.domAPI=Ke(),NT.insertStyleElement=Xe(),We()(xT.Z,NT),xT.Z&&xT.Z.locals&&xT.Z.locals;const AT=function(e){return r().createElement("div",{className:"group"},r().createElement("input",s({className:"form-input",onChange:e.handleChange},e)),e.label?r().createElement("label",{className:"".concat(e.value.length?"shrink":""," form-input-label")},e.label):null)};var PT=function(e){Fe(o,e);var t,n,i=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Ve(t);if(n){var i=Ve(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return je(this,e)});function o(e){var t;return Oe(this,o),qe(Le(t=i.call(this,e)),"handleSubmit",function(){var e=Pe(ze().mark((function e(n){var r,i,o,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=t.state,i=r.email,o=r.password,e.prev=2,s=T_(),e.next=6,jw(s,i,o);case 6:t.setState({email:"",password:""}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()),qe(Le(t),"handleChange",(function(e){var n=e.target,r=n.value,i=n.name;t.setState(qe({},i,r))})),t.state={email:"",password:""},t}return Re(o,[{key:"render",value:function(){return r().createElement("div",{className:"sign-in"},r().createElement("h2",null,"SIGN IN"),r().createElement("form",{onSubmit:this.handleSubmit},r().createElement(AT,{name:"email",type:"email",value:this.state.email,handleChange:this.handleChange,label:"email",required:!0}),r().createElement(AT,{name:"password",type:"password",value:this.state.password,handleChange:this.handleChange,label:"password",required:!0}),r().createElement("div",{className:"buttons"},r().createElement(It,{type:"submit"},"Sign In"),r().createElement(It,{type:"button",onClick:cT,isGoogleSignIn:!0},"Sign In With Google"))))}}]),o}(r().Component);const OT=PT;var DT=n(9787),RT={};RT.styleTagTransform=tt(),RT.setAttributes=Je(),RT.insert=Qe().bind(null,"head"),RT.domAPI=Ke(),RT.insertStyleElement=Xe(),We()(DT.Z,RT),DT.Z&&DT.Z.locals&&DT.Z.locals;const LT=function(e){Fe(o,e);var t,n,i=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Ve(t);if(n){var i=Ve(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return je(this,e)});function o(){var e;return Oe(this,o),qe(Le(e=i.call(this)),"handleSubmit",function(){var t=Pe(ze().mark((function t(n){var r,i,o,s,a,c,u,l;return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r=e.state,i=r.displayName,o=r.email,s=r.password,a=r.confirmPassword,s===a){t.next=5;break}return alert("passwords don't match"),t.abrupt("return");case 5:return t.prev=5,c=T_(),t.next=9,Uw(c,o,s);case 9:return u=t.sent,l=u.user,t.next=13,uT(l,{displayName:i});case 13:e.setState({displayName:"",email:"",password:"",confirmPassword:""}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(5),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[5,16]])})));return function(e){return t.apply(this,arguments)}}()),qe(Le(e),"handleChange",(function(t){var n=t.target,r=n.name,i=n.value;e.setState(qe({},r,i))})),e.state={displayName:"",email:"",password:"",confirmPassword:""},e}return Re(o,[{key:"render",value:function(){var e=this.state,t=e.displayName,n=e.email,i=e.password,o=e.confirmPassword;return r().createElement("div",{className:"sign-up"},r().createElement("h2",{className:"title"},"CREATE AN ACCOUNT"),r().createElement("form",{className:"sign-up-form",onSubmit:this.handleSubmit},r().createElement(AT,{type:"text",name:"displayName",value:t,onChange:this.handleChange,label:"Display Name",required:!0}),r().createElement(AT,{type:"email",name:"email",value:n,onChange:this.handleChange,label:"Email",required:!0}),r().createElement(AT,{type:"password",name:"password",value:i,onChange:this.handleChange,label:"Password",required:!0}),r().createElement(AT,{type:"password",name:"confirmPassword",value:o,onChange:this.handleChange,label:"Confirm Password",required:!0}),r().createElement(It,{type:"submit"},"SIGN UP")))}}]),o}(r().Component);var MT=n(7484),FT={};FT.styleTagTransform=tt(),FT.setAttributes=Je(),FT.insert=Qe().bind(null,"head"),FT.domAPI=Ke(),FT.insertStyleElement=Xe(),We()(MT.Z,FT),MT.Z&&MT.Z.locals&&MT.Z.locals;const UT=function(){return r().createElement("div",{className:"sign-in-and-sign-up"},r().createElement(OT,null),r().createElement(LT,null))};var jT="SET_CURRENT_USER",VT=n(6141),qT={};qT.styleTagTransform=tt(),qT.setAttributes=Je(),qT.insert=Qe().bind(null,"head"),qT.domAPI=Ke(),qT.insertStyleElement=Xe(),We()(VT.Z,qT),VT.Z&&VT.Z.locals&&VT.Z.locals;const BT=xe(null,(function(e){return{clearItem:function(t){return e(function(e){return{type:xt,payload:e}}(t))},addItem:function(t){return e(At(t))},removeItem:function(t){return e(function(e){return{type:Ct,payload:e}}(t))}}}))((function(e){var t=e.cartItem,n=e.clearItem,i=e.addItem,o=e.removeItem,s=t.name,a=t.imageUrl,c=t.price,u=t.quantity;return r().createElement("div",{className:"checkout-item"},r().createElement("div",{className:"image-container"},r().createElement("img",{src:a,alt:"item"})),r().createElement("span",{className:"name"},s),r().createElement("span",{className:"quantity"},r().createElement("div",{className:"arrow",onClick:function(){return o(t)}},"❮"),r().createElement("span",{className:"value"},u),r().createElement("div",{className:"arrow",onClick:function(){return i(t)}},"❯")),r().createElement("span",{className:"price"},"$",c),r().createElement("div",{className:"remove-button",onClick:function(){return n(t)}},"✕"))}));var zT=n(2052);const $T=function(e){var t=e.price,n=100*t;return r().createElement(zT.Z,{label:"Pay Now",name:"Photo Shop LLC",billingAddress:!0,shippingAddress:!0,description:"Your total is $".concat(t),amount:n,panelLabel:"Pay Now",token:function(e){alert("Payment Successful")},stripeKey:"pk_test_51HBtEJLHsr0LAgoetpM65MvJiNYTm9AUuUIuw03MixwlKxTWPkGQzzwyj4Z7C33R1Tl1wN5zkSImAGrW6WIvkbbR00VZeqBfDy"})};var WT=n(7760),HT={};HT.styleTagTransform=tt(),HT.setAttributes=Je(),HT.insert=Qe().bind(null,"head"),HT.domAPI=Ke(),HT.insertStyleElement=Xe(),We()(WT.Z,HT),WT.Z&&WT.Z.locals&&WT.Z.locals;const KT=xe((0,lt.createStructuredSelector)({cartItems:hT,total:fT}))((function(e){var t=e.cartItems,n=e.total;return r().createElement("div",{className:"checkout-page"},r().createElement("div",{className:"checkout-header"},r().createElement("div",{className:"header-block"},r().createElement("span",null,"Product")),r().createElement("div",{className:"header-block"},r().createElement("span",null,"Description")),r().createElement("div",{className:"header-block"},r().createElement("span",null,"Quantity")),r().createElement("div",{className:"header-block"},r().createElement("span",null,"Price")),r().createElement("div",{className:"header-block"},r().createElement("span",null,"Remove"))),t.map((function(e){return r().createElement(BT,{key:e.id,cartItem:e})})),r().createElement("div",{className:"total"},r().createElement("span",null,"Total: $",n)),r().createElement("div",{className:"test-warning"},"*Please use the following test credit card for payment*",r().createElement("br",null),"4242 4242 4242 4242 - Exp: 01/23 - CVV: 123"),r().createElement($T,{price:n}))}));function GT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GT(Object(n),!0).forEach((function(t){qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var YT=function(e){Fe(o,e);var t,n,i=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Ve(t);if(n){var i=Ve(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return je(this,e)});function o(){var e;Oe(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return qe(Le(e=i.call.apply(i,[this].concat(n))),"unsubscribeFromAuth",null),e}return Re(o,[{key:"componentDidMount",value:function(){var e=this.props.setCurrentUser;this.unsubscribeFromAuth=aT.onAuthStateChanged(function(){var t=Pe(ze().mark((function t(n){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=7;break}return t.next=3,uT(n);case 3:vy(t.sent,(function(t){e(QT({id:t.id},t.data()))})),t.next=8;break;case 7:e(n);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.unsubscribeFromAuth()}},{key:"render",value:function(){return r().createElement("div",null,r().createElement(kT,null),r().createElement(_,null,r().createElement(w,{exact:!0,path:"/",element:r().createElement(pt,null)}),r().createElement(w,{path:"/shop/*",element:r().createElement(Kt,null)}),r().createElement(w,{exact:!0,path:"/checkout",element:r().createElement(KT,null)}),r().createElement(w,{path:"/signin",element:this.props.currentUser?r().createElement(y,{replace:!0,to:"/"}):r().createElement(UT,null)})))}}]),o}(r().Component);const JT=xe((0,lt.createStructuredSelector)({currentUser:IT}),(function(e){return{setCurrentUser:function(t){return e(function(e){return{type:jT,payload:e}}(t))}}}))(YT);function ZT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZT(Object(n),!0).forEach((function(t){qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eE(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var tE="function"==typeof Symbol&&Symbol.observable||"@@observable",nE=function(){return Math.random().toString(36).substring(7).split("").join(".")},rE={INIT:"@@redux/INIT"+nE(),REPLACE:"@@redux/REPLACE"+nE(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+nE()}};function iE(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function oE(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(eE(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(eE(1));return n(oE)(e,t)}if("function"!=typeof e)throw new Error(eE(2));var i=e,o=t,s=[],a=s,c=!1;function u(){a===s&&(a=s.slice())}function l(){if(c)throw new Error(eE(3));return o}function h(e){if("function"!=typeof e)throw new Error(eE(4));if(c)throw new Error(eE(5));var t=!0;return u(),a.push(e),function(){if(t){if(c)throw new Error(eE(6));t=!1,u();var n=a.indexOf(e);a.splice(n,1),s=null}}}function d(e){if(!iE(e))throw new Error(eE(7));if(void 0===e.type)throw new Error(eE(8));if(c)throw new Error(eE(9));try{c=!0,o=i(o,e)}finally{c=!1}for(var t=s=a,n=0;n<t.length;n++)(0,t[n])();return e}function f(e){if("function"!=typeof e)throw new Error(eE(10));i=e,d({type:rE.REPLACE})}function p(){var e,t=h;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(eE(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[tE]=function(){return this},e}return d({type:rE.INIT}),(r={dispatch:d,subscribe:h,getState:l,replaceReducer:f})[tE]=p,r}function sE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var aE="persist:",cE="persist/FLUSH",uE="persist/REHYDRATE",lE="persist/PAUSE",hE="persist/PERSIST",dE="persist/PURGE",fE="persist/REGISTER";function pE(e){return pE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pE(e)}function mE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yE(e,t,n,r){r.debug;var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mE(n,!0).forEach((function(t){gE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mE(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);return e&&"object"===pE(e)&&Object.keys(e).forEach((function(r){"_persist"!==r&&t[r]===n[r]&&(i[r]=e[r])})),i}function vE(e){return JSON.stringify(e)}function wE(e){var t,n=e.transforms||[],r="".concat(void 0!==e.keyPrefix?e.keyPrefix:aE).concat(e.key),i=e.storage;return e.debug,t=!1===e.deserialize?function(e){return e}:"function"==typeof e.deserialize?e.deserialize:bE,i.getItem(r).then((function(e){if(e)try{var r={},i=t(e);return Object.keys(i).forEach((function(e){r[e]=n.reduceRight((function(t,n){return n.out(t,e,i)}),t(i[e]))})),r}catch(e){throw e}}))}function bE(e){return JSON.parse(e)}function _E(e){}function TE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TE(n,!0).forEach((function(t){IE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TE(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function IE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kE(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function SE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SE(n,!0).forEach((function(t){xE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SE(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var NE={registry:[],bootstrapped:!1},AE=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fE:return CE({},e,{registry:[].concat(kE(e.registry),[t.key])});case uE:var n=e.registry.indexOf(t.key),r=kE(e.registry);return r.splice(n,1),CE({},e,{registry:r,bootstrapped:0===r.length});default:return e}},PE=n(4500),OE=n.n(PE),DE=n(6734);function RE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RE(Object(n),!0).forEach((function(t){qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ME={currentUser:null};function FE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UE(Object(n),!0).forEach((function(t){qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var VE=function(e,t){return e.find((function(e){return e.id===t.id}))?e.map((function(e){return e.id===t.id?jE(jE({},e),{},{quantity:e.quantity+1}):e})):[].concat(function(e){if(Array.isArray(e))return FE(e)}(n=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return FE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?FE(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[jE(jE({},t),{},{quantity:1})]);var n},qE=function(e,t){return 1===e.find((function(e){return e.id===t.id})).quantity?e.filter((function(e){return e.id!==t.id})):e.map((function(e){return e.id===t.id?jE(jE({},e),{},{quantity:e.quantity-1}):e}))};function BE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BE(Object(n),!0).forEach((function(t){qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $E={hidden:!0,cartItems:[]};const WE=n.p+"42b57a03d20dff7a14ffe10d83cd74ff.jpg";n.p;var HE={sections:[{title:"Fine Art Prints",imageUrl:WE,id:1,size:"large",linkUrl:"/shop/fineartprints"}]};var KE={collections:{fineartprints:{id:1,title:"Fine Art Prints",routeName:"fineartprints",items:[{id:1,name:"New York",imageUrl:WE,price:300}]}}};var GE={key:"root",storage:DE.Z,whitelist:["cart"]},QE=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var o,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:rE.INIT}))throw new Error(eE(12));if(void 0===n(void 0,{type:rE.PROBE_UNKNOWN_ACTION()}))throw new Error(eE(13))}))}(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},a=0;a<s.length;a++){var c=s[a],u=n[c],l=e[c],h=u(l,t);if(void 0===h)throw t&&t.type,new Error(eE(14));i[c]=h,r=r||h!==l}return(r=r||s.length!==Object.keys(e).length)?i:e}}({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ME,t=arguments.length>1?arguments[1]:void 0;return t.type===jT?LE(LE({},e),{},{currentUser:t.payload}):e},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kt:return zE(zE({},e),{},{hidden:!e.hidden});case St:return zE(zE({},e),{},{cartItems:VE(e.cartItems,t.payload)});case Ct:return zE(zE({},e),{},{cartItems:qE(e.cartItems,t.payload)});case xt:return zE(zE({},e),{},{cartItems:e.cartItems.filter((function(e){return e.id!==t.payload.id}))});default:return e}},directory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:HE,t=arguments.length>1?arguments[1]:void 0;return t.type,e},shop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:KE,t=arguments.length>1?arguments[1]:void 0;return t.type,e}});const YE=(ZE=QE,XE=void 0!==(JE=GE).version?JE.version:-1,eI=void 0===JE.stateReconciler?yE:JE.stateReconciler,tI=JE.getStoredState||wE,nI=void 0!==JE.timeout?JE.timeout:5e3,rI=null,iI=!1,oI=!0,sI=function(e){return e._persist.rehydrated&&rI&&!oI&&rI.update(e),e},function(e,t){var n=e||{},r=n._persist,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(n,["_persist"]);if(t.type===hE){var o=!1,s=function(e,n){o||(t.rehydrate(JE.key,e,n),o=!0)};if(nI&&setTimeout((function(){!o&&s(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(JE.key,'"')))}),nI),oI=!1,rI||(rI=function(e){var t,n=e.blacklist||null,r=e.whitelist||null,i=e.transforms||[],o=e.throttle||0,s="".concat(void 0!==e.keyPrefix?e.keyPrefix:aE).concat(e.key),a=e.storage;t=!1===e.serialize?function(e){return e}:"function"==typeof e.serialize?e.serialize:vE;var c=e.writeFailHandler||null,u={},l={},h=[],d=null,f=null;function p(){if(0===h.length)return d&&clearInterval(d),void(d=null);var e=h.shift(),n=i.reduce((function(t,n){return n.in(t,e,u)}),u[e]);if(void 0!==n)try{l[e]=t(n)}catch(e){console.error("redux-persist/createPersistoid: error serializing state",e)}else delete l[e];0===h.length&&(Object.keys(l).forEach((function(e){void 0===u[e]&&delete l[e]})),f=a.setItem(s,t(l)).catch(g))}function m(e){return!(r&&-1===r.indexOf(e)&&"_persist"!==e||n&&-1!==n.indexOf(e))}function g(e){c&&c(e)}return{update:function(e){Object.keys(e).forEach((function(t){m(t)&&u[t]!==e[t]&&-1===h.indexOf(t)&&h.push(t)})),Object.keys(u).forEach((function(t){void 0===e[t]&&m(t)&&-1===h.indexOf(t)&&void 0!==u[t]&&h.push(t)})),null===d&&(d=setInterval(p,o)),u=e},flush:function(){for(;0!==h.length;)p();return f||Promise.resolve()}}}(JE)),r)return EE({},ZE(i,t),{_persist:r});if("function"!=typeof t.rehydrate||"function"!=typeof t.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return t.register(JE.key),tI(JE).then((function(e){(JE.migrate||function(e,t){return Promise.resolve(e)})(e,XE).then((function(e){s(e)}),(function(e){s(void 0,e)}))}),(function(e){s(void 0,e)})),EE({},ZE(i,t),{_persist:{version:XE,rehydrated:!1}})}if(t.type===dE)return iI=!0,t.result(function(e){var t=e.storage,n="".concat(void 0!==e.keyPrefix?e.keyPrefix:aE).concat(e.key);return t.removeItem(n,_E)}(JE)),EE({},ZE(i,t),{_persist:r});if(t.type===cE)return t.result(rI&&rI.flush()),EE({},ZE(i,t),{_persist:r});if(t.type===lE)oI=!0;else if(t.type===uE){if(iI)return EE({},i,{_persist:EE({},r,{rehydrated:!0})});if(t.key===JE.key){var a=ZE(i,t),c=t.payload,u=EE({},!1!==eI&&void 0!==c?eI(c,e,a,JE):a,{_persist:EE({},r,{rehydrated:!0})});return sI(u)}}if(!r)return ZE(e,t);var l=ZE(i,t);return l===i?e:sI(EE({},l,{_persist:r}))});var JE,ZE,XE,eI,tI,nI,rI,iI,oI,sI,aI=[OE()],cI=oE(YE,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(eE(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=sE.apply(void 0,o)(n.dispatch),XT(XT({},n),{},{dispatch:r})}}}.apply(void 0,aI)),uI=function(e,t,n){var r=!1,i=oE(AE,NE,void 0),o=function(e){i.dispatch({type:fE,key:e})},s=function(t,n,o){var s={type:uE,payload:n,err:o,key:t};e.dispatch(s),i.dispatch(s),r&&a.getState().bootstrapped&&(r(),r=!1)},a=CE({},i,{purge:function(){var t=[];return e.dispatch({type:dE,result:function(e){t.push(e)}}),Promise.all(t)},flush:function(){var t=[];return e.dispatch({type:cE,result:function(e){t.push(e)}}),Promise.all(t)},pause:function(){e.dispatch({type:lE})},persist:function(){e.dispatch({type:hE,register:o,rehydrate:s})}});return a.persist(),a}(cI);function lI(e){return lI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lI(e)}function hI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fI(e,t){return!t||"object"!==lI(t)&&"function"!=typeof t?mI(e):t}function pI(e){return pI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pI(e)}function mI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gI(e,t){return gI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},gI(e,t)}function yI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vI=function(e){function t(){var e,n;hI(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return yI(mI(n=fI(this,(e=pI(t)).call.apply(e,[this].concat(i)))),"state",{bootstrapped:!1}),yI(mI(n),"_unsubscribe",void 0),yI(mI(n),"handlePersistorState",(function(){n.props.persistor.getState().bootstrapped&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally((function(){return n.setState({bootstrapped:!0})})):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())})),n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gI(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"==typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}])&&dI(n.prototype,r),t}(t.PureComponent);yI(vI,"defaultProps",{children:null,loading:null}),o().render(r().createElement(Y,{store:cI},r().createElement(B,null,r().createElement(vI,{persistor:uI},r().createElement(JT,null)))),document.getElementById("root"))})()})();